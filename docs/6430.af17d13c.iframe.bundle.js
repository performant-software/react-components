/*! For license information please see 6430.af17d13c.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_performant_software_storybook=self.webpackChunk_performant_software_storybook||[]).push([[6430],{"../semantic-ui/build/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}!function(){"use strict";var e,t={923:function _(e,t,n){n.r(t),n.d(t,{AccordionDataList:function AccordionDataList(){return Ge},AccordionList:function AccordionList(){return rt},AccordionSelector:function AccordionSelector(){return vt},ArrowButtons:function ArrowButtons(){return Et},AssociatedDropdown:function AssociatedDropdown(){return re},AudioPlayer:function AudioPlayer(){return wt},BatchEdit:function BatchEdit(){return hl},BibliographyForm:function BibliographyForm(){return Jt},BibliographyList:function BibliographyList(){return jn},BibliographySearchInput:function BibliographySearchInput(){return an},BooleanIcon:function BooleanIcon(){return kn},Breadcrumbs:function Breadcrumbs(){return Dn},CancelButton:function CancelButton(){return Tn},ColorButton:function ColorButton(){return Mn},ColorPickerModal:function ColorPickerModal(){return Hn},CurrentFacetLabels:function CurrentFacetLabels(){return Vn},CurrentFacets:function CurrentFacets(){return Yn},CurrentFacetsModal:function CurrentFacetsModal(){return $n},DataTable:function DataTable(){return Cr},DataView:function DataView(){return Qr},DatabaseView:function DatabaseView(){return io},DateInput:function DateInput(){return oe},DatePicker:function DatePicker(){return so},DescriptorField:function DescriptorField(){return po},DownloadButton:function DownloadButton(){return yo},Draggable:function Draggable(){return nr},DropdownButton:function DropdownButton(){return V},DropdownMenu:function DropdownMenu(){return xr},EditModal:function EditModal(){return K},EditPage:function EditPage(){return ko},EmbeddedList:function EmbeddedList(){return _o},Facet:function Facet(){return Go},FacetClearButton:function FacetClearButton(){return $o},FacetList:function FacetList(){return ni},FacetSlider:function FacetSlider(){return ci},FacetToggle:function FacetToggle(){return fi},FileInputButton:function FileInputButton(){return yi},FileUpload:function FileUpload(){return Oi},FileUploadModal:function FileUploadModal(){return Xi},FilterOperatorOptions:function FilterOperatorOptions(){return Ce},FilterOperators:function FilterOperators(){return Oe},FilterTypes:function FilterTypes(){return we},FuzzyDate:function FuzzyDate(){return be},GoogleMap:function GoogleMap(){return na},GooglePlacesSearch:function GooglePlacesSearch(){return oa},HorizontalCards:function HorizontalCards(){return ua},IIIFModal:function IIIFModal(){return fa},ImageCarousel:function ImageCarousel(){return da},ItemCollection:function ItemCollection(){return Ka},ItemList:function ItemList(){return Za},ItemViews:function ItemViews(){return ja},Items:function Items(){return Ba},KeyValuePairs:function KeyValuePairs(){return vl},KeyboardField:function KeyboardField(){return ul},LazyAudio:function LazyAudio(){return jl},LazyDocument:function LazyDocument(){return Tl},LazyIIIF:function LazyIIIF(){return rc},LazyImage:function LazyImage(){return zl},LazyMedia:function LazyMedia(){return ec},LazyVideo:function LazyVideo(){return Kl},LinkButton:function LinkButton(){return Ko},LinkLabel:function LinkLabel(){return el},ListFilters:function ListFilters(){return ke},ListLoader:function ListLoader(){return oc},ListTable:function ListTable(){return Jr},LoginModal:function LoginModal(){return lc},MasonryGrid:function MasonryGrid(){return pc},MediaGallery:function MediaGallery(){return bc},MediaGrid:function MediaGrid(){return gc},MediaList:function MediaList(){return Ec},MenuBar:function MenuBar(){return Br},MenuSidebar:function MenuSidebar(){return Fr},ModalContext:function ModalContext(){return ie},ModalDropdown:function ModalDropdown(){return Ac},NestedAccordion:function NestedAccordion(){return b},PhotoViewer:function PhotoViewer(){return Nl},PlayButton:function PlayButton(){return dc},RemoteDropdown:function RemoteDropdown(){return _c},SORT_ASCENDING:function SORT_ASCENDING(){return z},SORT_DESCENDING:function SORT_DESCENDING(){return _},SaveButton:function SaveButton(){return ho},SearchBox:function SearchBox(){return Vc},SearchPagination:function SearchPagination(){return Kc},SearchResults:function SearchResults(){return Yc},SearchResultsPerPage:function SearchResultsPerPage(){return Xc},SearchResultsSort:function SearchResultsSort(){return Zc},SearchStats:function SearchStats(){return tu},Section:function Section(){return ru},Selectize:function Selectize(){return fu},SelectizeHeader:function SelectizeHeader(){return ot},SelectizeImageHeader:function SelectizeImageHeader(){return bu},SimpleEditPage:function SimpleEditPage(){return wu},StyleSelector:function StyleSelector(){return mn},TabbedModal:function TabbedModal(){return Mu},TabsMenu:function TabsMenu(){return Nu},TagsList:function TagsList(){return Bu},Thumbnail:function Thumbnail(){return Hu},Toaster:function Toaster(){return I},VideoFrameSelector:function VideoFrameSelector(){return Ku},VideoPlayer:function VideoPlayer(){return Hl},VideoPlayerButton:function VideoPlayerButton(){return yc},ViewXML:function ViewXML(){return Zu},useDataList:function useDataList(){return U},useList:function useList(){return Re}});var r=__webpack_require__("../../node_modules/react/index.js"),o=n.n(r),i=__webpack_require__("../../node_modules/underscore/modules/index-all.js"),a=n.n(i),l=__webpack_require__("../../node_modules/semantic-ui-react/dist/es/index.js");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return u="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},u(e)}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:String(t)}function p(e,t,n){return t=d(t),function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function m(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,t,[e])).state={activeItems:[]},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function value(e){if(e.defaultActive!==this.props.defaultActive&&this.props.defaultActive&&this.props.defaultActive.length){var t=this.props.defaultActive.some((function(e){return"object"!==u(e)||!a().has(e,"id")||!a().has(e,"type")}));this.props.multipleItemTypes&&!t?this.setState({activeItems:this.props.defaultActive}):this.setState({activeItems:a().map(this.props.defaultActive,(function(e){return{id:e}}))})}}},{key:"getButtonClass",value:function value(e){var t=["accordion-button"];return this.props.showToggle&&!this.props.showToggle(e)&&t.push("hidden"),t.join(" ")}},{key:"isActive",value:function value(e){var t={id:e.id};return this.props.multipleItemTypes&&a().has(e,"type")&&(t={id:e.id,type:e.type}),!!a().findWhere(this.state.activeItems,t)}},{key:"isItemActive",value:function value(e){return this.props.isItemActive&&this.props.isItemActive(e)}},{key:"onItemClick",value:function value(e){this.props.toggleOnClick&&this.onItemToggle(e),this.props.onItemClick&&this.props.onItemClick(e)}},{key:"onItemToggle",value:function value(e){this.props.onItemToggle&&this.props.onItemToggle(e),this.toggleItem(e)}},{key:"render",value:function value(){return o().createElement(l.Accordion,{className:"nested-accordion",fluid:!0,inverted:this.props.inverted,panels:a().map(this.props.rootItems,this.renderPanel.bind(this)),styled:this.props.styled})}},{key:"renderContent",value:function value(e){var t=this.props.getChildItems(e);return t&&t.length?o().createElement(l.Accordion.Content,{active:this.isActive(e)},o().createElement("div",null,o().createElement(l.Accordion.Accordion,{panels:a().map(t,this.renderPanel.bind(this))}))):null}},{key:"renderPanel",value:function value(e){return o().createElement("div",{key:a().has(e,"type")?"".concat(e.type,"-").concat(e.id):e.id},o().createElement(l.Accordion.Title,{active:this.isActive(e),onClick:this.onItemClick.bind(this,e),style:{backgroundColor:this.isItemActive(e)?"rgba(255, 255, 255, 0.08)":void 0}},o().createElement("div",{className:"container"},o().createElement("div",null,this.renderToggle(e),o().createElement("div",{className:"item-container"},this.props.renderItem(e))),this.props.renderRight&&o().createElement("div",{className:"right-container"},this.props.renderRight(e)))),this.renderContent(e))}},{key:"renderToggle",value:function value(e){var t=this;return o().createElement(l.Button,{"aria-label":"Open",compact:!0,className:this.getButtonClass(e),icon:"dropdown",inverted:this.props.inverted,onClick:function onClick(n){n.stopPropagation(),t.onItemToggle(e)}})}},{key:"toggleItem",value:function value(e){var t=this;this.setState((function(n){return{activeItems:t.isActive(e)?a().filter(n.activeItems,(function(n){return t.props.multipleItemTypes&&a().has(e,"type")&&a().has(n,"type")?n.id!==e.id||n.type!==e.type:n.id!==e.id})):[].concat((r=n.activeItems,function(e){if(Array.isArray(e))return c(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e])};var r}))}}])&&function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);h.defaultProps=void 0,h.defaultProps={defaultActive:[],inverted:!1,isItemActive:void 0,multipleItemTypes:!1,onItemClick:function onItemClick(){},renderRight:function renderRight(){},styled:!0,toggleOnClick:!1};var b=h,v=__webpack_require__("../shared/build/index.js"),g=__webpack_require__("../../node_modules/react-uuid/uuid.js"),E=n.n(g),S=__webpack_require__("../../node_modules/i18next/dist/esm/i18next.js"),w=n.n(S),O={en:{translation:JSON.parse('{"AccordionList":{"deleteContent":"Are you sure you want to remove this record?","deleteHeader":"Confirm Remove","record":"Record","record_plural":"Records"},"AccordionSelector":{"title":"Select Items"},"AudioPlayer":{"errors":{"path":{"content":"Please check the audio path: {{path}}","header":"There was a problem loading the audio"}}},"BibliographyList":{"sort":{"author":"Author","date":"Date","title":"Title"}},"BibliographyModal":{"title":"Add Entry"},"BibliographySearchInput":{"labels":{"placeholder":"Enter a URL, ISBN, DOI, PMID, arXiv ID"}},"BreadcrumbItem":{"labels":{"new":"New"}},"Citation":{"labels":{"untitled":"Untitled"}},"Common":{"buttons":{"add":"Add","cancel":"Cancel","clear":"Clear","close":"Close","done":"Done","download":"Download","edit":"Edit","hide":"Hide","iiif":"View IIIF","ok":"OK","open":"Open","save":"Save","search":"Search","show":"Show","upload":"Upload"},"errors":{"save":"There was an error saving the record.","title":"Oops!","unauthorized":"You do not have permission to access this record."},"labels":{"noRecords":"No records."},"messages":{"error":{"header":"Oops!"},"loading":"Loading","noResults":"No results found.","save":{"content":"Your changes have been saved.","header":"Success!"}}},"CreatorField":{"labels":{"firstName":"First name","lastName":"Last name","name":"Name"}},"CurrentFacetsModal":{"title":"Current Facets"},"EditContainer":{"errors":{"general":"Something went wrong while saving the record. Please make sure all required fields are filled out.","required":"The {{key}} field is required.","system":"A system error occurred while saving the record. Please contact your system administrator.","unique":"A record with the {{key}} \\"{{value}}\\" already exists."}},"DataTable":{"actions":{"copy":{"content":"Creates an editable copy to be saved as a new record","title":"Copy"},"delete":{"content":"Removes the record, permanently","title":"Remove"},"edit":{"content":"Opens the modal to edit the record","title":"Edit"}},"columns":{"actions":"Actions","select":"Select"},"loading":"Loading"},"DataView":{"labels":{"details":"Details","noSort":"No sort","sortBy":"Sort by {{column}}"}},"EditProvider":{"errors":{"general":"Something went wrong while saving the record. Please make sure all required fields are filled out.","required":"The {{key}} field is required.","unique":"A record with the {{key}} \\"{{value}}\\" already exists."}},"FacetList":{"buttons":{"showLess":"Show Less","showMore":"Show More"},"labels":{"matchAll":"Match all values","matchAny":"Match any values","search":"Search"}},"FileUpload":{"add":"<0>Add files</0> or drop files here","errors":{"fileType":"Unable to upload {{name}} because {{type}} files are not allowed.","maxSize":"Unable to upload {{name}} because it exceeds 10 MB."}},"FileUploadModal":{"errors":{"header":"There was an error processing your files","required":"File {{filename}} - The following fields are required: {{fields}}","upload":{"content":"Check the status on each file to see which were unsuccessful.","header":"Some of the files did not upload"}},"loader":"Uploading files...","title":"Upload Files"},"FilterLabels":{"buttons":{"clear":"Clear all"}},"FuzzyDate":{"accuracy":{"date":"Date","month":"Month","year":"Year"},"buttons":{"addRange":"Add Range","removeRange":"Remove Range"},"labels":{"accuracy":"Accuracy","date":"Date","description":"Description","month":"Month","year":"Year"},"title":"Fuzzy Date"},"ItemList":{"actions":{"copy":"Copy","delete":"Remove","edit":"Edit"},"buttons":{"clear":"Clear selected","deselectAll":"Deselect all","selectAll":"Select all"}},"KeyboardField":{"labels":{"hideKeyboard":"Hide Keyboard","showKeyboard":"Show Keyboard"}},"KeyValuePairs":{"labels":{"key":"Key","value":"Value"}},"LazyAudio":{"buttons":{"play":"Play"}},"LazyImage":{"buttons":{"view":"View image"}},"LazyMedia":{"messages":{"uploaded":"Your <bold>{{type}}</bold> has been received"}},"LazyVideo":{"buttons":{"play":"Play video"}},"List":{"buttons":{"add":"Add","csvExport":"CSV Export","deleteAll":"Delete all"},"deleteAllContent":"Are you sure you want to remove all records? This action cannot be undone.","deleteAllHeader":"Confirm Remove All","deleteContent":"Are you sure you want to remove this record?","deleteHeader":"Confirm Remove","emptyList":"No matching records found.","emptyListAdd":"You haven\'t added any yet. Click <1><0><0></0><1></1></0></1> to get started.","labels":{"perPage":"Show {{perPage}}"},"record":"Record","record_plural":"Records"},"ListFilters":{"buttons":{"add":"Add","reset":"Reset filters"},"operators":{"contain":"Contains","empty":"Is empty","equal":"Equals","greaterThan":"Is greater than","lessThan":"Is less than","notContain":"Does not contain","notEmpty":"Is not empty","notEqual":"Does not equal"},"title":"Filters"},"LoginModal":{"buttonCancel":"Cancel","buttonLogin":"Login","email":"Email","header":"Login","loginErrorContent":"The username and/or password you entered is invalid. Please double check and try again.","loginErrorHeader":"Invalid Credentials","password":"Password"},"PhotoViewer":{"errors":{"path":{"content":"Please check the image path: {{path}}","header":"There was a problem loading the image"}}},"RemoteDropdown":{"labels":{"add":"Add","loadMore":"Load more"}},"SearchResultsPerPage":{"labels":{"show":"Show {{value}}"}},"SearchStats":{"labels":{"results":"{{count}} results in {{seconds}} seconds"}},"Selectize":{"messages":{"maxSelected":{"content":"You have already selected the maximum number of items allowed.","header":"Maximum items selected"},"noRecords":"No matching records."}},"VideoFrameSelector":{"buttons":{"select":"Select frame"},"labels":{"interval":"Interval: {{count}} second","interval_plural":"Interval: {{count}} seconds"},"title":"Select Frame"},"VideoPlayer":{"errors":{"path":{"content":"Please check the video path: {{path}}","header":"There was a problem loading the video"}}},"ViewXML":{"buttons":{"view":"View XML"},"title":"XML"}}')}},C=w().createInstance();C.init({debug:!0,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},resources:O});var j=C;function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P=function e(t){var n,c=(2,function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(n)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1];return t.timeout&&t.timeout>0&&a().delay((function(){s(!1)}),t.timeout),(0,r.useEffect)((function(){!u&&t.onDismiss&&a().delay(t.onDismiss.bind(void 0),700)}),[u]),o().createElement(l.Transition,{animation:"slide down",duration:700,transitionOnMount:!0,visible:u},o().createElement(l.Message,{className:"toaster",info:t.type===e.MessageTypes.info,negative:t.type===e.MessageTypes.negative,onDismiss:function onDismiss(){return s(!1)},positive:t.type===e.MessageTypes.positive,warning:t.type===e.MessageTypes.warning},t.children))};P.defaultProps={onDismiss:void 0,timeout:3e3,type:(P.MessageTypes={info:"info",negative:"negative",positive:"positive",warning:"warning"}).info};var I=P;function A(e){return A="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},A(e)}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=N(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==A(t)?t:String(t)}function B(e,t,n){return t=R(t),function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function L(){return!!e})()}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}var z="ascending",_="descending",U=function U(e){var t;return t=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=B(this,n,[e])).pollingInterval=void 0,t.state=t.initializeState(e),t}var r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(n,t),r=n,i=[{key:"componentDidMount",value:function value(){this.props.polling&&(this.pollingInterval=setInterval(this.fetchData.bind(this),this.props.polling))}},{key:"componentDidUpdate",value:function value(e){e.saved!==this.props.saved&&this.props.saved&&this.setState({saved:this.props.saved},this.fetchData.bind(this))}},{key:"componentWillUnmount",value:function value(){this.pollingInterval&&clearInterval(this.pollingInterval)}},{key:"afterDelete",value:function value(){return 1===this.state.items.length?this.setState((function(e){return{page:e.page-1>1?e.page-1:1}}),this.fetchData.bind(this)):this.fetchData()}},{key:"afterDeleteAll",value:function value(){this.setState({page:1},this.fetchData.bind(this))}},{key:"fetchData",value:function value(){var e=this;this.setSession(),this.setState({loading:!0},(function(){var t=e.state,n=t.page,r=t.perPage,o=t.search,i=t.sortColumn,a=t.sortDirection,l=x(x({},e.state.filters),{},{page:n,search:o,per_page:r,sort_by:i,sort_direction:a});e.props.onLoad(l).then((function(t){var r=t.data,o=r[e.props.collectionName],i=r.list,a=i.pages,l=i.count;e.setState({count:l,items:o,page:n,pages:a,loading:!1})}))}))}},{key:"getDefaultFilters",value:function value(e){var t=this,n=[];return e.filters&&e.filters.defaults&&a().each(e.filters.defaults.filters,(function(r){var o=a().findWhere(e.filters.props.filters,{key:r.key});o&&n.push(t.onCreateFilter(x(x({},o),r)))})),{filters:n}}},{key:"getSessionKey",value:function value(){return this.props.session?"".concat("DataList",".").concat(this.props.session.key):null}},{key:"initializeState",value:function value(e){var t=this.restoreSession(),n=t.filters||this.getDefaultFilters(e),r=t.page||1,o=t.perPage||e.defaultPerPage||a().first(e.perPageOptions),i=t.search||e.defaultSearch||null,l=t.sortColumn||e.defaultSort||null,c=t.sortDirection||e.defaultSortDirection||null;return{count:0,error:null,filters:n,items:[],loading:!1,page:r,pages:1,perPage:o,saved:e.saved||!1,search:i,sortColumn:l,sortDirection:c}}},{key:"isFilterActive",value:function value(){var e=!1;return a().each(a().values(this.state.filters),(function(t){v.Object.isEmpty(t)||(e=!0)})),e}},{key:"onClearSearch",value:function value(e){var t;this.onSearchChange(e,{value:""}),null===(t=this.searchRef)||void 0===t||null===(t=t.inputRef)||void 0===t||null===(t=t.current)||void 0===t||t.focus(),this.onSearch()}},{key:"onCreateFilter",value:function value(e){return x(x({},e),{},{uid:E()()})}},{key:"onDelete",value:function value(e){return this.props.onDelete?this.props.onDelete(e).then(this.afterDelete.bind(this)).catch(this.onError.bind(this)):Promise.resolve()}},{key:"onDeleteAll",value:function value(){return this.props.onDeleteAll?this.props.onDeleteAll().then(this.afterDeleteAll.bind(this)):Promise.resolve()}},{key:"onError",value:function value(e){return this.props.resolveErrors&&this.setState({error:e})}},{key:"onFilterChange",value:function value(e){var t=this;return new Promise((function(n){t.props.filters&&t.props.filters.onChange&&t.props.filters.onChange(e),t.setState({filters:e,page:1},(function(){t.fetchData(),n()}))}))}},{key:"onPageChange",value:function value(e,t){var n=t.activePage;this.setState({page:n},this.fetchData.bind(this))}},{key:"onPerPageChange",value:function value(e,t){var n=t.value;this.setState({perPage:n},this.fetchData.bind(this))}},{key:"onSave",value:function value(e){var t=this;return this.props.onSave?Promise.resolve(this.props.onSave(e)).then((function(){return t.setState({saved:!0},t.fetchData.bind(t))})):Promise.resolve()}},{key:"onSearch",value:function value(){this.setState({page:1},this.fetchData.bind(this))}},{key:"onSearchChange",value:function value(e,t){var n=t.value;this.setState({search:n})}},{key:"onSort",value:function value(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t;r||(r=this.state.sortColumn===e&&this.state.sortDirection===z?_:z),this.setState({sortColumn:e,sortDirection:r,page:n},this.fetchData.bind(this))}},{key:"onInit",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setState({sortColumn:"",sortDirection:"",page:e},this.fetchData.bind(this))}},{key:"render",value:function value(){var t=this,n=this.props.filters,r=void 0===n?{}:n,i=r.component,a=r.props,c=r.showLabels;return o().createElement(o().Fragment,null,o().createElement(e,D({},this.props,{count:this.state.count,filters:{active:this.isFilterActive(),component:i,onChange:this.onFilterChange.bind(this),showLabels:c,props:x(x({},a),{},{onCreateFilter:this.onCreateFilter.bind(this),item:this.state.filters})},items:this.state.items,loading:this.state.loading,page:this.state.page,pages:this.state.pages,perPage:this.state.perPage,onDelete:this.onDelete.bind(this),onDeleteAll:this.onDeleteAll.bind(this),onPageChange:this.onPageChange.bind(this),onPerPageChange:this.onPerPageChange.bind(this),onSave:this.onSave.bind(this),onSort:this.onSort.bind(this),onInit:this.onInit.bind(this),renderSearch:this.renderSearch.bind(this),sortColumn:this.state.sortColumn,sortDirection:this.state.sortDirection})),this.state.saved&&o().createElement(I,{onDismiss:function onDismiss(){return t.setState({saved:!1})},type:I.MessageTypes.positive},o().createElement(l.Message.Header,{content:j.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:j.t("Common.messages.save.content")})),this.state.error&&o().createElement(I,{onDismiss:function onDismiss(){return t.setState({error:!1})},timeout:0,type:I.MessageTypes.negative},o().createElement(l.Message.Header,{content:j.t("Common.messages.error.header")}),o().createElement(l.Message.List,{items:this.props.resolveErrors&&this.props.resolveErrors(this.state.error)})))}},{key:"renderSearch",value:function value(){var e=this;return this.props.searchable?o().createElement(l.Input,{"aria-label":"Search",type:"text",icon:o().createElement(l.Icon,{link:!a().isEmpty(this.state.search),name:a().isEmpty(this.state.search)?"search":"times",onClick:this.onClearSearch.bind(this)}),input:{"aria-label":"search"},ref:function ref(t){e.searchRef=t},loading:this.state.loading,onKeyDown:v.Timer.clearSearchTimer.bind(this),onKeyUp:v.Timer.setSearchTimer.bind(this,this.onSearch.bind(this)),onChange:this.onSearchChange.bind(this),size:"small",value:this.state.search}):null}},{key:"restoreSession",value:function value(){var e=this.getSessionKey();if(!e)return{};var t=sessionStorage.getItem(e)||"{}";return JSON.parse(t)}},{key:"setSession",value:function value(){var e=this.getSessionKey();if(e){var t=this.state,n=t.filters,r=t.page,o=t.perPage,i=t.search,a=t.sortColumn,l=t.sortDirection;sessionStorage.setItem(e,JSON.stringify({filters:n,page:r,perPage:o,search:i,sortColumn:a,sortDirection:l}))}}}],i&&function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),n}(r.Component),t.defaultProps={filters:{},searchable:!0},t},H=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),G=function G(e){var t=(0,r.useRef)();return o().createElement(l.Button.Group,{basic:e.basic,className:"dropdown-button",color:e.color},o().createElement(l.Button,{"aria-label":"Select",content:e.text,disabled:e.disabled,icon:e.icon,onClick:function onClick(e){return t.current&&t.current.handleClick(e)}}),o().createElement(l.Dropdown,{"aria-label":"Select",className:"button icon",direction:e.direction,disabled:e.disabled,floating:!0,onChange:e.onChange.bind(void 0),options:e.options,ref:t,scrolling:e.scrolling,selectOnBlur:e.selectOnBlur,trigger:o().createElement(o().Fragment,null),value:e.value}))};G.defaultProps={color:void 0,icon:void 0,selectOnBlur:!1};var V=G;function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=(0,v.useEditContainer)((function(e){var t,i=e.component,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return q(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],u=a[1],s=!(!e.errors||!e.errors.length);return o().createElement(i,e,e.showLoading&&e.loading&&o().createElement(l.Dimmer,{active:e.loading,inverted:!0},o().createElement(l.Loader,{content:j.t("Common.messages.loading")})),c&&s&&o().createElement(I,{onDismiss:function onDismiss(){return u(!1)},timeout:0,type:I.MessageTypes.negative},o().createElement(l.Message.Header,{content:j.t("Common.messages.error.header")}),o().createElement(l.Message.List,{items:e.errors})),o().createElement(l.Modal.Actions,{className:"edit-modal-actions"},o().createElement(l.Button,{disabled:e.saving,onClick:function onClick(){return u(!0),e.onSave()},primary:!0,size:"medium",type:"submit"},j.t("Common.buttons.save"),e.saving&&o().createElement(l.Loader,{active:!0,className:"saving",inline:!0,size:"tiny"})),o().createElement(l.Button,{basic:!0,disabled:e.saving,onClick:e.onClose.bind(void 0),size:"medium",type:"button"},j.t("Common.buttons.cancel"))))}));$.defaultProps={showLoading:!0};var K=$;function W(e){return W="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},W(e)}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function X(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==W(t)?t:String(t)}function J(e,t,n){return t=ee(t),function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Z()?Reflect.construct(t,n||[],ee(e).constructor):t.apply(e,n))}function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function Z(){return!!e})()}function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}var ne=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J(this,t,[e])).timeout=void 0,n.state={items:[],loading:!1,modalAdd:!1,modalEdit:!1,options:[],saved:!1,searchQuery:e.searchQuery||"",value:e.value||""},n.timeout=null,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function value(e){if(e.value!==this.props.value){var t=this.props,n=t.searchQuery,r=t.value;this.setState({searchQuery:n,value:r})}e.onSearch!==this.props.onSearch&&this.onSearch()}},{key:"clearSearchTimer",value:function value(){clearTimeout(this.timeout)}},{key:"onBlur",value:function value(){var e=this;this.setState((function(t){var n="";return t.value&&(n=e.props.searchQuery),{searchQuery:n}}))}},{key:"onClear",value:function value(){var e=this;this.setState({searchQuery:"",value:""},(function(){e.props.onSelection(e.state.value)}))}},{key:"onOpen",value:function value(){this.setState({searchQuery:""},this.onSearch.bind(this))}},{key:"onOptionSelection",value:function value(e,t){var n=this,r=t.value;this.setState((function(e){var t=a().findWhere(e.options,{value:r})||{};n.setState({searchQuery:t.text,value:t.value})}));var o=a().findWhere(this.state.items,{id:r});this.props.onSelection(o)}},{key:"onSearch",value:function value(){this.setState({loading:!0},this.search.bind(this))}},{key:"onSearchChange",value:function value(e,t){var n=t.searchQuery;this.setState({searchQuery:n})}},{key:"search",value:function value(){var e=this;this.props.onSearch(this.state.searchQuery).then((function(t){var n=t.data[e.props.collectionName],r=n.map(e.props.renderOption.bind(e));e.setState({items:n,options:r,loading:!1})}))}},{key:"render",value:function value(){var e=this;return o().createElement("div",{className:"association-dropdown"},o().createElement("div",{className:"dropdown-container"},o().createElement(l.Dropdown,{className:"inline-dropdown ".concat(this.props.className||""),disabled:this.state.loading,header:this.props.header,loading:this.state.loading,onBlur:this.onBlur.bind(this),onChange:this.onOptionSelection.bind(this),onOpen:this.onOpen.bind(this),onSearchChange:this.onSearchChange.bind(this),options:this.state.options,placeholder:this.props.placeholder,search:function search(){return e.state.options},searchInput:{"aria-label":this.props.collectionName,className:"dropdown-search-input",onKeyDown:v.Timer.clearSearchTimer.bind(this),onKeyUp:v.Timer.setSearchTimer.bind(this,this.onSearch.bind(this))},searchQuery:this.state.searchQuery,selectOnBlur:!1,selection:!0,upward:this.props.upward,value:this.state.value})),o().createElement(l.Button.Group,{className:"buttons"},this.renderEditButton(),this.renderAddButton(),this.renderClearButton()),this.renderModal(),this.state.saved&&o().createElement(I,{onDismiss:function onDismiss(){return e.setState({saved:!1})},type:I.MessageTypes.positive},o().createElement(l.Message.Header,{content:j.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:j.t("Common.messages.save.content")})))}},{key:"renderAddButton",value:function value(){var e=this;return this.props.modal?this.renderButton("add",{basic:!0,content:j.t("Common.buttons.add"),icon:"plus",onClick:function onClick(){return e.setState({modalAdd:!0})},type:"button"}):null}},{key:"renderButton",value:function value(e,t){var n=a().findWhere(this.props.buttons,{name:e})||{};return n.accept&&!n.accept()?null:o().createElement(l.Button,a().defaults(n,t))}},{key:"renderClearButton",value:function value(){return this.props.required?null:this.renderButton("clear",{basic:!0,content:j.t("Common.buttons.clear"),icon:"times",onClick:this.onClear.bind(this),type:"button"})}},{key:"renderEditButton",value:function value(){var e=this;return this.props.modal&&this.props.modal.props&&this.props.modal.props.onInitialize&&this.state.value?this.renderButton("edit",{basic:!0,content:j.t("Common.buttons.edit"),icon:"pencil",onClick:function onClick(){return e.setState({modalEdit:!0})},type:"button"}):null}},{key:"renderModal",value:function value(){var e=this;if(!this.state.modalAdd&&!this.state.modalEdit||!this.props.modal)return null;var t,n=this.props.modal,r=n.component,i=n.props,a=n.onSave;return this.state.modalEdit&&(t={id:this.state.value}),o().createElement(K,Q({component:r,item:t,onClose:function onClose(){return e.setState({modalAdd:!1,modalEdit:!1})},onSave:function onSave(t){return a(t).then((function(t){e.props.onSelection(t),e.setState({modalAdd:!1,modalEdit:!1,saved:!0})}))}},i))}},{key:"setSearchTimer",value:function value(){clearTimeout(this.timeout),this.timeout=setTimeout(this.onSearch.bind(this),500)}}])&&function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);ne.defaultProps=void 0,ne.defaultProps={className:"",modal:null,placeholder:null,required:!1,upward:!1};var re=ne,oe=function oe(e){var t;return o().createElement(l.Input,{"aria-label":"Date Input",className:"date-input icon",icon:"calendar alternate outline",iconPosition:"left"},o().createElement(l.Icon,{className:"left icon",name:"calendar alternate outline"}),o().createElement("input",{onClick:e.onClick.bind(void 0),readOnly:!0,type:"text",value:(t="",e.display?t=e.display:e.value&&(t=e.value.toLocaleDateString(e.locale,e.formatOptions)),t)}),o().createElement(l.Icon,{className:"right icon",name:"times",onClick:function onClick(t){t.stopPropagation(),t.preventDefault(),e.onChange(null)}}))},ie=o().createContext();function ae(e){return ae="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},ae(e)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return(t=fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e){var t=function(e,t){if("object"!=ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ae(t)?t:String(t)}function pe(e,t,n){return t=de(t),function(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,me()?Reflect.construct(t,n||[],de(e).constructor):t.apply(e,n))}function me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(me=function me(){return!!e})()}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},de(e)}function ye(e,t){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ye(e,t)}var he=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=pe(this,t,[e])).state=ce(ce({},n.getInitialState()),{},{calendar:new v.Calendar(e.locale,e.calendar)}),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function value(){this.initializeDate()}},{key:"componentDidUpdate",value:function value(e){this.props.locale===e.locale&&this.props.calendar===e.calendar||this.setState({calendar:new v.Calendar(this.props.locale,this.props.calendar)}),!this.props.date||this.props.date.startDate===e.date.startDate&&this.props.date.endDate===e.date.endDate||this.initializeDate()}},{key:"getDisplayDate",value:function value(e){var t=this.state.calendar.convertToDate(e);return this.state.calendar.format(t,this.state.accuracy)}},{key:"getInitialState",value:function value(){return{accuracy:0,description:"",display:"",endDate:{},modal:!1,range:!1,startDate:{}}}},{key:"initializeDate",value:function value(){if(this.props.date){var e=this.props.date,t=e.accuracy,n=void 0===t?0:t,r=e.description,o=void 0===r?"":r,i=e.range,a=void 0!==i&&i,l={},c={};this.props.date.startDate&&(l=this.state.calendar.parseDate(this.props.date.startDate)),this.props.date.endDate&&(c=this.state.calendar.parseDate(this.props.date.endDate)),this.setState({accuracy:n,description:o,range:a,startDate:l,endDate:c},this.setDisplay.bind(this))}else this.onAccuracyChange(null,{value:0})}},{key:"onAccuracyChange",value:function value(e,t){var n=t.value,r=n;this.setState((function(e){var t=ce({},e.endDate),o=ce({},e.startDate);return 1===r?(t=ce(ce({},t),{},{date:e.calendar.getDefaultDate()}),o=ce(ce({},o),{},{date:e.calendar.getDefaultDate()})):0===n&&(t=ce(ce({},t),{},{date:e.calendar.getDefaultDate(),month:e.calendar.getDefaultMonth()}),o=ce(ce({},o),{},{date:e.calendar.getDefaultDate(),month:e.calendar.getDefaultMonth()})),{accuracy:r,endDate:t,startDate:o}}),this.setEndDate.bind(this))}},{key:"onClear",value:function value(){this.setState(this.getInitialState(),this.onSave.bind(this))}},{key:"onClose",value:function value(){this.setState({modal:!1},this.initializeDate.bind(this))}},{key:"onDateChange",value:function value(e,t,n){var r=n.value;this.setState((function(t){return ue({},e,ce(ce({},t[e]),{},{date:r}))}),this.setEndDate.bind(this))}},{key:"onDescriptionChange",value:function value(e,t){var n=t.value;this.setState({description:n})}},{key:"onEdit",value:function value(){this.setState({modal:!0})}},{key:"onMonthChange",value:function value(e,t,n){var r=n.value;this.setState((function(t){return ue({},e,ce(ce({},t[e]),{},{month:r}))}),this.setEndDate.bind(this))}},{key:"onRangeChange",value:function value(){this.setState((function(e){return{range:!e.range}}),this.setEndDate.bind(this))}},{key:"onSave",value:function value(){var e,t;this.setDisplay(),a().isEmpty(this.state.startDate)||(e=this.state.calendar.convertToDate(this.state.startDate).toDate()),a().isEmpty(this.state.endDate)||(t=this.state.calendar.convertToDate(this.state.endDate).toDate());var n=this.state,r=n.accuracy,o=n.description,i=n.range;this.props.onChange({accuracy:r,description:o,range:i,startDate:e,endDate:t}),this.setState({modal:!1})}},{key:"onYearChange",value:function value(e,t,n){var r=n.value;r&&r.length>6||this.setState((function(t){return ue({},e,ce(ce({},t[e]),{},{year:parseInt(r,10)}))}),this.setEndDate.bind(this))}},{key:"render",value:function value(){var e=this;return o().createElement(o().Fragment,null,o().createElement(oe,{display:this.state.display,onClick:this.onEdit.bind(this),onChange:this.onClear.bind(this)}),o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{as:l.Form,className:"fuzzy-date-modal",mountNode:t,open:e.state.modal,onClose:e.onClose.bind(e)},o().createElement(l.Modal.Header,{content:e.props.title||j.t("FuzzyDate.title")}),o().createElement(l.Modal.Content,null,o().createElement(l.Form.Input,{className:"accuracy-container",label:j.t("FuzzyDate.labels.accuracy")},o().createElement(l.Checkbox,{checked:0===e.state.accuracy,id:"accuracy-year",label:j.t("FuzzyDate.accuracy.year"),name:"accuracy",onChange:e.onAccuracyChange.bind(e),radio:!0,value:0}),o().createElement(l.Checkbox,{checked:1===e.state.accuracy,id:"accuracy-month",label:j.t("FuzzyDate.accuracy.month"),name:"accuracy",onChange:e.onAccuracyChange.bind(e),radio:!0,value:1}),o().createElement(l.Checkbox,{checked:2===e.state.accuracy,id:"accuracy-date",label:j.t("FuzzyDate.accuracy.date"),name:"accuracy",onChange:e.onAccuracyChange.bind(e),radio:!0,value:2})),o().createElement(l.Form.Group,null,e.renderYear("startDate"),e.renderMonth("startDate"),e.renderDate("startDate"),!e.state.range&&o().createElement("div",{className:"button-container"},o().createElement(l.Button,{basic:!0,content:j.t("FuzzyDate.buttons.addRange"),icon:"plus",onClick:e.onRangeChange.bind(e)}))),e.state.range&&o().createElement(l.Form.Group,null,e.renderYear("endDate"),e.renderMonth("endDate"),e.renderDate("endDate"),o().createElement("div",{className:"button-container"},o().createElement(l.Button,{basic:!0,content:j.t("FuzzyDate.buttons.removeRange"),icon:"times",onClick:e.onRangeChange.bind(e)}))),e.props.description&&o().createElement(l.Form.Input,{id:"description",label:j.t("FuzzyDate.labels.description")},o().createElement(l.TextArea,{id:"description",onChange:e.onDescriptionChange.bind(e),value:e.state.description}))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.onSave.bind(e),primary:!0,size:"medium",type:"submit"},j.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.onClose.bind(e),size:"medium",type:"button"},j.t("Common.buttons.cancel"))))})))}},{key:"renderDate",value:function value(e){if(2!==this.state.accuracy)return null;var t=this.state[e],n=this.state.calendar.daysInMonth(t.year,t.month);return o().createElement(l.Form.Input,{id:"date-dropdown",label:j.t("FuzzyDate.labels.date")},o().createElement(l.Dropdown,{id:"date-dropdown",onChange:this.onDateChange.bind(this,e),options:a().range(1,n+1).map((function(e){return{key:e,value:e,text:e}})),selection:!0,value:t.date||this.state.calendar.getDefaultDate()}))}},{key:"renderMonth",value:function value(e){return 2!==this.state.accuracy&&1!==this.state.accuracy?null:o().createElement(l.Form.Input,{id:"month-dropdown",label:j.t("FuzzyDate.labels.month")},o().createElement(l.Dropdown,{id:"month-dropdown",onChange:this.onMonthChange.bind(this,e),options:a().map(this.state.calendar.listMonths(),(function(e,t){return{key:t,value:t,text:e}})),selection:!0,value:this.state[e].month||this.state.calendar.getDefaultMonth()}))}},{key:"renderYear",value:function value(e){return o().createElement(l.Form.Input,{id:"year",label:j.t("FuzzyDate.labels.year")},o().createElement(l.Input,{id:"year",onChange:this.onYearChange.bind(this,e),type:"number",value:this.state[e].year||""}))}},{key:"setDisplay",value:function value(){var e=[];this.state.startDate&&!a().isEmpty(this.state.startDate)&&e.push(this.getDisplayDate(this.state.startDate)),this.state.range&&this.state.endDate&&!a().isEmpty(this.state.endDate)&&(e.push(" - "),e.push(this.getDisplayDate(this.state.endDate))),this.setState({display:e.join(" ")})}},{key:"setEndDate",value:function value(){this.state.range||!this.state.startDate||a().isEmpty(this.state.startDate)||this.setState((function(e){var t=e.calendar.convertToDate(e.startDate);return 0===e.accuracy?t=e.calendar.addYear(t,1):1===e.accuracy?t=e.calendar.addMonth(t,1):2===e.accuracy&&(t=e.calendar.addDate(t,1)),{endDate:e.calendar.parseDate(t)}}))}}])&&function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fe(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);he.defaultProps=void 0,he.defaultProps={calendar:v.Calendar.Calendars.gregorian,description:!0,locale:v.Browser.isBrowser()&&navigator.language,title:void 0};var be=he;function ve(e){return ve="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},ve(e)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){var r;return r=function(e,t){if("object"!=ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==ve(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we={boolean:"boolean",date:"date",integer:"integer",relationship:"relationship",select:"select",string:"string",text:"text"},Oe={equal:"equal",notEqual:"not_equal",contain:"contain",notContain:"not_contain",empty:"empty",notEmpty:"not_empty",greaterThan:"greater_than",lessThan:"less_than"},Ce=[{key:Oe.equal,value:Oe.equal,text:j.t("ListFilters.operators.equal")},{key:Oe.notEqual,value:Oe.notEqual,text:j.t("ListFilters.operators.notEqual")},{key:Oe.contain,value:Oe.contain,text:j.t("ListFilters.operators.contain")},{key:Oe.notContain,value:Oe.notContain,text:j.t("ListFilters.operators.notContain")},{key:Oe.empty,value:Oe.empty,text:j.t("ListFilters.operators.empty")},{key:Oe.notEmpty,value:Oe.notEmpty,text:j.t("ListFilters.operators.notEmpty")},{key:Oe.greaterThan,value:Oe.greaterThan,text:j.t("ListFilters.operators.greaterThan")},{key:Oe.lessThan,value:Oe.lessThan,text:j.t("ListFilters.operators.lessThan")}],je=Se(Se(Se(Se(Se(Se({},we.boolean,[Oe.equal]),we.date,[Oe.equal]),we.relationship,[Oe.equal,Oe.notEqual,Oe.empty,Oe.notEmpty]),we.select,[Oe.equal,Oe.notEqual,Oe.empty,Oe.notEmpty]),we.string,[Oe.equal,Oe.notEqual,Oe.contain,Oe.notContain,Oe.empty,Oe.notEmpty]),we.text,[Oe.contain,Oe.notContain,Oe.empty,Oe.notEmpty]),ke=function ke(e){var t=(0,r.useCallback)((function(e){var t=je[e];return a().filter(Ce,(function(e){return!t||a().contains(t,e.key)}))}),[]),n=function n(e){return e.label},i=(0,r.useCallback)((function(t){if(t.operator===Oe.empty||t.operator===Oe.notEmpty)return null;if(t.type===we.boolean)return o().createElement(l.Checkbox,{onChange:function onChange(){return e.onSaveChildAssociation("filters",Ee(Ee({},t),{},{value:!t.value}))},checked:t.value});if(t.type===we.string||t.type===we.text||t.type===we.integer)return o().createElement(l.Input,{onChange:function onChange(n,r){var o=r.value;return e.onSaveChildAssociation("filters",Ee(Ee({},t),{},{value:o}))},value:t.value});if(t.type===we.date)return o().createElement(be,{date:t.value||{},description:!1,onChange:function onChange(n){e.onSaveChildAssociation("filters",Ee(Ee({},t),{},{value:n}))},title:t.label});if(t.type===we.select)return o().createElement(l.Dropdown,{onChange:function onChange(n,r){var o=r.value;return e.onSaveChildAssociation("filters",Ee(Ee({},t),{},{value:o}))},options:t.options,selectOnBlur:!1,selection:!0,value:t.value});if(t.type===we.relationship){var n=t.collectionName,r=t.onSearch,i=t.renderOption,a=t.renderSearchQuery,c=t.searchQuery,u=t.value;return n&&r&&i?o().createElement(re,{collectionName:n,onSearch:r,onSelection:function onSelection(n){e.onSaveChildAssociation("filters",Ee(Ee({},t),{},{searchQuery:a&&a(n),value:n.id}))},renderOption:i,required:!0,searchQuery:c||"",value:u||null}):null}return null}),[e.item.filters,e.onSaveChildAssociation]),c=(0,r.useMemo)((function(){return a().sortBy(e.filters,e.item.onSort||n)}),[e.filters,e.item.onSort]);return(0,r.useEffect)((function(){a().each(e.item.filters,(function(t){var n=a().findWhere(e.filters,{key:t.key});t.type===we.boolean&&(n.value=!1),e.onSaveChildAssociation("filters",a().defaults(t,n))}))}),[]),o().createElement(ie.Consumer,null,(function(n){return o().createElement(l.Modal,{as:l.Form,centered:!1,className:"list-filters-modal",mountNode:n,noValidate:!0,open:!0,size:"small"},o().createElement(l.Modal.Header,null,o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,{verticalAlign:"middle"},o().createElement(l.Header,{content:j.t("ListFilters.title")})),o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(V,{color:"green",icon:"plus",options:a().map(c,(function(e){return{key:e.key,value:e.key,text:e.label}})),onChange:function onChange(t,n){var r=n.value,o=a().findWhere(e.filters,{key:r});e.onSaveChildAssociation("filters",e.onCreateFilter(Ee(Ee({},o),{},{operator:Oe.equal})))},scrolling:!0,text:j.t("ListFilters.buttons.add"),value:""}),o().createElement(l.Button,{color:"red",content:j.t("ListFilters.buttons.reset"),icon:"repeat",onClick:function onClick(){return e.onReset()},style:{marginLeft:"1em"}})))),o().createElement(l.Modal.Content,null,!a().isEmpty(e.item.filters)&&o().createElement(l.Grid,null,a().map(e.item.filters,(function(n){return o().createElement(l.Grid.Row,{columns:4,key:n.key,verticalAlign:"middle"},o().createElement(l.Grid.Column,null,o().createElement(l.Header,{content:n.label})),o().createElement(l.Grid.Column,{width:5},o().createElement(l.Dropdown,{options:t(n.type),onChange:function onChange(t,r){var o=r.value;return e.onSaveChildAssociation("filters",Ee(Ee({},a().omit(n,"value")),{},{operator:o}))},selection:!0,value:n.operator})),o().createElement(l.Grid.Column,{width:5},i(n)),o().createElement(l.Grid.Column,{width:1},o().createElement(l.Button,{basic:!0,icon:"times",onClick:function onClick(){return e.onDeleteChildAssociation("filters",n)}})))})))),e.children)}))},Pe=function Pe(e){var t=(0,r.useCallback)((function(e){var t=[e.label],n=a().findWhere(Ce,{key:e.operator});return n&&t.push(n.text),e.value&&t.push('"'.concat(e.value,'"')),t.join(" ")}),[]);return o().createElement(l.Label.Group,{className:"filter-labels"},a().map(e.filters,(function(n){return o().createElement(l.Label,{basic:!0,content:t(n),onRemove:function onRemove(){return e.onClick(n)}})})),e.onClear&&o().createElement(l.Label,{as:l.Button,color:"red",content:j.t("FilterLabels.buttons.clear"),icon:"times",onClick:e.onClear}))};function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Ie(e)}function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ie(t)?t:String(t)}function Me(e,t,n){return t=Be(t),function(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ne()?Reflect.construct(t,n||[],Be(e).constructor):t.apply(e,n))}function Ne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ne=function Ne(){return!!e})()}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}var Re=function Re(e){var t;return(t=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Me(this,n,[e])).state={modalDelete:!1,modalDeleteAll:!1,modalEdit:!1,modalFilter:!1,selectedItem:null},t}var r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(n,t),r=n,(i=[{key:"getButtons",value:function value(e){var t,n=[],r=this.props,o=r.addButton,i=void 0===o?{}:o,l=r.csvExportButton,c=void 0===l?{}:l,u=r.deleteButton,s=void 0===u?{}:u,f=r.modal,p=r.selectable;return i.location!==e||!i.onClick&&!f||p||n.push({render:this.renderAddButton.bind(this)}),s.location===e&&this.props.onDeleteAll&&!p&&n.push({render:this.renderDeleteAllButton.bind(this)}),c.location!==e||p||n.push({render:this.renderCsvExportButton.bind(this)}),n.push.apply(n,function(e){if(Array.isArray(e))return De(e)}(t=a().filter(this.props.buttons,(function(t){var n=!1;return((t.location||"top")===e||!t.location&&i&&i.location===e)&&(n=!0),n})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n}},{key:"onAddButton",value:function value(){return this.props.addButton&&this.props.addButton.onClick?this.props.addButton.onClick():this.setState({modalEdit:!0})}},{key:"onCopyButton",value:function value(e){var t=this.props.onCopy?this.props.onCopy(e):a().omit(e,"id","uid");this.setState({selectedItem:t,modalEdit:!0})}},{key:"onCsvExportButton",value:function value(){var e=a().filter(this.props.columns,(function(e){return!e.hidden})),t="".concat(a().map(e,(function(e){return'"'.concat(e.label,'"')})).join(","),"\n");a().each(this.props.items,(function(n){t=t.concat("".concat(e.map((function(e){return e.resolve?'"'.concat(e.resolve(n),'"'):n[e.name]?'"'.concat(n[e.name],'"'):""})).join(","),"\n"))}));var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(t))),n.setAttribute("download","".concat(this.props.collectionName||"table",".csv")),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"onDelete",value:function value(){var e=this.state.selectedItem;return this.setState({selectedItem:null,modalDelete:!1}),this.props.onDelete(e)}},{key:"onDeleteAll",value:function value(){return this.setState({modalDeleteAll:!1}),this.props.onDeleteAll&&this.props.onDeleteAll()}},{key:"onDeleteAllButton",value:function value(){this.setState({modalDeleteAll:!0})}},{key:"onDeleteButton",value:function value(e){this.setState({selectedItem:e,modalDelete:!0})}},{key:"onEditButton",value:function value(e){this.setState({selectedItem:e,modalEdit:!0})}},{key:"onFilterButton",value:function value(){this.setState({modalFilter:!0})}},{key:"onRemoveFilter",value:function value(e){var t=this.props.filters,n=t.onChange,r=t.props.item;return n({filters:a().filter(r.filters,(function(t){return t.uid!==e.uid}))})}},{key:"onSave",value:function value(e){var t=this;return this.props.onSave(e).then((function(){return t.setState({modalEdit:!1,selectedItem:null})}))}},{key:"onSaveFilter",value:function value(e){var t=this;return this.props.filters?this.props.filters.onChange(e).then((function(){return t.setState({modalFilter:!1})})):null}},{key:"render",value:function value(){return o().createElement("div",{className:"list ".concat(this.props.className)},this.renderHeader(),o().createElement(e,Ae({},this.props,{actions:this.getActions(),renderEmptyMessage:this.renderEmptyMessage.bind(this)})),this.renderFooter(),this.renderEditModal(),this.renderDeleteModal(),this.renderDeleteAllModal(),this.renderFilterModal())}},{key:"getActions",value:function value(){var e=this;return a().map(this.props.actions,(function(t){var n={};return"edit"===t.name?n={icon:"edit outline",onClick:e.onEditButton.bind(e)}:"copy"===t.name?n={icon:"copy outline",onClick:e.onCopyButton.bind(e)}:"delete"===t.name&&(n={icon:"times circle outline",onClick:e.onDeleteButton.bind(e)}),a().defaults(t,n)}))}},{key:"renderAddButton",value:function value(){return this.props.addButton?o().createElement(l.Button,{basic:!1!==this.props.addButton.basic,color:this.props.addButton.color,key:"add",inverted:this.props.addButton.inverted,onClick:this.onAddButton.bind(this),secondary:this.props.addButton.secondary},o().createElement(l.Icon,{name:"plus"}),this.props.addButton.content||j.t("List.buttons.add")):null}},{key:"renderButton",value:function value(e,t){return e.render?e.render(t):e.accept&&!e.accept()?null:o().createElement(l.Button,Ae({key:t},e))}},{key:"renderCsvExportButton",value:function value(){return this.props.csvExportButton?o().createElement(l.Button,{basic:this.props.csvExportButton.basic,color:this.props.csvExportButton.color,key:"csv-export",onClick:this.onCsvExportButton.bind(this)},o().createElement(l.Icon,{name:"download"}),j.t("List.buttons.csvExport")):null}},{key:"renderDeleteAllButton",value:function value(){return this.props.deleteButton?o().createElement(l.Button,{basic:!0,color:this.props.deleteButton.color,key:"delete-all",onClick:this.onDeleteAllButton.bind(this)},o().createElement(l.Icon,{name:"times"}),j.t("List.buttons.deleteAll")):null}},{key:"renderDeleteAllModal",value:function value(){var e=this;return this.state.modalDeleteAll?o().createElement(l.Confirm,{content:j.t("List.deleteAllContent"),header:o().createElement(l.Header,{icon:"trash alternate outline",content:j.t("List.deleteAllHeader")}),onCancel:function onCancel(){return e.setState({modalDeleteAll:!1})},onConfirm:this.onDeleteAll.bind(this),open:!0}):null}},{key:"renderDeleteModal",value:function value(){var e=this;if(!this.state.modalDelete)return null;var t=this.state.selectedItem,n=function n(){return e.setState({selectedItem:null,modalDelete:!1})},r=this.onDelete.bind(this);return this.props.renderDeleteModal?this.props.renderDeleteModal({selectedItem:t,onConfirm:r,onCancel:n}):o().createElement(l.Confirm,{content:j.t("List.deleteContent"),header:o().createElement(l.Header,{icon:"trash alternate outline",content:j.t("List.deleteHeader")}),onCancel:n,onConfirm:r,open:!0})}},{key:"renderEditModal",value:function value(){var e=this;if(!this.props.modal||!this.state.modalEdit)return null;var t=this.props.modal,n=t.component,r=t.props;return o().createElement(K,Ae({component:n,onClose:function onClose(){return e.setState({selectedItem:null,modalEdit:!1})},onSave:this.onSave.bind(this),item:this.state.selectedItem},r))}},{key:"renderEmptyMessage",value:function value(){var e=this.props,t=e.addButton,n=void 0===t?{}:t,r=e.modal;return n.onClick||r?o().createElement(H.Trans,{i18nKey:"List.emptyListAdd"},"You haven't added any yet. Click",o().createElement("div",{className:"empty-button"},this.renderAddButton()),"to get started."):j.t("List.emptyList")}},{key:"renderFilterButton",value:function value(){return this.props.filters&&this.props.filters.component?o().createElement(l.Button,{active:this.props.filters.active,"aria-label":"Filter",basic:!0,icon:"filter",onClick:this.onFilterButton.bind(this)}):null}},{key:"renderFilterModal",value:function value(){var e=this;if(!this.props.filters||!this.state.modalFilter)return null;var t=this.props.filters,n=t.component,r=t.props;return o().createElement(K,Ae({},r,{component:n,onClose:function onClose(){return e.setState({modalFilter:!1})},onSave:this.onSaveFilter.bind(this)}))}},{key:"renderFooter",value:function value(){var e=!1,t=this.getButtons("bottom");t&&t.length&&(e=!0);var n=this.props.pages&&this.props.pages>1;n&&(e=!0);var r=this.props.count&&this.props.showRecordCount;return r&&(e=!0),e?o().createElement("div",{className:"footer"},o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,{textAlign:"left"},r?this.renderRecordCount():"",a().map(t,(function(e){return e.render()}))),o().createElement(l.Grid.Column,{textAlign:"right"},n?this.renderPagination():""))):null}},{key:"renderHeader",value:function value(){var e=this,t=!1,n=this.getButtons("top");n&&n.length&&(t=!0);var r=this.props,i=r.filters,c=r.perPageOptions,u=r.renderListHeader,s=r.renderSearch;(i||c||u||s)&&(t=!0);var f=i&&i.showLabels&&!a().isEmpty(i.props.item.filters);return t?o().createElement("div",{className:"header"},o().createElement(l.Grid,{className:f?"filter-labels":void 0,verticalAlign:"top"},o().createElement(l.Grid.Row,{columns:2},o().createElement(l.Grid.Column,{textAlign:"left"},a().map(n,this.renderButton.bind(this))),o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(l.Menu,{compact:!0,borderless:!0,secondary:!0,className:"flex-end-menu"},u&&o().createElement(l.Menu.Menu,{className:"list-header-menu"},u()),o().createElement(l.Menu.Menu,null,i&&this.renderFilterButton()),c&&o().createElement(l.Menu.Menu,{className:"per-page-menu"},this.renderPerPage()),o().createElement(l.Menu.Menu,null,s&&s())))),f&&o().createElement(l.Grid.Row,{columns:1},o().createElement(l.Grid.Column,null,o().createElement(Pe,{filters:i.props.item.filters,onClear:function onClear(){return i.onChange({filters:[]})},onClick:function onClick(t){return e.onRemoveFilter(t)}}))))):null}},{key:"renderPagination",value:function value(){return o().createElement(l.Pagination,{activePage:this.props.page,firstItem:null,lastItem:null,onPageChange:this.props.onPageChange.bind(this),size:"mini",totalPages:this.props.pages})}},{key:"renderPerPage",value:function value(){var e=this.props.perPage;return o().createElement(V,{basic:!0,icon:"list",onChange:this.props.onPerPageChange.bind(this),options:a().map(this.props.perPageOptions,(function(e){return{key:e,value:e,text:e}})),text:j.t("List.labels.perPage",{perPage:e}),value:e})}},{key:"renderRecordCount",value:function value(){var e=this.props.count;return o().createElement("p",{className:"record-count"},"".concat(Number(e).toLocaleString()," ").concat(j.t("List.record",{count:e})))}}])&&function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xe(r.key),r)}}(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),n}(r.Component)).defaultProps={actions:[],addButton:{basic:!0,color:"green",location:"top"},buttons:[],className:"",csvExportButton:void 0,filters:void 0,modal:void 0,page:1,pages:1,onColumnClick:function onColumnClick(){},onCopy:void 0,onPageChange:function onPageChange(){},renderDeleteModal:void 0,renderSearch:void 0,sortColumn:void 0,sortDirection:void 0},t};function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Fe(e)}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=Fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Fe(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=Re((function(e){var t=(0,r.useCallback)((function(t){var n=a().filter(e.actions,(function(e){return!e.accept||e.accept(t)}));return a().isEmpty(n)?null:o().createElement(l.Button.Group,null,a().map(n,(function(e,n){return o().createElement(l.Button,{"aria-label":e.name,basic:!0,color:e.color,icon:e.icon,key:"".concat(e.name,"-").concat(n),onClick:e.onClick&&e.onClick.bind(void 0,t),title:e.title})})))}),[e.actions]),n=(0,r.useCallback)((function(t){return e.selectable?o().createElement(l.Checkbox,{key:"select-checkbox-".concat(t.id),className:"row-select-checkbox",onClick:function onClick(n,r){return e.onRowSelect(r,t,n)},checked:!!e.selectedRows.find((function(e){return e.id===t.id}))}):null}),[e.onRowSelect,e.selectable,e.selectedRows]);return o().createElement("div",{className:["accordion-data-list",e.className||""].join(" ")},o().createElement(b,{getChildItems:e.getChildItems,onItemToggle:function onItemToggle(t){return e.onItemToggle&&e.onItemToggle(t)},renderItem:function renderItem(t){return e.renderItem(t)},renderRight:function renderRight(e){return o().createElement(o().Fragment,null,t(e),n(e))},rootItems:e.rootItems,showToggle:function showToggle(t){return e.showToggle(t)}}))})),Ge=U((function(e){var t=(0,r.useMemo)((function(){return e.getRootItems(e.items)}),[e.items]),n=(0,r.useCallback)((function(t){return e.getChildItems(e.items,t)}),[e.items]),i=(0,r.useRef)(),c=(0,r.useMemo)((function(){var t=a().find(e.sort,{value:e.sortColumn});return t&&t.text}),[e.sort,e.sortColumn]),u=(0,r.useCallback)((function(t){var n;e.onSort&&(t.value!==e.sortColumn&&(n=t.direction),e.onSort(t.value,n))}),[e.onSort,e.sortColumn]),s=(0,r.useCallback)((function(){return a().isEmpty(e.sort)?null:o().createElement(l.Button.Group,{basic:!0,style:{fontSize:"inherit"}},o().createElement(l.Button,{"aria-label":"Sort by",content:c,icon:e.sortDirection===z?"sort alphabet up":"sort alphabet down",onClick:function onClick(e){return i.current&&i.current.handleClick(e)}}),o().createElement(l.Dropdown,{"aria-label":"Sort by toggle",className:"button icon",floating:!0,options:a().map(e.sort,(function(e){return Ue(Ue({},e),{},{onClick:function onClick(){return u(e)}})})),ref:i,trigger:o().createElement(o().Fragment,null),value:e.sortColumn}))}),[e.sort,e.sortColumn,e.sortDirection]);return(0,r.useEffect)((function(){if(a().isEmpty(e.sort))return e.onInit();var t=e.page,n=e.sortColumn,r=void 0===n?"":n,o=e.sortDirection,i=void 0===o?z:o;if(!r){var l=a().first(e.sort);l&&(r=l.value,l.direction&&(i=l.direction))}return e.onSort(r,i,t)}),[]),o().createElement(He,ze({},e,{renderListHeader:s,rootItems:t,getChildItems:n}))}));function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Ve(e)}function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qe.apply(this,arguments)}function $e(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=Xe(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e){var t=function(e,t){if("object"!=Ve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ve(t)?t:String(t)}function Je(e,t,n){return t=et(t),function(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ze()?Reflect.construct(t,n||[],et(e).constructor):t.apply(e,n))}function Ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ze=function Ze(){return!!e})()}function et(e){return et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},et(e)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}var nt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Je(this,t,[e])).state={count:0,items:[],modalAdd:!1,modalDelete:!1,page:1,pages:1,saved:!1,searchQuery:"",selectedItem:null},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function value(){this.onSearch()}},{key:"onAddButton",value:function value(e){var t=e;this.props.modal&&this.props.modal.onAddItem&&(t=this.props.modal.onAddItem(e)),this.setState({modalAdd:!0,selectedItem:t})}},{key:"onDelete",value:function value(){var e=this,t=this.state.selectedItem;return this.props.onDelete(t).then((function(){e.setState((function(e){return{modalDelete:!1,selectedItem:null,items:a().reject(e.items,(function(e){return e===t}))}}))}))}},{key:"onDeleteButton",value:function value(e){this.setState({modalDelete:!0,selectedItem:e})}},{key:"onEditButton",value:function value(e){this.setState({modalAdd:!0,selectedItem:e})}},{key:"onCopyButton",value:function value(e){var t,n=this;this.props.onCopy&&(t=this.props.onCopy(e),v.Object.isPromise(t)?t.then((function(e){n.setState({selectedItem:e,modalAdd:!0})})):(t=a().omit(e,"id","uid"),this.setState({selectedItem:t,modalAdd:!0})))}},{key:"onItemToggle",value:function value(e){var t=this;!e.loaded&&this.props.lazyLoad&&this.onSearch(e.id).then((function(){t.setState((function(t){return{items:a().map(t.items,(function(t){return t.id===e.id?Qe(Qe({},t),{},{loaded:!0}):t}))}}))}))}},{key:"onPageChange",value:function value(e,t){var n=this;this.setState({page:t.activePage},(function(){return n.onSearch()}))}},{key:"onSave",value:function value(e){var t=this;return this.props.onSave(e).then((function(n){t.setState((function(t){return{modalAdd:!1,selectedItem:!1,saved:!0,items:e.id?a().map(t.items,(function(e){return e.id===n.id?n:e})):[].concat($e(t.items),[n])}}))}))}},{key:"onSearch",value:function value(e){var t=this;return this.props.lazyLoad?this.props.onSearch(e,this.state.searchQuery).then((function(n){var r=n.data[t.props.collectionName];t.setState((function(t){return e?{items:[].concat($e(t.items||[]),$e(r))}:{items:r}}))})):this.props.onSearch(this.state.searchQuery,this.state.page).then((function(e){var n=e.data,r=n[t.props.collectionName];if(t.setState({items:r}),t.props.showRecordCount&&t.setState({count:n.list.count}),t.props.pagination){var o=n.list.pages;t.setState({pages:o})}}))}},{key:"onSearchChange",value:function value(e,t){var n=t.value;this.setState({searchQuery:n})}},{key:"render",value:function value(){var e=this;return o().createElement("div",{className:["accordion-list",this.props.className||""].join(" ")},o().createElement(l.Header,{className:"accordion-header"},o().createElement(l.Input,{"aria-label":"Search",autoFocus:!0,className:"search",icon:"search",onKeyDown:v.Timer.clearSearchTimer.bind(this),onKeyUp:v.Timer.setSearchTimer.bind(this,this.onSearch.bind(this)),onChange:this.onSearchChange.bind(this),size:"mini",type:"text",value:this.state.searchQuery}),this.renderHeaderAddButton(),this.props.buttons.map((function(e){return e.render()}))),this.renderSubHeader(),o().createElement(b,{getChildItems:this.props.getChildItems.bind(this,this.state.items),onItemToggle:this.onItemToggle.bind(this),renderItem:this.props.renderItem.bind(this),renderRight:this.renderRight.bind(this),rootItems:this.props.getRootItems(this.state.items),showToggle:this.props.showToggle.bind(this)}),this.renderFooter(),this.renderAddModal(),o().createElement(l.Confirm,{content:j.t("AccordionList.deleteContent"),header:j.t("AccordionList.deleteHeader"),open:this.state.modalDelete,onCancel:function onCancel(){return e.setState({modalDelete:!1,selectedItem:null})},onConfirm:this.onDelete.bind(this)}),this.state.saved&&o().createElement(I,{onDismiss:function onDismiss(){return e.setState({saved:!1})},type:I.MessageTypes.positive},o().createElement(l.Message.Header,{content:j.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:j.t("Common.messages.save.content")})))}},{key:"renderAddButton",value:function value(e){return this.props.canAddItem&&!this.props.canAddItem(e)?null:o().createElement(l.Button,{"aria-label":"Add",basic:!0,compact:!0,icon:"plus",onClick:this.onAddButton.bind(this,e)})}},{key:"renderSelectAll",value:function value(){var e=this;if(!this.props.selectable&&!this.props.onSelectAll)return null;var t=this.props.selectedRows.map((function(e){return e.id})),n=(this.state.items?this.state.items:[]).reduce((function(e,n){return t.includes(n.id)?e:[].concat($e(e),[n])}),[]);return o().createElement(l.Checkbox,{"aria-label":"Select All",onClick:function onClick(t,r){return e.props.onSelectAll(r,n,e.state.items,t)},checked:!n.length})}},{key:"renderSubHeader",value:function value(){return o().createElement("div",{className:"sub-header"},this.renderSelectAll())}},{key:"renderAddModal",value:function value(){var e=this;if(!this.state.modalAdd||!this.props.modal)return null;var t=this.props.modal,n=t.component,r=t.props;return o().createElement(K,qe({component:n,item:this.state.selectedItem,onClose:function onClose(){return e.setState({modalAdd:!1,selectedItem:null})},onSave:this.onSave.bind(this)},r))}},{key:"renderDeleteButton",value:function value(e){return this.props.canDeleteItem&&!this.props.canDeleteItem(e)?null:o().createElement(l.Button,{"aria-label":"Delete",basic:!0,compact:!0,icon:"trash",onClick:this.onDeleteButton.bind(this,e)})}},{key:"renderEditButton",value:function value(e){return this.props.canEditItem&&!this.props.canEditItem(e)?null:o().createElement(l.Button,{"aria-label":"Edit",basic:!0,compact:!0,icon:"edit",onClick:this.onEditButton.bind(this,e)})}},{key:"renderCopyButton",value:function value(e){var t=this;return this.props.canCopyItem&&!this.props.canCopyItem(e)?null:o().createElement(l.Button,{"aria-label":"Copy",basic:!0,compact:!0,icon:"copy",onClick:function onClick(){return t.onCopyButton(e)}})}},{key:"renderHeaderAddButton",value:function value(){var e=this;return!this.props.modal||this.props.hideAddRootButton?null:o().createElement(l.Button,{basic:!0,className:"add-button",content:j.t("Common.buttons.add"),icon:"plus",onClick:function onClick(){return e.setState({modalAdd:!0})}})}},{key:"renderRecordCount",value:function value(){var e=this.state.count;return e?o().createElement("span",{className:"record-count"},"".concat(Number(e).toLocaleString()," ").concat(j.t("AccordionList.record",{count:e}))):null}},{key:"renderPagination",value:function value(){return this.props.pagination?o().createElement(l.Pagination,{activePage:this.state.page,onPageChange:this.onPageChange.bind(this),size:"mini",totalPages:this.state.pages}):null}},{key:"renderFooter",value:function value(){return this.props.pagination||this.props.showRecordCount?o().createElement("div",{className:"footer"},o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,{textAlign:"left"},this.renderRecordCount()),o().createElement(l.Grid.Column,{textAlign:"right"},this.renderPagination()))):null}},{key:"renderSelectCheckbox",value:function value(e){var t=this;if(!this.props.selectable)return null;var n=this.props.selectedRows.find((function(t){return t.id===e.id}));return o().createElement(l.Checkbox,{"aria-label":"Select",key:"select-checkbox-".concat(e.id),className:"row-select-checkbox",onClick:function onClick(n,r){return t.props.onRowSelect(r,e,n)},checked:!!n})}},{key:"renderRight",value:function value(e){return o().createElement(o().Fragment,null,o().createElement(l.Button.Group,null,this.renderAddButton(e),this.renderEditButton(e),this.renderCopyButton(e),this.renderDeleteButton(e)),this.renderSelectCheckbox(e))}}])&&function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xe(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);nt.defaultProps=void 0,nt.defaultProps={buttons:[],canAddItem:function canAddItem(){return!0},canDeleteItem:function canDeleteItem(){return!0},canEditItem:function canEditItem(){return!0},canCopyItem:function canCopyItem(){return!1},className:"",lazyLoad:!0,modal:void 0,pagination:!1};var rt=nt,ot=function ot(e){return e.items&&e.items.length?o().createElement(l.Segment,{className:"selectize-header",textAlign:"left"},a().map(e.items,(function(t,n){return o().createElement(l.Button,{className:"selected",content:e.renderItem(t),icon:e.isSelected(t)?"times circle outline":void 0,key:n,onClick:e.onItemClick.bind(void 0,t),primary:!0,size:"small"})}))):null};function it(e){return it="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},it(e)}function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},at.apply(this,arguments)}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=pt(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e){var t=function(e,t){if("object"!=it(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==it(t)?t:String(t)}function mt(e,t,n){return t=yt(t),function(e,t){if(t&&("object"===it(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dt()?Reflect.construct(t,n||[],yt(e).constructor):t.apply(e,n))}function dt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dt=function dt(){return!!e})()}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function ht(e,t){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ht(e,t)}var bt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=mt(this,t,[e])).state={items:[],modalAdd:!1,saved:!1,searchQuery:"",selectedItem:null,selectedItems:e.selectedItems},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ht(e,t)}(t,e),n=t,r=[{key:"componentDidUpdate",value:function value(e){this.props.open&&!e.open&&this.onSearch(),this.props.selectedItems!==e.selectedItems&&this.setState({selectedItems:this.props.selectedItems})}},{key:"isSelected",value:function value(e){return!!a().findWhere(this.state.selectedItems,{id:e.id})}},{key:"onItemClick",value:function value(e){var t=this;this.props.isSelectable&&!this.props.isSelectable(e)||this.setState((function(n){return{selectedItems:t.isSelected(e)?a().filter(n.selectedItems,(function(t){return t.id!==e.id})):t.props.multiple?[].concat(ut(n.selectedItems),[e]):[e]}}))}},{key:"onItemSelection",value:function value(e){this.state.selectedItem===e?this.setState({selectedItem:null},this.onItemClick.bind(this,e)):this.setState({selectedItem:e})}},{key:"onItemToggle",value:function value(e){var t=this;e.loaded||this.onSearch(e.id).then((function(){t.setState((function(t){return{items:a().map(t.items,(function(t){return t.id===e.id?ct(ct({},t),{},{loaded:!0}):t}))}}))}))}},{key:"onSearch",value:function value(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.props.onSearch(t,this.state.searchQuery).then((function(n){var r=n.data[e.props.collectionName];e.setState((function(e){return t?{items:[].concat(ut(e.items||[]),ut(r))}:{items:r}}))}))}},{key:"onSearchChange",value:function value(e,t){var n=t.value;this.setState({searchQuery:n})}},{key:"render",value:function value(){var e=this;return o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{className:"accordion-selector",mountNode:t,open:e.props.open,size:"small"},o().createElement(l.Modal.Header,null,o().createElement(l.Grid,{columns:2,verticalAlign:"middle"},o().createElement(l.Grid.Column,{textAlign:"left",width:7},o().createElement(l.Header,{content:e.props.title?e.props.title:j.t("AccordionSelector.title")})),o().createElement(l.Grid.Column,{textAlign:"right",width:9},o().createElement(l.Input,{"aria-label":"Search",autoFocus:!0,icon:"search",onKeyDown:v.Timer.clearSearchTimer.bind(e),onKeyUp:v.Timer.setSearchTimer.bind(e,e.onSearch.bind(e)),onChange:e.onSearchChange.bind(e),size:"mini",type:"text",value:e.state.searchQuery}),e.renderAddButton()))),o().createElement(l.Modal.Content,null,o().createElement(ot,{isSelected:function isSelected(t){return e.state.selectedItem===t},items:e.state.selectedItems,onItemClick:e.onItemSelection.bind(e),renderItem:e.props.renderItem.bind(e)}),o().createElement(b,{getChildItems:e.props.getChildItems.bind(e,e.state.items),onItemClick:e.onItemClick.bind(e),onItemToggle:e.onItemToggle.bind(e),renderItem:e.props.renderItem.bind(e),renderRight:e.renderRight.bind(e),rootItems:e.props.getRootItems(e.state.items),showToggle:e.props.showToggle.bind(e)}),e.renderAddModal(),e.state.saved&&o().createElement(I,{onDismiss:function onDismiss(){return e.setState({saved:!1})},type:I.MessageTypes.positive},o().createElement(l.Message.Header,{content:j.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:j.t("Common.messages.save.content")}))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.props.onSave.bind(e,e.state.selectedItems),primary:!0,size:"medium",type:"submit"},j.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.props.onClose.bind(e),size:"medium",type:"button"},j.t("Common.buttons.cancel"))))}))}},{key:"renderAddButton",value:function value(){var e=this;return this.props.modal?o().createElement(l.Button,{basic:!0,className:"add-button",content:j.t("Common.buttons.add"),icon:"plus",onClick:function onClick(){return e.setState({modalAdd:!0})}}):null}},{key:"renderAddModal",value:function value(){var e=this;if(!this.state.modalAdd||!this.props.modal)return null;var t=this.props.modal,n=t.component,r=t.props,i=t.onSave;return o().createElement(K,at({component:n,onClose:function onClose(){return e.setState({modalAdd:!1,selectedItem:null})},onSave:function onSave(t){return i(t).then((function(t){return e.setState({modalAdd:!1,saved:!0,searchQuery:"",selectedItems:[t]},e.onSearch.bind(e))}))}},r))}},{key:"renderRight",value:function value(e){return this.isSelected(e)?o().createElement(l.Icon,{color:"green",name:"check"}):null}}],r&&function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pt(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);bt.defaultProps=void 0,bt.defaultProps={isSelectable:void 0,modal:void 0,multiple:!1,open:!1,selectedItems:[],title:void 0};var vt=(0,H.withTranslation)()(bt),Et=function Et(e){return o().createElement(l.Button.Group,{className:"arrow-buttons",vertical:!0},o().createElement(l.Button,{"aria-label":"Move Right",basic:!0,icon:"arrow right",onClick:e.onRight.bind(undefined)}),o().createElement(l.Button,{"aria-label":"Move Left",basic:!0,icon:"arrow left",onClick:e.onLeft.bind(undefined)}))};function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt=function wt(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return St(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:e.centered,className:"audio-player",mountNode:t,open:e.open},o().createElement(l.Modal.Content,null,a&&o().createElement(l.Message,{content:j.t("AudioPlayer.errors.path.content",{path:e.src}),header:j.t("AudioPlayer.errors.path.header"),icon:"exclamation circle"}),o().createElement("audio",{controls:!0,onError:function onError(){return c(!0)},src:e.src})),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:j.t("Common.buttons.close"),onClick:e.onClose})))}))},Ot=__webpack_require__("../../node_modules/zotero-api-client/lib/main.cjs"),Ct=n.n(Ot),jt=JSON.parse('{"artwork":{"medium":"artworkMedium"},"audioRecording":{"medium":"audioRecordingFormat","publisher":"label"},"bill":{"number":"billNumber","volume":"codeVolume","pages":"codePages"},"blogPost":{"publicationTitle":"blogTitle","type":"websiteType"},"bookSection":{"publicationTitle":"bookTitle"},"case":{"title":"caseName","date":"dateDecided","number":"docketNumber","volume":"reporterVolume","pages":"firstPage"},"computerProgram":{"publisher":"company"},"conferencePaper":{"publicationTitle":"proceedingsTitle"},"dictionaryEntry":{"publicationTitle":"dictionaryTitle"},"email":{"title":"subject"},"encyclopediaArticle":{"publicationTitle":"encyclopediaTitle"},"film":{"publisher":"distributor","type":"genre","medium":"videoRecordingFormat"},"forumPost":{"publicationTitle":"forumTitle","type":"postType"},"hearing":{"number":"documentNumber"},"interview":{"medium":"interviewMedium"},"letter":{"type":"letterType"},"manuscript":{"type":"manuscriptType"},"map":{"type":"mapType"},"patent":{"number":"patentNumber","date":"issueDate"},"podcast":{"number":"episodeNumber","medium":"audioFileType"},"preprint":{"type":"genre","publisher":"repository","number":"archiveID"},"presentation":{"type":"presentationType"},"radioBroadcast":{"publicationTitle":"programTitle","number":"episodeNumber","medium":"audioRecordingFormat","publisher":"network"},"report":{"number":"reportNumber","type":"reportType","publisher":"institution"},"statute":{"title":"nameOfAct","number":"publicLawNumber","date":"dateEnacted"},"thesis":{"type":"thesisType","publisher":"university"},"tvBroadcast":{"publicationTitle":"programTitle","number":"episodeNumber","medium":"videoRecordingFormat","publisher":"network"},"videoRecording":{"medium":"videoRecordingFormat","publisher":"studio"},"webpage":{"publicationTitle":"websiteTitle","type":"websiteType"}}');function kt(e){return kt="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},kt(e)}function Pt(){Pt=function Pt(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function u(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),l=new D(r||[]);return o(a,"_invoke",{value:k(e,n,l)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",m="suspendedYield",d="executing",y="completed",h={};function b(){}function v(){}function g(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(T([])));w&&w!==n&&r.call(w,a)&&(E=w);var O=g.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(o,i,a,l){var c=f(e[o],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==kt(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function value(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=P(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?y:m,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(kt(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},C(j.prototype),u(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,D.prototype={constructor:D,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function It(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function At(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tt=["mimeType","linkMode","charset","md5","mtime","version","key","collections","relations","parentItem","contentType","filename","tags","creator","abstractNote","notes","rights","extra"],xt=["modified","filename","dateAdded","dateModified"],Mt=function Mt(e){var t={},n=!1;try{t=JSON.parse(localStorage.getItem("zotero-bib-api-cache"))||{}}catch(e){}return e in t&&(n=Date.now()-t[e]<864e5),n||(t[e]=Date.now(),localStorage.setItem("zotero-bib-api-cache",JSON.stringify(t))),n},Nt=function(){var e,t=(e=Pt().mark((function e(t){var n,r,o,i,a,l,c,u,s,f=arguments;return Pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(f.length>1&&void 0!==f[1])||f[1],e.prev=1,e.next=4,Promise.all([Ct()().itemTypes().get({cache:Mt("itemTypes")?"force-cache":"default"}),Ct()().itemTypeFields(t).get({cache:Mt("itemTypeFields-".concat(t))?"force-cache":"default"}),Ct()().itemTypeCreatorTypes(t).get({cache:Mt("itemTypeCreatorTypes-".concat(t))?"force-cache":"default"})]);case 4:a=e.sent,3,l=function(e){if(Array.isArray(e))return e}(p=a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),3!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(p)||At(p,3)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1],s=l[2],r=c.getData(),o=u.getData(),i=s.getData(),e.next=20;break;case 14:if(e.prev=14,e.t0=e.catch(1),localStorage.removeItem("zotero-bib-api-cache"),!n){e.next=19;break}return e.abrupt("return",Nt(t,!1));case 19:throw e.t0;case 20:return e.abrupt("return",{itemTypes:r,itemTypeFields:o,itemTypeCreatorTypes:i});case 21:case"end":return e.stop()}var p}),e,null,[[1,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){It(i,r,o,a,l,"next",e)}function l(e){It(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Bt={getFieldsAndItem:function getFieldsAndItem(e,t,n){var r;if(!e||!t||!n)return{item:e,fields:[]};var o,i=e.itemType in jt&&(null===(r=jt[e.itemType])||void 0===r?void 0:r.title)||"title",l=[{field:"itemType",localized:"Item Type"},t.find((function(e){return e.field===i})),{field:"creators",localized:"Creators"}].concat((o=t.filter((function(e){return e.field!==i})),function(e){if(Array.isArray(e))return Dt(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||At(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter((function(e){return e&&!Tt.includes(e.field)})).concat([t.find((function(e){return"abstractNote"===e.field})),t.find((function(e){return"extra"===e.field}))]);if(["book","bookSection"].includes(e.itemType)){var c=l.findIndex((function(e){return"date"===e.field}));l.splice(c+1,0,{field:"original-date",localized:"Original Date"});var u="extra"in e&&e.extra.match(/^original-date:\s*(.*?)$/);u&&a().extend(e,{"original-date":u[1],extra:e.extra.replace(/^original-date:\s*.*?$/,"")})}if(["webpage"].includes(e.itemType)){var s=l.findIndex((function(e){return"websiteType"===e.field}));l.splice(s+1,0,{field:"publisher",localized:"Publisher"});var f="extra"in e&&e.extra.match(/^publisher:\s*(.*?)$/i);f&&a().extend(e,{publisher:f[1],extra:e.extra.replace(/^publisher:\s*.*?$/,"")})}return l=l.map((function(t){return{options:"itemType"===t.field?n:null,key:t.field,label:t.localized,readonly:xt.includes(t.field),processing:!1,value:t.field in e?e[t.field]:null}})),{item:e,fields:l}},getItemTypeMeta:Nt,isUrl:function isUrl(e){return!!e.match(/^(https?:\/\/)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b(\S*)$/i)}};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Lt(e)}var Rt=void 0;function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){var r;return r=function(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Lt(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=function Ht(e){var t=(0,r.useCallback)((function(t,n,r){var o=r.value;return e.onUpdate(_t(_t({},e.creator||{}),{},Ut({},t,o)))}),[e.creator,e.onUpdate]),n=(0,r.useCallback)((function(t){return e.onUpdate(_t(_t({},e.creator||{}),t))}),[e.creator,e.onUpdate]),i=(0,r.useMemo)((function(){return o().createElement("label",null,o().createElement(l.Dropdown,{onChange:t.bind(Rt,"creatorType"),options:a().map(e.creatorTypes,(function(e){return{key:e.value,value:e.value,text:e.label}})),value:e.creator.creatorType}))}),[e.creator.creatorType,e.creatorTypes]);return(0,r.useEffect)((function(){a().has(e.creator,"nameType")||n({nameType:1})}),[e.creator,n]),(0,r.useEffect)((function(){if(e.creator.name&&1===e.creator.nameType){var t=(2,function(e){if(Array.isArray(e))return e}(l=e.creator.name.split(" "))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(l)||function(e,t){if(e){if("string"==typeof e)return Ft(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,2):void 0}}(l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],o=t[1];n({name:null,firstName:r,lastName:o})}else if((e.creator.firstName||e.creator.lastName)&&0===e.creator.nameType){var i=a().compact([e.creator.firstName,e.creator.lastName]).join(" ");n({firstName:null,lastName:null,name:i})}var l}),[e.creator.nameType]),o().createElement(l.Form.Group,{className:"creator-field"},1===e.creator.nameType&&o().createElement(o().Fragment,null,o().createElement(l.Form.Input,{className:"flex",label:i,onChange:t.bind(Rt,"firstName"),placeholder:j.t("CreatorField.labels.firstName"),value:e.creator.firstName}),o().createElement(l.Form.Input,{className:"flex",onChange:t.bind(Rt,"lastName"),placeholder:j.t("CreatorField.labels.lastName"),value:e.creator.lastName}),o().createElement(l.Form.Button,{icon:"exchange",onClick:function onClick(){return n({nameType:0})}})),0===e.creator.nameType&&o().createElement(o().Fragment,null,o().createElement(l.Form.Input,{className:"flex",label:i,onChange:t.bind(Rt,"name"),placeholder:j.t("CreatorField.labels.name"),value:e.creator.name}),o().createElement(l.Form.Button,{icon:"exchange",onClick:function onClick(){return n({nameType:1})}})),o().createElement(l.Form.Button,{icon:"plus",onClick:e.onAdd}),o().createElement(l.Form.Button,{disabled:!e.allowDelete,icon:"minus",onClick:e.onDelete}))};function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Gt(e)}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=Gt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Gt(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kt=function Kt(e){var t=(0,r.useMemo)((function(){return e.creatorTypes&&e.creatorTypes.length&&e.creatorTypes[0].value}),[e.creatorTypes]),n=(0,r.useCallback)((function(){return e.onChange([].concat(function(e){if(Array.isArray(e))return $t(e)}(n=e.value||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{creatorType:t}]));var n}),[e.onChange,e.value]),i=(0,r.useCallback)((function(t){return e.onChange(a().filter(e.value,(function(e,n){return n!==t})))}),[e.onChange,e.value]),l=(0,r.useCallback)((function(t,n){return e.onChange(a().map(e.value,(function(e,r){return r===t?n:e})))}),[e.onChange,e.value]),c=(0,r.useCallback)((function(n){return a().findWhere(e.creatorTypes,{value:n.creatorType})?n:qt(qt({},n),{},{creatorType:t})}),[e.creatorTypes,t]);return(0,r.useEffect)((function(){n()}),[]),(0,r.useEffect)((function(){e.value&&e.value.length&&e.onChange(a().map(e.value,c))}),[c,e.creatorTypes]),a().map(e.value,(function(t,r){return o().createElement(Ht,{allowDelete:e.value.length>1,creator:t,creatorTypes:e.creatorTypes,key:r,onAdd:function onAdd(){return n()},onDelete:function onDelete(){return i(r)},onUpdate:function onUpdate(e){return l(r,e)}})}))};function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Wt(e)}var Qt=void 0;function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jt=function Jt(e){var t=Yt((0,r.useState)([]),2),n=t[0],i=t[1],c=Yt((0,r.useState)([]),2),u=c[0],s=c[1],f=(0,r.useCallback)((function(t){return"itemType"===t.key?o().createElement(l.Form.Dropdown,{disabled:t.readonly,key:t.key,label:t.label,onChange:e.onTextInputChange.bind(Qt,t.key),options:a().map(t.options,(function(e){return{key:e.value,value:e.value,text:e.label}})),selectOnBlur:!1,selection:!0,value:e.item[t.key]||""}):"creators"===t.key?o().createElement(Kt,{creatorTypes:n,key:t.key,onChange:function onChange(n){return e.onSetState(function(e,t,n){var r;return r=function(e,t){if("object"!=Wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Wt(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.key,n))},value:e.item[t.key]||[]}):"abstractNote"===t.key||"extra"===t.key?o().createElement(l.Form.TextArea,{disabled:t.readonly,key:t.key,label:t.label,onChange:e.onTextInputChange.bind(Qt,t.key),value:e.item[t.key]||""}):o().createElement(l.Form.Input,{disabled:t.readonly,key:t.key,label:t.label,onChange:e.onTextInputChange.bind(Qt,t.key),value:e.item[t.key]||""})}),[n,e.item]);return(0,r.useEffect)((function(){Bt.getItemTypeMeta(e.item.itemType).then((function(t){var n=a().map(t.itemTypes,(function(e){return{value:e.itemType,label:e.localized}})),r=a().map(t.itemTypeCreatorTypes,(function(e){return{value:e.creatorType,label:e.localized}}));i(r);var o=Bt.getFieldsAndItem(e.item,t.itemTypeFields,n);s(o.fields)}))}),[e.item.itemType]),o().createElement(o().Fragment,null,a().map(u,f))},Zt=function Zt(e){return o().createElement(l.Modal,{as:l.Form,centered:!1,open:!0},o().createElement(l.Modal.Header,{content:j.t("BibliographyModal.title")}),o().createElement(l.Modal.Content,null,o().createElement(Jt,e)),e.children)},en=__webpack_require__("../../node_modules/zotero-translation-client/lib/main.cjs"),tn=n.n(en),nn=(0,r.createContext)();function rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var an=function an(e){var t=rn((0,r.useState)(!1),2),n=t[0],i=t[1],a=rn((0,r.useState)(""),2),c=a[0],u=a[1],s=(0,r.useContext)(nn).translateUrl,f=(0,r.useCallback)((function(t){t.response.ok?e.onFind(t.items):e.onError()}),[e.onFind]),p=(0,r.useCallback)((function(){i(!0);var e=new(tn())({translateURL:s,persist:!1});Bt.isUrl(c)?e.translateUrl(c,{add:!1}).then(f).finally((function(){return i(!1)})):e.translateIdentifier(c,{add:!1}).then(f).finally((function(){return i(!1)}))}),[c]);return o().createElement("div",{className:"bibliography-search-input"},o().createElement(l.Input,{autoFocus:!0,disabled:n,onChange:function onChange(e,t){var n=t.value;return u(n)},placeholder:j.t("BibliographySearchInput.labels.placeholder"),value:c}),o().createElement(l.Button,{className:"search-button",content:j.t("Common.buttons.search"),disabled:n,loading:n,onClick:p,primary:!0}))},ln="ascending",cn="descending";function un(e){return un="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},un(e)}function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=un(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==un(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn=function pn(e){var t=(0,r.useRef)(),n=(0,r.useCallback)((function(t){var n=e.value===t.value&&e.direction===ln?cn:ln;e.onChange(fn(fn({},t),{},{direction:n}))}),[e.direction,e.onChange,e.value]);return(0,r.useEffect)((function(){var t;e.value||(t=e.defaultValue?a().findWhere(e.options,{value:e.defaultValue}):a().first(e.options),n(t))}),[]),o().createElement(l.Button.Group,{basic:!0,className:"sort-selector",style:{fontSize:"inherit"}},o().createElement(l.Button,{"aria-label":"Sort by",content:e.text,icon:e.direction===ln?"sort alphabet up":"sort alphabet down",onClick:function onClick(e){return t.current.handleClick(e)}}),o().createElement(l.Dropdown,{"aria-label":"Sort",className:"button icon",floating:!0,options:a().map(e.options,(function(e){return fn(fn({},e),{},{onClick:function onClick(){return n(e)}})})),ref:t,trigger:o().createElement(o().Fragment,null),value:e.value}))},mn=function mn(e){var t=(0,v.useCitationStyles)(e.value),n=t.onStyleChange,i=t.style,c=t.styles;return(0,r.useEffect)((function(){null!=i&&i.name&&null!=i&&i.xml&&e.onChange(i.name,i.xml)}),[i]),o().createElement(l.Dropdown,{onChange:function onChange(e,t){var r=t.value;return n(r)},options:a().map(c,(function(e){var t=e.name;return{key:t,value:t,text:e.title}})),search:!0,searchInput:{"aria-label":"Search styles"},selectOnBlur:!1,selection:!0,text:null==i?void 0:i.title,value:(null==i?void 0:i.name)||""})};function dn(e){return dn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},dn(e)}function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yn.apply(this,arguments)}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=dn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=dn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==dn(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var En="author",Sn="date",wn="title",On=[{key:wn,value:wn,text:j.t("BibliographyList.sort.title")},{key:En,value:En,text:j.t("BibliographyList.sort.author")},{key:Sn,value:Sn,text:j.t("BibliographyList.sort.date")}],Cn=Re((function(e){return o().createElement(l.List,{divided:!0,relaxed:"very"},a().map(e.items,(function(t,n){return o().createElement(l.List.Item,{as:l.Grid,columns:2,key:n,padded:!0},o().createElement(l.List.Content,{as:l.Grid.Column,textAlign:"left",verticalAlign:"middle",width:14},o().createElement(v.Citation,{item:t,locale:e.locale,style:e.style&&e.style.xml})),o().createElement(l.List.Content,{as:l.Grid.Column,textAlign:"right",verticalAlign:"middle",width:2},a().map(e.actions,(function(e,n){return o().createElement(l.Button,{"aria-label":e.name,basic:!0,icon:e.icon,key:n,onClick:e.onClick.bind(void 0,t)})}))))})))})),jn=function jn(e){var t=vn((0,r.useState)(),2),n=t[0],i=t[1],c=vn((0,r.useState)(!1),2),u=c[0],s=c[1],f=vn((0,r.useState)(),2),p=f[0],m=f[1],d=vn((0,r.useState)({}),2),y=d[0],h=d[1],b=(0,r.useCallback)((function(e){var t=(e||{}).id,n=(e||{}).uid,r=void 0===n?E()():n,o=a().omit(e,"id","uid","data");return a().extend(o,{creators:a().reject(e.creators,(function(e){return!(e.name||e.firstName||e.lastName)}))}),{id:t,uid:r,data:o}}),[]),v=(0,r.useCallback)((function(e,t){var n;if(y===wn)n=e.title;else if(y===En){var r=a().first(e.creators);n=(null==r?void 0:r.name)||"".concat(null==r?void 0:r.lastName,", ").concat(null==r?void 0:r.firstName)}else n=y===Sn?e.date:t;return n}),[]),g=(0,r.useMemo)((function(){var t=a().chain(e.items).filter((function(e){return!e._destroy})).map((function(e){return bn(bn({},a().omit(e,"data")),e.data)})).value();return t=a().sortBy(t,v),y.direction===cn&&(t=t.reverse()),t}),[v,y,e.items]),S=(0,r.useCallback)((function(){return o().createElement(o().Fragment,null,o().createElement(mn,{onChange:function onChange(e,t){return m({name:e,xml:t})}}),o().createElement(pn,{direction:y.direction,onChange:function onChange(e){return h(e)},options:On,text:y.text,value:y.value}))}),[y,p]),w=(0,r.useCallback)((function(t){return Promise.resolve(e.onDelete(b(t)))}),[b,e.onDelete]),O=(0,r.useCallback)((function(t){return Promise.resolve(e.onSave(b(t)))}),[b,e.onSave]);return(0,r.useEffect)((function(){fetch("https://raw.githubusercontent.com/citation-style-language/locales/master/locales-en-US.xml").then((function(e){return e.text()})).then((function(e){return i(e)}))}),[]),o().createElement(nn.Provider,{value:{translateUrl:e.translateUrl}},o().createElement("div",null,o().createElement(an,{onError:function onError(){return s(!0)},onFind:function onFind(e){return a().map(e,O)}}),o().createElement(Cn,yn({},e,{actions:[{name:"edit"},{name:"delete"}],className:"bibliography-list",items:g,locale:n,modal:{component:Zt,props:{defaults:{itemType:"book"}}},onDelete:w,onSave:O,renderListHeader:S,style:p})),u&&o().createElement(I,{onDismiss:function onDismiss(){return s(!1)},timeout:2500,type:I.MessageTypes.warning},o().createElement(l.Message.Header,{content:j.t("Common.messages.noResults")}))))},kn=function kn(e){var t="times circle outline",n="red";return e.value&&(t="check circle outline",n="green"),o().createElement(l.Icon,{color:n,name:t})};function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return In(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var An=function An(e){var t=Pn((0,r.useState)(!1),2),n=t[0],i=t[1],a=Pn((0,r.useState)(null),2),c=a[0],u=a[1];return(0,r.useEffect)((function(){e.id?(e.onLoad(e.id,e.name).then((function(e){return u(e)})).finally((function(){return i(!1)})),i(!0)):u(null)}),[e.id,e.name]),o().createElement(o().Fragment,null,o().createElement(l.Breadcrumb.Section,{active:e.active&&!e.id,as:e.as,to:"/".concat(e.url)},e.label),e.id&&o().createElement(l.Breadcrumb.Divider,{icon:"right chevron"}),n&&o().createElement(l.Loader,{active:!0,inline:!0}),c&&e.id&&o().createElement(l.Breadcrumb.Section,{active:e.active,as:e.as,to:"/".concat(e.url,"/").concat(e.id)},c))},Dn=function Dn(e){var t=(0,r.useCallback)((function(e){return/^\d+$/.test(e)}),[]),n=(0,r.useMemo)((function(){for(var n=[],r=e.pathname.split("/").splice(1),o=0;o<r.length;o+=1){var i=r[o],a=r[o+1],l=r.slice(0,o+1).join("/");if(!t(i)){var c={key:i,url:l,id:void 0};t(a)&&(c.id=a),n.push(c)}}return n}),[e.pathname]),i=(0,r.useCallback)((function(e){return e<n.length-1}),[n]);return o().createElement(l.Breadcrumb,{size:"large"},a().map(n,(function(t,n){return o().createElement(o().Fragment,null,o().createElement(An,{active:!i(n),as:e.as,id:t.id,label:e.labels[t.key],name:t.key,onLoad:e.onLoad,url:t.url}),i(n)&&o().createElement(l.Breadcrumb.Divider,{icon:"right chevron"}))})))},Tn=function Tn(e){return o().createElement(l.Button,{basic:!0,disabled:e.disabled,onClick:e.onClick.bind(void 0),size:"medium",type:"button"},j.t("Common.buttons.cancel"))},xn=function xn(e){return o().createElement(l.Button,{className:"color-button",onClick:e.onClick&&e.onClick.bind(void 0),style:{backgroundColor:e.color,cursor:e.onClick?"pointer":"default",height:e.height,width:e.width},title:"color-button"})};xn.defaultProps={height:void 0,onClick:void 0,width:void 0};var Mn=xn,Nn=__webpack_require__("../../node_modules/react-color/es/index.js");function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Bn(e)}function Rn(e){var t=function(e,t){if("object"!=Bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bn(t)?t:String(t)}function Fn(e,t,n){return t=_n(t),function(e,t){if(t&&("object"===Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zn()?Reflect.construct(t,n||[],_n(e).constructor):t.apply(e,n))}function zn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zn=function zn(){return!!e})()}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}function Un(e,t){return Un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Un(e,t)}var Hn=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Fn(this,t,[e])).state={selectedColor:e.color},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Un(e,t)}(t,e),n=t,(r=[{key:"render",value:function value(){var e=this;return o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{className:"color-picker-modal",mountNode:t,onClose:e.props.onClose.bind(e),open:e.props.open},o().createElement(l.Modal.Content,null,o().createElement(Nn.SketchPicker,{color:e.state.selectedColor,disableAlpha:!1,onChangeComplete:function onChangeComplete(t){return e.setState({selectedColor:t})}})),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.props.onSave.bind(e,e.state.selectedColor),primary:!0,size:"medium",type:"submit"},j.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.props.onClose.bind(e),size:"medium",type:"button"},j.t("Common.buttons.cancel"))))}))}}])&&function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rn(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component),Gn=function Gn(e){return o().createElement(l.Label.Group,null,a().map(e.items,(function(e,t){return o().createElement(l.Label,{content:e.label,key:t,onRemove:e.onClick})})),e.count&&e.count>e.items.length&&e.onShowMore&&o().createElement(l.Label,{as:l.Button,content:"+".concat(e.count-e.items.length),onClick:e.onShowMore}))};Gn.defaultProps={count:void 0,onShowMore:void 0};var Vn=Gn,qn=function qn(e){return o().createElement(l.Modal,{centered:!1,open:e.open},o().createElement(l.Modal.Header,{content:j.t("CurrentFacetsModal.title")}),o().createElement(l.Modal.Content,null,o().createElement(Vn,{items:e.items})),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:j.t("Common.buttons.done"),onClick:e.onClose,primary:!0})))};qn.defaultProps={open:void 0};var $n=qn,Kn=["useCurrentRefinements"];function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qn=function Qn(e){var t,i=e.useCurrentRefinements,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Kn),c=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return Wn(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],f=i(l).items,p=(0,r.useMemo)((function(){return a().flatten(a().map(f,(function(e){return a().map(e.refinements,(function(t){return{label:"".concat(e.label,": ").concat(t.label),onClick:function onClick(){return e.refine(t)}}}))})))}),[f]),m=(0,r.useMemo)((function(){return a().filter(p,(function(e,t){return!l.limit||t<l.limit}))}),[p,l.limit]);return a().isEmpty(p)?null:o().createElement(o().Fragment,null,o().createElement(Vn,{count:p.length,items:m,onShowMore:function onShowMore(){return s(!0)}}),o().createElement($n,{items:p,open:u,onClose:function onClose(){return s(!1)}}))};Qn.defaultProps={limit:void 0};var Yn=Qn,Xn=function Xn(e){return o().createElement("div",{className:"column-resize",onMouseDown:e.onMouseDown.bind(void 0),role:"presentation"}," ")},Jn=__webpack_require__("../../node_modules/react-dnd/dist/esm/index.js");function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tr="vertical",nr=function nr(e){var t=e.index,n=e.id,i=e.direction,a=void 0===i?tr:i,c=(0,r.useRef)(null),u=Zn((0,Jn.useDrop)({accept:"any",hover:function hover(n,r){if(c.current){var o=n.index,i=t;if(o!==i){var l,u,s=c.current.getBoundingClientRect(),f=r.getClientOffset();l=a===tr?(s.bottom-s.top)/2:(s.right-s.left)/2,u=a===tr?f.y-s.top:f.x-s.left,o<i&&u<l||o>i&&u>l||(e.onDrag(o,i),n.index=i)}}}}),2)[1],s=Zn((0,Jn.useDrag)({item:{type:"any",id:n,index:t},begin:function begin(){return e.onDragStart&&e.onDragStart()},end:function end(){return e.onDragEnd&&e.onDragEnd()},collect:function collect(e){return{isDragging:e.isDragging()}}}),2),f=s[0].isDragging;return(0,s[1])(u(c)),c&&c.current&&(c.current.style.opacity=f?0:1),o().createElement(l.Ref,{innerRef:c},e.children)};function rr(e){return rr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},rr(e)}function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or.apply(this,arguments)}function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=cr(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cr(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==rr(t)?t:String(t)}function ur(e,t,n){return t=fr(t),function(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sr()?Reflect.construct(t,n||[],fr(e).constructor):t.apply(e,n))}function sr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sr=function sr(){return!!e})()}function fr(e){return fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fr(e)}function pr(e,t){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pr(e,t)}function mr(e){return mr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},mr(e)}function dr(){return dr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dr.apply(this,arguments)}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e){var t=function(e,t){if("object"!=mr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=mr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mr(t)?t:String(t)}function vr(e,t,n){return t=Er(t),function(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}(e,gr()?Reflect.construct(t,n||[],Er(e).constructor):t.apply(e,n))}function gr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gr=function gr(){return!!e})()}function Er(e){return Er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Er(e)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}var Or=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=vr(this,t,[e])).columnRefs=void 0,n.onClick=void 0,n.onMouseMove=void 0,n.onMouseUp=void 0,n.state={resize:null,activePanel:null},n.initializeColumnRefs(),n.onClick=n.onPreventClick.bind(Sr(n)),n.onMouseMove=n.onColumnResize.bind(Sr(n)),n.onMouseUp=n.afterColumnResize.bind(Sr(n)),n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(t,e),n=t,(i=[{key:"afterColumnResize",value:function value(){this.state.resize&&v.Browser.isBrowser()&&(document.addEventListener("click",this.onClick,!0),this.setState({resize:void 0}))}},{key:"initializeColumnRefs",value:function value(){var e=this;this.columnRefs={},a().each(this.props.columns,(function(t){e.columnRefs[t.name]=(0,r.createRef)()}))}},{key:"componentDidMount",value:function value(){v.Browser.isBrowser()&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"componentDidUpdate",value:function value(e){v.Object.isEqual(e.columns,this.props.columns)||this.initializeColumnRefs()}},{key:"componentWillUnmount",value:function value(){v.Browser.isBrowser()&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))}},{key:"getColumnCount",value:function value(){var e=this.props.columns.length;return this.props.actions&&this.props.actions.length&&(e+=1),e}},{key:"onColumnResize",value:function value(e){var t=this.state.resize;if(t){var n=t.columnRef,r=t.offset;n.current.style.width="".concat(r+e.pageX,"px")}}},{key:"onPreventClick",value:function value(e){e.stopPropagation(),v.Browser.isBrowser()&&document.removeEventListener("click",this.onClick,!0)}},{key:"onSelectAll",value:function value(e){var t,n;t=e?function(e){if(Array.isArray(e))return yr(e)}(n=this.props.items||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yr(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():a().reject(this.props.items,this.props.isRowSelected.bind(this)),a().each(t,this.props.onRowSelect&&this.props.onRowSelect.bind(this))}},{key:"render",value:function value(){return o().createElement(l.Table,dr({className:"data-table"},this.props.tableProps),o().createElement(l.Table.Header,null,o().createElement(l.Table.Row,null,this.renderSelectHeader(),this.props.columns.map(this.renderHeaderCell.bind(this)),this.renderActionsHeader())),o().createElement(l.Table.Body,null,this.props.items&&this.props.items.map(this.renderItem.bind(this)),this.renderEmptyTableRow(),this.renderLoading()))}},{key:"renderActionButton",value:function value(e,t,n){if(n.render)return n.render(e,t);var r=o().createElement(l.Button,{"aria-label":n.name,basic:!0,compact:!0,color:n.color,icon:n.icon,key:"".concat(n.name,"-").concat(t),onClick:n.onClick&&n.onClick.bind(this,e),title:n.title});if(n.popup){var i=n.popup,a=i.content,c=i.title;return o().createElement(l.Popup,{content:a,header:c,hideOnScroll:!0,mouseEnterDelay:500,position:"top right",trigger:r})}return r}},{key:"renderActions",value:function value(e,t){if(!this.props.actions||!this.props.actions.length)return null;var n=this.props.actions.filter((function(t){return!t.accept||t.accept(e)})).map((function(e){var t={};return"edit"===e.name?t={popup:{title:j.t("DataTable.actions.edit.title"),content:j.t("DataTable.actions.edit.content")}}:"copy"===e.name?t={popup:{title:j.t("DataTable.actions.copy.title"),content:j.t("DataTable.actions.copy.content")}}:"delete"===e.name&&(t={popup:{title:j.t("DataTable.actions.delete.title"),content:j.t("DataTable.actions.delete.content")}}),a().defaults(e,t)}));return o().createElement(l.Table.Cell,{className:"actions-cell",key:t},n.map(this.renderActionButton.bind(this,e,t)))}},{key:"renderActionsHeader",value:function value(){return this.props.actions&&this.props.actions.length?o().createElement(l.Table.HeaderCell,null,j.t("DataTable.columns.actions")):null}},{key:"renderCell",value:function value(e,t){return t.hidden?null:(n=t.render?t.render(e):t.resolve?t.resolve(e):e[t.name],o().createElement(l.Table.Cell,{key:"".concat(e.id,"-").concat(t.name),className:t.className},n));var n}},{key:"renderEmptyTableRow",value:function value(){return this.props.loading||this.props.items&&this.props.items.length?null:this.props.renderEmptyRow?this.props.renderEmptyRow():o().createElement(l.Table.Row,null,o().createElement(l.Table.Cell,{colSpan:this.getColumnCount(),textAlign:"center"},o().createElement("div",{className:"empty-container"},this.props.renderEmptyMessage())))}},{key:"renderHeaderCell",value:function value(e){var t=this;return e.hidden?null:e.renderHeader?e.renderHeader():o().createElement(l.Ref,{innerRef:this.columnRefs[e.name]},o().createElement(l.Table.HeaderCell,{key:e.name,sorted:this.props.sortColumn===e.name?this.props.sortDirection:null,onClick:function onClick(){return t.props.onColumnClick(e)}},e.label,o().createElement(Xn,{onMouseDown:function onMouseDown(n){var r=t.columnRefs[e.name],o=r.current.offsetWidth-n.pageX;t.setState({resize:{columnRef:r,offset:o}})}})))}},{key:"renderItem",value:function value(e,t){var n=this,r=[this.renderSelectCheckbox(e,t),this.props.columns.map(this.renderCell.bind(this,e)),this.renderActions(e,t)];return this.props.renderItem?this.props.renderItem(e,t,r):o().createElement(o().Fragment,null,o().createElement(l.Table.Row,{key:t,onClick:this.props.expandableRows?function(t){"TD"===t.target.nodeName&&n.setState((function(t){return{activePanel:t.activePanel===e.id?"":e.id}}))}:function(){},className:this.props.expandableRows?"expandable":""},r),this.props.expandableRows&&o().createElement(l.Table.Row,{className:this.state.activePanel===e.id?"expanded-panel":"hidden"},this.props.expandPanel&&this.props.expandPanel(e,this.state.activePanel)))}},{key:"renderLoading",value:function value(){return this.props.loading?o().createElement(l.Table.Row,null,o().createElement(l.Table.Cell,{colSpan:this.getColumnCount(),textAlign:"center"},o().createElement(l.Loader,{active:!0,content:j.t("DataTable.loading"),inline:!0}))):null}},{key:"renderSelectCheckbox",value:function value(e,t){return this.props.selectable&&this.props.onRowSelect&&this.props.isRowSelected?o().createElement(l.Table.Cell,{className:"select-cell",key:"select-cell-".concat(t)},o().createElement(l.Checkbox,{onClick:this.props.onRowSelect.bind(this,e),checked:this.props.isRowSelected(e)})):null}},{key:"renderSelectHeader",value:function value(){if(!this.props.selectable)return null;var e=this.props.items&&this.props.items.length&&a().every(this.props.items,this.props.isRowSelected.bind(this));return o().createElement(l.Table.HeaderCell,{className:"select-cell"},o().createElement(l.Checkbox,{onClick:this.onSelectAll.bind(this,e),checked:e}))}}])&&function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,br(r.key),r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);Or.defaultProps=void 0,Or.defaultProps={actions:void 0,addButton:{location:"top",color:"green"},buttons:[],count:0,className:"",csvExportButton:void 0,expandableRows:!1,expandPanel:void 0,filters:void 0,items:[],loading:!1,modal:void 0,page:1,pages:1,onColumnClick:function onColumnClick(){},onCopy:void 0,onPageChange:function onPageChange(){},renderDeleteModal:void 0,renderEmptyRow:void 0,renderSearch:void 0,renderItem:void 0,showRecordCount:!1,sortColumn:void 0,sortDirection:void 0};var kr,Pr,Cr=(kr=Re(Or),(Pr=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ur(this,t,[e])).state={columns:e.columns},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pr(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function value(e){v.Object.isEqual(e.columns,this.props.columns)||this.setState({columns:this.props.columns})}},{key:"onColumnCheckbox",value:function value(e){this.setState((function(t){return{columns:a().map(t.columns,(function(t){return t.name===e.name?ar(ar({},t),{},{hidden:!t.hidden}):t}))}}))}},{key:"onDrag",value:function value(e,t){this.setState((function(n){var r=[],o=[];a().each(n.columns,(function(e,t){e.label&&e.label.length?r.push(e):o.push({index:t,column:e})}));var i=r[e];return r.splice(e,1),r.splice(t,0,i),a().each(o,(function(e){return r.splice(e.index,0,e.column)})),{columns:r}}))}},{key:"render",value:function value(){return o().createElement(kr,or({},this.props,{className:"data-table-column-selector ".concat(this.props.className),columns:this.state.columns,renderListHeader:this.props.configurable?this.renderHeader.bind(this):void 0}))}},{key:"renderHeader",value:function value(){var e=this;return o().createElement(o().Fragment,null,this.props.renderListHeader&&this.props.renderListHeader(),o().createElement(l.Dropdown,{"aria-label":"Select Columns",basic:!0,button:!0,icon:"cog",className:"icon configure-button open-right",closeOnBlur:!1},o().createElement(l.Dropdown.Menu,null,this.state.columns.filter((function(e){return e.label&&e.label.length})).map((function(t,n){return o().createElement(nr,{id:t.name,index:n,key:t.name,onDrag:e.onDrag.bind(e)},o().createElement(l.Dropdown.Item,{"aria-dropeffect":"move",onClick:function onClick(e){return e.stopPropagation()}},o().createElement(l.Icon,{name:"bars"}),o().createElement(l.Checkbox,{"aria-label":"Select Column",checked:!t.hidden,label:t.label,onClick:e.onColumnCheckbox.bind(e,t)})))})))))}}])&&function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cr(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component)).defaultProps={className:""},Pr),jr=__webpack_require__("../../node_modules/axios/index.js"),Ir=n.n(jr);function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ar.apply(this,arguments)}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tr=function Tr(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return Dr(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],u=(0,r.useRef)(),s=(0,r.useCallback)((function(){return c(!0)}),[]),f=(0,r.useCallback)((function(){return c(!1)}),[]);return(0,r.useEffect)((function(){return u.current&&(u.current.addEventListener("mouseenter",s),u.current.addEventListener("mouseleave",f)),function(){u.current&&(u.current.removeEventListener("mouseenter",s),u.current.removeEventListener("mouseleave",f))}}),[u]),(0,r.useEffect)((function(){u.current&&e.role&&u.current.setAttribute("role",e.role)}),[u,e.role]),o().createElement(l.Ref,{innerRef:u},o().createElement(l.Dropdown,Ar({},e,{open:a,onClick:function onClick(){e.onClick&&e.onClick(),c(!1)}}),o().createElement(l.Dropdown.Menu,null,e.children)))};Tr.defaultProps={onClick:void 0};var xr=Tr,Mr=["header","items"];function Nr(){return Nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nr.apply(this,arguments)}var Br=function Br(e){var t=e.header,n=e.items,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Mr),c=(0,r.useCallback)((function(e,t){return o().createElement(l.Dropdown.Item,Nr({key:t},e))}),[]),u=(0,r.useCallback)((function(e,t){return o().createElement(l.Menu.Item,Nr({key:t},e))}),[]),s=(0,r.useCallback)((function(e,t){return o().createElement(xr,{"aria-label":e.content,item:!0,key:t,role:"group",text:e.content},a().map(e.items,(function(e){return e.items?s(e):c(e)})))}),[]),f=(0,r.useCallback)((function(e){return e.items?s(e):u(e)}),[]);return o().createElement(l.Menu,Nr({},i,{className:"menu-bar"}),o().createElement(l.Menu.Item,Nr({},t,{header:!0})),a().map(n,(function(e){return f(e)})))},Lr=["contextRef","header","items"];function Rr(){return Rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(this,arguments)}var Fr=function Fr(e){var t=e.contextRef,n=e.header,i=e.items,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Lr),u=(0,r.useCallback)((function(e,t){return o().createElement(l.Menu.Item,{key:t},o().createElement(l.Menu.Header,e),o().createElement(l.Menu.Menu,null,a().map(e.items,(function(e){return f(e)}))))}),[]),s=(0,r.useCallback)((function(e,t){return o().createElement(l.Menu.Item,Rr({key:t},e))}),[]),f=(0,r.useCallback)((function(e){return e.items?u(e):s(e)}),[]);return o().createElement(l.Ref,{innerRef:t},o().createElement(l.Menu,Rr({},c,{fixed:"left",vertical:!0}),o().createElement(l.Menu.Item,null,o().createElement(l.Header,n)),a().map(i,(function(e){return f(e)}))))};function zr(e){return zr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},zr(e)}function _r(e){return function(e){if(Array.isArray(e))return $r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==zr(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||qr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){if(e){if("string"==typeof e)return $r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$r(e,t):void 0}}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr=U((function(e){var t=Vr((0,r.useState)(),2),n=t[0],i=t[1],l=(0,r.useCallback)((function(e){var t=Gr({},e);n&&n.value===e.value&&(t.direction=n.direction===_?z:_),i(t)}),[e.sorts,n]);return(0,r.useEffect)((function(){n&&e.onSort(n.value,n.direction,e.page)}),[n]),(0,r.useEffect)((function(){var t=e.page,n=e.sortColumn,r=void 0===n?"":n,o=e.sortDirection,i=void 0===o?z:o;if(!r){var l=a().first(e.sort);l&&(r=l.value,l.direction&&(i=l.direction))}e.onSort(r,i,t)}),[]),o().createElement(Cr,Ur({},e,{renderListHeader:function renderListHeader(){return e.sorts&&o().createElement(V,{basic:!0,icon:n&&n.direction===_?"sort alphabet down":"sort alphabet up",onChange:function onChange(){},options:a().map(e.sorts,(function(e){return{key:e.value,value:e.value,text:e.label,onClick:function onClick(){return l(e)}}})),text:n?j.t("DataView.labels.sortBy",{column:n.label}):j.t("DataView.labels.noSort"),value:n&&n.value})},tableProps:Gr(Gr({},e.tableProps||{}),{},{celled:!0})}))})),Wr=function Wr(e){var t=Vr((0,r.useState)(),2),n=t[0],i=t[1],c=Vr((0,r.useState)(),2),u=c[0],s=c[1],f=Vr((0,r.useState)([]),2),p=f[0],m=f[1],d=Vr((0,r.useState)([]),2),y=d[0],h=d[1],b=Vr((0,r.useState)(),2),v=b[0],g=b[1],E=Vr((0,r.useState)(),2),S=E[0],w=E[1],O=(0,r.useRef)(),C=(0,r.useMemo)((function(){var e="";return n&&(e=n.url.substr(n.url.lastIndexOf("/")+1,n.url.length)),e}),[n]),k=(0,r.useCallback)((function(t){if(!n)return[];var r=a().chain(t).map((function(e){return a().keys(e)})).flatten().uniq().value(),o=a().map(r,(function(t,r){var o=a().findWhere(n.columns,{name:t})||{},i={name:t,label:t.trim().replace(/^\w/,(function(e){return e.toUpperCase()})).replaceAll("_"," "),sortable:!1,resolve:function resolve(e){return A(e,t)},hidden:r>e.columnCount,index:r};return a().extend(i,o)}));return o=[].concat(_r(o),_r(a().reject(n.columns,(function(e){return a().contains(r,e.name)})))),a().sortBy(o,"index")}),[n]),P=(0,r.useCallback)((function(e){n&&Ir().get("".concat(n.url,"/").concat(e.id)).then((function(e){var t=e.data,n=a().first(a().keys(t));s(t[n])})).catch((function(){s(e)}))}),[n]),I=(0,r.useCallback)((function(e){return n?Ir().get(n.url,{params:e}).then((function(e){var t=e.data[C];return m(k(t)),e})):Promise.resolve()}),[n]),A=(0,r.useCallback)((function(e,t){var n=e[t];return a().isArray(n)?n=a().size(n):a().isBoolean(n)?n=Boolean(n).toString():a().isObject(n)&&(n=n[a().first(a().keys(n))]),n}),[]);return(0,r.useEffect)((function(){if(a().every(e.items,(function(e){return!!e.group}))){var t=a().groupBy(e.items,"group"),r=a().keys(t);h(a().map(r,(function(e){return{content:e,items:a().map(t[e],(function(e){return{active:n&&n.id===e.id,content:e.label,onClick:function onClick(){return i(e)}}}))}})))}else h(e.items)}),[n,e.items]),(0,r.useEffect)((function(){e.items&&e.items.length&&i(a().first(e.items))}),[e.items]),(0,r.useEffect)((function(){"left"===e.layout&&O&&O.current&&g(O.current.offsetWidth)}),[O,e.layout]),(0,r.useEffect)((function(){var e=[];n&&e.push(n.id),p&&p.length&&e.push.apply(e,_r(a().pluck(p,"name"))),w(e.join(""))}),[n,p]),o().createElement("div",{className:"data-view"},"top"===e.layout&&o().createElement(Br,{header:{content:e.title},items:y}),"left"===e.layout&&o().createElement(Fr,{contextRef:O,header:{content:e.title},items:y}),o().createElement("div",{style:{marginLeft:v}},n&&o().createElement(Kr,{actions:[{name:"details",icon:"info",onClick:P}],collectionName:C,columns:p,key:S,onLoad:I,perPageOptions:[10,25,50,100],searchable:!0,sorts:n.sorts})),u&&o().createElement(ie.Consumer,null,(function(e){return o().createElement(l.Modal,{as:l.Form,centered:!1,className:"data-view-modal",closeIcon:!0,mountNode:e,onClose:function onClose(){return s(null)},open:!0},o().createElement(l.Modal.Header,{content:j.t("DataView.labels.details")}),o().createElement(l.Modal.Content,null,o().createElement(l.Grid,{columns:3,doubling:!0},a().map(k([u]),(function(e){return o().createElement(l.Grid.Column,{as:l.Form.Field,key:e.name},o().createElement("span",{className:"label"},e.label),A(u,e.name))})))))})))};Wr.defaultProps={columnCount:5,layout:"left"};var Qr=Wr;function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yr.apply(this,arguments)}var Xr=U((function(e){var t=v.Hooks.usePrevious(e.columns),n=function n(t){if(t.sortable){var n=t.name,r=z;t.name===e.sortColumn?r=e.sortDirection===z?_:z:t.sortDirection&&(r=t.sortDirection),e.onSort(n,r)}};return(0,r.useEffect)((function(){if(!v.Object.isEqual(e.columns,t)){var r=e.page,o=e.defaultSort,i=e.defaultSortDirection,l=void 0===i?z:i;if(o)e.onSort(o,l,r);else{var c=a().findWhere(e.columns,{sortable:!0});c?n(c):e.onInit()}}}),[e.columns]),o().createElement(Cr,Yr({},e,{onColumnClick:n.bind(void 0)}))}));Xr.defaultProps={configurable:!0,tableProps:{celled:!0,sortable:!0}};var Jr=Xr;function Zr(e){return Zr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Zr(e)}function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=Zr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Zr(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oo=function oo(e){var t=no((0,r.useState)([]),2),n=t[0],i=t[1],l=no((0,r.useState)(),2),c=l[0],u=l[1],s=no((0,r.useState)([]),2),f=s[0],p=s[1],m=(0,r.useRef)(),d=(0,r.useMemo)((function(){return{getColumns:function getColumns(t){return Ir().get("".concat(e.url,"/api/columns"),{params:t})},getData:function getData(t){return Ir().post("".concat(e.url,"/api/search"),t)},getTables:function getTables(){return Ir().get("".concat(e.url,"/api/tables"))}}}),[e.url]),y=(0,r.useCallback)((function(e,t){var n=t[e.column_name],r=e.data_type;return n&&"timestamp without time zone"===r&&(n=new Date(n).toLocaleDateString()),n}),[]);(0,r.useEffect)((function(){d&&d.getTables().then((function(e){var t=e.data;p(t),u(a().first(t))}))}),[d]),(0,r.useEffect)((function(){c&&d.getColumns({table_name:c.table_name}).then((function(e){var t=e.data;return i(t)}))}),[c,d]);var h=(0,r.useMemo)((function(){return a().map(n,(function(t,n){return{name:t.column_name,label:t.column_name,resolve:y.bind(void 0,t),sortable:!0,hidden:n>e.columnCount}}))}),[n,y,e.columnCount]);return o().createElement("div",{className:"database-view"},o().createElement(Fr,{contextRef:m,header:{content:e.title,inverted:!0},inverted:!0,items:[{items:a().map(f,(function(e){return{active:c===e,content:e.table_name,onClick:function onClick(){return u(e)}}}))}],style:{overflow:"auto",width:"250px"}}),o().createElement("div",{style:{marginLeft:"250px"}},c&&o().createElement(Jr,{collectionName:"items",columns:h,onLoad:function onLoad(e){return d.getData(to(to({},e),{},{table_name:c.table_name}))},perPageOptions:[10,25,50,100],searchable:!0})))};oo.defaultProps={columnCount:Number.MAX_SAFE_INTEGER};var io=oo,ao=__webpack_require__("../../node_modules/react-calendar/dist/esm/index.js"),lo=n.n(ao);function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uo=function uo(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return co(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?co(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],u=(0,r.useRef)(null),s=function s(e){var t=u.current;t&&!t.contains(e.target)&&c(!1)};return(0,r.useEffect)((function(){return document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}}),[u]),o().createElement(o().Fragment,null,o().createElement(oe,{formatOptions:e.formatOptions,locale:e.locale,onChange:e.onChange.bind(void 0),onClick:function onClick(){return c(!0)},value:e.value}),o().createElement(l.Transition,{visible:a},o().createElement("div",{ref:u,style:{position:"absolute",zIndex:"999"}},o().createElement(lo(),{locale:e.locale,onChange:function onChange(t){e.onChange(t),e.closeOnSelection&&c(!1)},next2AriaLabel:"Next Year",next2Label:o().createElement(l.Icon,{name:"angle double right"}),nextAriaLabel:"Next Month",nextLabel:o().createElement(l.Icon,{name:"chevron right"}),prev2AriaLabel:"Previous Year",prev2Label:o().createElement(l.Icon,{name:"angle double left"}),prevAriaLabel:"Previous Month",prevLabel:o().createElement(l.Icon,{name:"chevron left"}),value:e.value}))))};uo.defaultProps={closeOnSelection:!0};var so=uo,fo=function fo(e){return o().createElement(l.Popup,{className:e.className,content:e.popupContent,hoverable:!0,mouseEnterDelay:e.delayInterval,trigger:e.renderPopup?e.renderPopup():o().createElement("span",{className:"text"},e.content),wide:!0})};fo.defaultProps={delayInterval:1e3,renderPopup:void 0,popupContent:void 0};var po=fo;function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yo=function yo(e){var t=(0,r.useMemo)((function(){var t,n=["ui","button"];return e.basic&&n.push("basic"),e.className&&n.push.apply(n,function(e){if(Array.isArray(e))return mo(e)}(t=e.className.split(" "))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e.color&&n.push(e.color),e.compact&&n.push("compact"),e.primary&&n.push("primary"),e.secondary&&n.push("secondary"),e.size&&n.push(e.size),n.join(" ")}),[e.basic,e.color]);return o().createElement("a",{className:t,download:e.filename||E()(),href:e.url},o().createElement(l.Icon,{name:"cloud download"}),j.t("Common.buttons.download"))},ho=function ho(e){return o().createElement(l.Button,{onClick:e.onClick.bind(void 0),primary:!0,size:"medium",type:"submit"},j.t("Common.buttons.save"),e.saving&&o().createElement(l.Loader,{active:!0,className:"saving",inline:!0,size:"tiny"}))};function bo(e){return bo="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},bo(e)}function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(this,arguments)}function Eo(e){var t=function(e,t){if("object"!=bo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==bo(t)?t:String(t)}function So(e,t,n){return t=Oo(t),function(e,t){if(t&&("object"===bo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wo()?Reflect.construct(t,n||[],Oo(e).constructor):t.apply(e,n))}function wo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wo=function wo(){return!!e})()}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oo(e)}function Co(e,t){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Co(e,t)}var jo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=So(this,t,[e])).state={currentTab:"",showToaster:!1},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Co(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function value(){if(this.props.menu){var e=a().first(this.props.menu.items);this.setState({currentTab:e&&e.key})}}},{key:"componentDidUpdate",value:function value(e){a().isEmpty(this.props.errors)||a().isEmpty(e.errors)||e.errors===this.props.errors||this.setState({showToaster:!0})}},{key:"onSave",value:function value(){return this.setState({showToaster:!0}),this.props.onSave()}},{key:"render",value:function value(){return o().createElement(l.Dimmer.Dimmable,{as:"div",className:"edit-page ".concat(this.props.className||"")},this.renderLoading(),o().createElement(l.Form,{noValidate:!0},this.renderMenu(),this.renderButtons(),this.renderComponent(),this.renderToaster()))}},{key:"renderButtons",value:function value(){return this.props.menu?null:o().createElement("div",{className:"button-container"},o().createElement(ho,{onClick:this.onSave.bind(this),saving:this.props.saving}),o().createElement(Tn,{disabled:this.props.saving,onClick:this.props.onClose.bind(this)}))}},{key:"renderComponent",value:function value(){var e=this.props.component;return o().createElement(e,vo({},this.props,{currentTab:this.state.currentTab}))}},{key:"renderLoading",value:function value(){return this.props.showLoading&&this.props.loading?o().createElement(l.Dimmer,{active:this.props.loading,inverted:!0},o().createElement(l.Loader,{content:j.t("Common.messages.loading")})):null}},{key:"renderMenu",value:function value(){var e=this;return this.props.menu?o().createElement(l.Menu,a().omit(this.props.menu,"items"),this.props.menu&&a().map(this.props.menu.items,(function(t){return o().createElement(l.Menu.Item,{active:t.key===e.state.currentTab,key:t.key,name:t.name,onClick:function onClick(){return e.setState({currentTab:t.key})}})})),o().createElement(l.Menu.Menu,{position:"right"},o().createElement(l.Menu.Item,null,o().createElement(ho,{onClick:this.onSave.bind(this),saving:this.props.saving}),o().createElement(Tn,{disabled:this.props.saving,onClick:this.props.onClose.bind(this)})))):null}},{key:"renderToaster",value:function value(){var e=this;return this.state.showToaster&&this.props.errors&&this.props.errors.length?o().createElement(I,{onDismiss:function onDismiss(){return e.setState({showToaster:!1})},timeout:0,type:I.MessageTypes.negative},o().createElement(l.Message.Header,{content:j.t("Common.messages.error.header")}),o().createElement(l.Message.List,{items:this.props.errors})):null}}])&&function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eo(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);jo.defaultProps=void 0,jo.defaultProps={showLoading:!0};var ko=(0,v.useEditContainer)(jo);function Po(e){return Po="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Po(e)}function Io(){return Io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Io.apply(this,arguments)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=xo(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e){var t=function(e,t){if("object"!=Po(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Po(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Po(t)?t:String(t)}function Mo(e,t,n){return t=Bo(t),function(e,t){if(t&&("object"===Po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,No()?Reflect.construct(t,n||[],Bo(e).constructor):t.apply(e,n))}function No(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(No=function No(){return!!e})()}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bo(e)}function Lo(e,t){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lo(e,t)}var Ro="ascending",Fo="descending",zo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Mo(this,t,[e])).state={sortColumn:null,sortDirection:null},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lo(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function value(){var e;(e=this.props.defaultSort?a().findWhere(this.props.columns,{name:this.props.defaultSort}):a().find(this.props.columns,(function(e){return!1!==e.sortable})))&&this.onColumnClick(e,this.props.defaultSortDirection)}},{key:"getItems",value:function value(){var e=this.props.items,t=this.state,n=t.sortColumn,r=t.sortDirection;return a().orderBy(a().filter(e,(function(e){return!e._destroy})),n,r)}},{key:"onColumnClick",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ro;if(!this.props.onDrag&&!1!==e.sortable){var n=e.name,r=t||Ro;e.name===this.state.sortColumn&&(r=this.state.sortDirection===Ro?Fo:Ro),this.setState({sortColumn:n,sortDirection:r})}}},{key:"onDelete",value:function value(e){return this.props.onDelete(e),Promise.resolve()}},{key:"onSave",value:function value(e){var t=e.uid?e.uid:E()();return this.props.onSave&&this.props.onSave(Do(Do({},e),{},{uid:t})),Promise.resolve()}},{key:"render",value:function value(){return o().createElement(Cr,Io({},this.props,{actions:this.props.actions,addButton:this.props.addButton,buttons:this.props.buttons,className:"embedded-list ".concat(this.props.className?this.props.className:""),configurable:this.props.configurable,columns:this.props.columns,count:this.props.items.length,items:this.getItems(),modal:this.props.modal,onColumnClick:this.onColumnClick.bind(this),onCopy:this.props.onCopy,onDrag:this.props.onDrag,onDelete:this.onDelete.bind(this),onSave:this.onSave.bind(this),renderDeleteModal:this.props.renderDeleteModal,renderEmptyRow:this.props.renderEmptyRow,renderItem:this.renderItem.bind(this),sortColumn:this.state.sortColumn,sortDirection:this.state.sortDirection,tableProps:{celled:!0,sortable:!this.props.onDrag},selectable:this.props.selectable,onRowSelect:this.props.onRowSelect,selectedRows:this.props.selectedRows,showRecordCount:this.props.showRecordCount}))}},{key:"renderItem",value:function value(e,t,n){if(this.props.onDrag){var r=e.id||e.uid;return o().createElement(nr,{id:r,index:t,item:e,key:r,onDrag:this.props.onDrag.bind(this)},o().createElement(l.Table.Row,null,n))}return o().createElement(l.Table.Row,{key:t},n)}}],r&&function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xo(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);zo.defaultProps=void 0,a().mixin({orderBy:function orderBy(e,t,n){if(!t)return e;var r=a().property(t.split(".")),o=a().sortBy(e,(function(e){return r(e)}));return n===Fo&&(o=o.reverse()),o}}),zo.defaultProps={items:[],addButton:{location:"top"},buttons:[],className:"",configurable:!0,modal:void 0,onCopy:void 0,onDrag:void 0,onSave:function onSave(){},renderDeleteModal:void 0,renderEmptyRow:void 0};var _o=zo;function Uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ho=function Ho(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(e.defaultActive))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return Uo(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uo(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],u=(0,r.useMemo)((function(){var t=["facet"];return e.visible||t.push("hidden"),e.className&&t.push(e.className),t.join(" ")}),[e.className,e.visible]);return(0,r.useImperativeHandle)(e.innerRef,(function(){return{collapse:function collapse(){return c(!1)},expand:function expand(){return c(!0)}}})),o().createElement(o().Fragment,null,o().createElement(l.Accordion,{className:u},o().createElement(l.Accordion.Title,{active:a,index:0,onClick:function onClick(){return c((function(e){return!e}))}},o().createElement("div",{className:"facet-title"},o().createElement(l.Header,{content:e.title,size:"tiny"}),o().createElement(l.Icon,{name:"dropdown"}))),o().createElement(l.Accordion.Content,{active:a},e.children)),e.divided&&o().createElement(l.Divider,null))};Ho.defaultProps={children:void 0,defaultActive:!0,divided:!1,visible:!0};var Go=Ho,Vo=["useClearRefinements"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qo.apply(this,arguments)}var $o=function $o(e){var t=e.useClearRefinements,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Vo),r=t(n),i=r.refine,a=r.canRefine;return o().createElement(l.Button,qo({},n,{disabled:!a,onClick:function onClick(){return i()}}))},Ko=function Ko(e){return o().createElement(l.Button,{basic:!0,className:"link-button",compact:!0,content:e.content,onClick:e.onClick.bind(void 0),type:"button"})};function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Wo(e)}var Qo=["useRefinementList"];function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=Wo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Wo(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ei="or",ti=(0,r.forwardRef)((function(e,t){var n=e.useRefinementList,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Qo),c=Jo((0,r.useState)(i.defaultOperator||ei),2),u=c[0],s=c[1],f=n(Xo(Xo({},i),{},{operator:u})),p=f.canRefine,m=f.canToggleShowMore,d=f.isShowingMore,y=f.items,h=f.refine,b=f.searchForItems,g=f.toggleShowMore,E=(0,r.useRef)(),S=Jo((0,r.useState)(""),2),w=S[0],O=S[1],C=(0,r.useCallback)((function(){O(""),b();var e=E.current;e&&e.focus()}),[]),k=(0,r.useCallback)((function(){return b(w)}),[w,b]),P=(0,r.useCallback)((function(){s((function(e){return e===ei?"and":ei}))}),[]),I=(0,r.useMemo)((function(){return!(p&&a().isEmpty(y)&&a().isEmpty(w))}),[y,w]);return(0,r.useEffect)((function(){i.defaultValue&&h(i.defaultValue)}),[i.defaultValue]),(0,r.useEffect)((function(){w&&b(w)}),[y]),o().createElement(Go,{className:"facet-list",defaultActive:i.defaultActive,divided:i.divided,innerRef:t,title:i.title,visible:I},i.searchable&&o().createElement(l.Input,{icon:w&&o().createElement(l.Icon,{link:!0,name:"times",onClick:C}),fluid:!0,onChange:function onChange(e,t){var n=t.value;return O(n)},onKeyDown:function onKeyDown(){return v.Timer.clearSearchTimer()},onKeyUp:function onKeyUp(){return v.Timer.setSearchTimer(k)},placeholder:j.t("FacetList.labels.search"),ref:E,value:w}),o().createElement(l.List,{className:"facet-list"},a().map(y,(function(e,t){return o().createElement(l.List.Item,{key:t},o().createElement(l.Checkbox,{checked:e.isRefined,label:{children:o().createElement(o().Fragment,null,o().createElement("span",null,e.label),o().createElement(l.Label,{circular:!0,content:e.count,size:"small"}))},onClick:function onClick(){return h(e.value)}}))}))),m&&o().createElement(o().Fragment,null,o().createElement(l.Icon,{name:d?"angle up":"angle down"}),o().createElement(Ko,{content:d?j.t("FacetList.buttons.showLess"):j.t("FacetList.buttons.showMore"),onClick:function onClick(){return g()}})),i.toggleable&&o().createElement(l.Checkbox,{className:"toggleable",checked:"and"===u,label:u===ei?j.t("FacetList.labels.matchAny"):j.t("FacetList.labels.matchAll"),onChange:P,toggle:!0}))}));ti.defaultProps=Xo(Xo({},Go.defaultProps),{},{defaultOperator:ei});var ni=ti,ri=__webpack_require__("../../node_modules/rc-slider/es/index.js"),oi=n.n(ri);__webpack_require__("../../node_modules/rc-slider/assets/index.css");var ii=["useRangeSlider"];function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var li=(0,r.forwardRef)((function(e,t){var n,a=e.useRangeSlider,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ii),u=a(c),s=u.start,f=u.range,p=u.refine,m=(2,function(e){if(Array.isArray(e))return e}(n=(0,r.useState)([f.min,f.max]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(n)||function(e,t){if(e){if("string"==typeof e)return ai(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ai(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=m[0],y=m[1],h=(0,r.useMemo)((function(){return 0!==f.min&&0!==f.max}),[f.min,f.max]);return(0,r.useEffect)((function(){s[0]<=f.min&&s[1]>=f.max&&y([f.min,f.max])}),[f,s]),o().createElement(Go,{defaultActive:c.defaultActive,divided:c.divided,innerRef:t,title:c.title,visible:h},o().createElement("div",{className:"facet-slider"},o().createElement("div",{className:"range-container"},o().createElement(oi(),{allowCross:!1,defaultValue:s,max:f.max,min:f.min,onAfterChange:function onAfterChange(e){return p(e)},onChange:function onChange(e){return y(e)},range:!0,value:d})),o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,null,d[0]),o().createElement(l.Grid.Column,{textAlign:"right"},d[1]))))}));li.defaultProps=Go.defaultProps;var ci=li,ui=["useToggleRefinement"],si=(0,r.forwardRef)((function(e,t){var n=e.useToggleRefinement,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ui),a=n(i),c=a.value,u=c.isRefined,s=c.count,f=a.refine,p=(0,r.useMemo)((function(){return!!s}),[s]);return o().createElement(Go,{defaultActive:i.defaultActive,divided:i.divided,innerRef:t,title:i.title,visible:p},o().createElement(l.Checkbox,{checked:u,label:{children:o().createElement(l.Label,{circular:!0,content:s,size:"small"})},onClick:function onClick(){return f({isRefined:u})},toggle:!0}))}));si.defaultProps=Go.defaultProps;var fi=si,pi=["onSelection","multiple"];function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(this,arguments)}var di=function di(e){var t=e.onSelection,n=e.multiple,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,pi),a=(0,r.useRef)();return o().createElement(o().Fragment,null,o().createElement(l.Button,mi({},i,{onClick:function onClick(){return a.current&&a.current.click()}})),o().createElement("input",{ref:a,type:"file",multiple:n,onChange:function onChange(e){return t(function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(e.item(n));return t}(e.target.files))},style:{display:"none"}}))};di.defaultProps={multiple:!1};var yi=di;function hi(e){return hi="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},hi(e)}function vi(e){var t=function(e,t){if("object"!=hi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hi(t)?t:String(t)}function gi(e,t,n){return t=Si(t),function(e,t){if(t&&("object"===hi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ei()?Reflect.construct(t,n||[],Si(e).constructor):t.apply(e,n))}function Ei(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ei=function Ei(){return!!e})()}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Si(e)}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}var Oi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=gi(this,t,[e])).fileInput=void 0,n.filePattern=void 0,n.state={errors:null},n.fileInput=(0,r.createRef)(),n.filePattern=n.props.fileTypes&&new RegExp("(.*?)\\.".concat(n.props.fileTypes.join("|"),"$")),n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}(t,e),n=t,(i=[{key:"onClickDropzone",value:function value(){this.fileInput.current.click()}},{key:"onDropFiles",value:function value(e){e.preventDefault();var t=this.toArray(e.dataTransfer.files);this.validate(t).length===t.length&&this.props.onFilesAdded(t)}},{key:"onFilesAdded",value:function value(e){e.preventDefault();var t=this.toArray(e.target.files);this.validate(t).length===t.length&&this.props.onFilesAdded(t)}},{key:"render",value:function value(){var e=this;return o().createElement("div",{className:"file-upload"},o().createElement(l.Message,{error:!0,header:j.t("Common.errors.title"),hidden:!(this.state.errors&&this.state.errors.length),visible:this.state.errors&&this.state.errors.length,onDismiss:function onDismiss(){return e.setState({errors:null})},list:this.state.errors}),o().createElement("div",{className:"file-dropzone",onClick:this.onClickDropzone.bind(this),onDragLeave:function onDragLeave(e){e.preventDefault()},onDragOver:function onDragOver(e){e.preventDefault()},onDrop:this.onDropFiles.bind(this),onKeyDown:function onKeyDown(){},role:"button",tabIndex:-1},o().createElement(l.Icon,{color:"blue",name:"cloud upload",size:"large"}),o().createElement("div",{className:"file-dropzone-text"},o().createElement(H.Trans,{i18nKey:"FileUpload.add"},o().createElement("span",{className:"link-text"},"Add files")," or drop files here")),o().createElement("input",{ref:this.fileInput,className:"file-input",type:"file",multiple:!0,onChange:this.onFilesAdded.bind(this)})))}},{key:"toArray",value:function value(e){for(var t=[],n=0;n<e.length;n+=1)t.push(e.item(n));return t}},{key:"validate",value:function value(e){var t=this;if(!this.props.maxSize&&!this.props.fileTypes)return e;var n=[],r=[];return a().each(e,(function(e){var o=!0;t.props.maxSize&&e.size>t.props.maxSize&&(o=!1,r.push(j.t("FileUpload.errors.maxSize",{name:e.name}))),t.filePattern&&!e.name.match(t.filePattern)&&(o=!1,r.push(j.t("FileUpload.errors.fileType",{name:e.name,type:/[^.]+$/.exec(e.name)}))),o&&n.push(e)})),this.setState({errors:r}),n}}])&&function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vi(r.key),r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);function Ci(e){return Ci="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Ci(e)}function ji(e,t,n){var r;return r=function(e,t){if("object"!=Ci(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Ci(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ki="pending",Pi="processing",Ii="complete",Ai="error",Di=ji(ji(ji({},Pi,"black"),Ii,"green"),Ai,"red"),Ti=ji(ji(ji({},ki,"clock outline"),Ii,"checkmark"),Ai,"warning circle"),xi=ji(ji(ji(ji({},ki,"Pending"),Pi,"Processing"),Ii,"Complete"),Ai,"Error"),Mi=function Mi(e){var t=e.status,n=void 0===t?ki:t,i=(0,r.useMemo)((function(){return Di[n]}),[n]),a=(0,r.useMemo)((function(){return Ti[n]}),[n]),c=(0,r.useMemo)((function(){return xi[n]}),[n]);return o().createElement(l.Label,{className:"file-upload-status",color:i},n===Pi&&o().createElement(l.Loader,{active:!0,inline:!0,inverted:!0,size:"mini"}),a&&o().createElement(l.Icon,{name:a}),c)},Ni=function Ni(e){var t=(0,r.useMemo)((function(){return e.completed>0&&e.completed===e.total}),[e.completed,e.total]),n=(0,r.useMemo)((function(){return e.total>0?e.completed/e.total:0}),[e.completed,e.total]),i=(0,r.useMemo)((function(){return Number(n).toLocaleString(void 0,{style:"percent",minimumFractionDigits:0})}),[n]);return o().createElement("div",{className:"file-upload-progress"},o().createElement(l.Icon,{color:"blue",name:"cloud upload",size:"big"}),o().createElement("div",{className:"progress-container"},o().createElement(l.Header,null,o().createElement(l.Header.Content,{content:i}),o().createElement(l.Header.Subheader,null,!(e.uploading||t)&&"Getting Started",e.uploading&&"Uploading...",t&&"Completed")),o().createElement(l.Progress,{color:"blue",percent:100*n})))};function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Bi(e)}var Li=void 0;function Ri(){Ri=function Ri(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function u(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),l=new D(r||[]);return o(a,"_invoke",{value:k(e,n,l)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",m="suspendedYield",d="executing",y="completed",h={};function b(){}function v(){}function g(){}var E={};u(E,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(T([])));w&&w!==n&&r.call(w,a)&&(E=w);var O=g.prototype=b.prototype=Object.create(E);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(o,i,a,l){var c=f(e[o],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==Bi(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function value(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=P(l,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var u=f(t,n,r);if("normal"===u.type){if(o=r.done?y:m,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Bi(t)+" is not iterable")}return v.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},C(j.prototype),u(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new j(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,D.prototype={constructor:D,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),h}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}function Fi(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hi(e,t,n){var r;return r=function(e,t){if("object"!=Bi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Bi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==Bi(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e){return function(e){if(Array.isArray(e))return $i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||qi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qi(e,t){if(e){if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$i(e,t):void 0}}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ki="batch",Yi=function Yi(e){var t=Vi((0,r.useState)([]),2),n=t[0],i=t[1],c=Vi((0,r.useState)(0),2),u=c[0],s=c[1],f=Vi((0,r.useState)(!1),2),p=f[0],m=f[1],d=Vi((0,r.useState)({}),2),y=d[0],h=d[1],b=(0,r.useMemo)((function(){return!!a().find(n,(function(e){return!a().isEmpty(e.errors)}))}),[n]),v=(0,r.useMemo)((function(){return!!a().find(a().values(y),(function(e){return"error"===e}))}),[y]),g=(0,r.useCallback)((function(t){return i((function(n){return[].concat(Gi(n),Gi(a().map(t,e.onAddFile)))}))}),[]),E=(0,r.useCallback)((function(e,t,n,r){return i((function(o){return a().map(o,(function(o){return o!==e?o:Ui(Ui({},o),{},Hi(Hi(Hi({},t,r.id),n,r),"errors",a().without(e.errors,t)))}))}))}),[]),S=(0,r.useCallback)((function(){return e.onSave(n).then((function(){return s(1)}))}),[n]),w=(0,r.useCallback)((function(){m(!1),e.onComplete&&e.onComplete(),e.closeOnComplete&&e.onClose()}),[e.closeOnComplete,e.onClose]),O=(0,r.useCallback)((function(e){return i((function(t){return a().filter(t,(function(t){return t!==e}))}))}),[]),C=(0,r.useCallback)((function(e,t){return h((function(n){return Ui(Ui({},n),{},Hi({},e,t))}))})),k=(0,r.useCallback)(function zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fi(i,r,o,a,l,"next",e)}function l(e){Fi(i,r,o,a,l,"throw",e)}a(void 0)}))}}(Ri().mark((function t(){var r,o,i;return Ri().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=18;break}return o=n[r],C(r,"processing"),i=void 0,t.prev=5,t.next=8,e.onSave(o);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),i=t.t0;case 13:C(r,i?"error":"complete"),s((function(e){return e+1}));case 15:r+=1,t.next=1;break;case 18:return t.abrupt("return",Promise.resolve());case 19:case"end":return t.stop()}}),t,null,[[5,10]])}))),[n,e.onSave]),P=(0,r.useCallback)((function(e,t){return i((function(n){return a().map(n,(function(n){return n!==e?n:Ui(Ui(Ui({},n),t),{},{errors:[]})}))}))}),[]),I=(0,r.useCallback)((function(e,t,n,r){var o=r.value;return i((function(n){return a().map(n,(function(n){return n!==e?n:Ui(Ui({},n),{},Hi(Hi({},t,o),"errors",a().without(e.errors,t)))}))}))}),[]),A=(0,r.useCallback)((function(e,t){return i((function(n){return a().map(n,(function(n){return n!==e?n:Ui(Ui({},n),t)}))}))}),[]),D=(0,r.useCallback)((function(t){var n=[];return a().each(a().keys(e.required),(function(e){var r=t[e];(a().isNumber(r)?a().isEmpty(r.toString()):a().isEmpty(r))&&n.push(e)})),Ui(Ui({},t),{},{errors:n})}),[e.required]),T=(0,r.useCallback)((function(){return new Promise((function(e,t){var r=!1,o=a().map(n,(function(e){var t=D(e);return a().isEmpty(t.errors)||(r=!0),t}));i(o),r?t():e()}))}),[n]),x=(0,r.useCallback)((function(){m(!0),T().then((function(){return e.strategy===Ki?S():k()})).finally(w)}),[S,w,k,T,e.strategy]),M=(0,r.useCallback)((function(t,n){if(a().isEmpty(t.errors))return null;var r=a().isEmpty(t.name)?n:t.name,i=a().map(t.errors,(function(t){return e.required[t]})).join(", ");return o().createElement(l.Message.Item,{content:j.t("FileUploadModal.errors.required",{filename:r,fields:i}),key:n})}),[]),N=(0,r.useCallback)((function(t){return"single"!==e.strategy?null:o().createElement(Mi,{status:y[t]})}),[y,e.strategy]),B=(0,r.useMemo)((function(){return e.headerComponent}),[e.headerComponent]),L=(0,r.useMemo)((function(){return e.itemComponent}),[e.itemComponent]);return o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"serial-upload-modal",mountNode:t,open:!0},e.showPageLoader&&o().createElement(l.Dimmer,{active:p,inverted:!0},o().createElement(l.Loader,{content:j.t("FileUploadModal.loader")})),o().createElement(l.Modal.Header,null,e.strategy===Ki&&j.t("FileUploadModal.title"),"single"===e.strategy&&o().createElement(Ni,{completed:u,total:n.length,uploading:p})),o().createElement(l.Modal.Content,{scrolling:!0},b&&o().createElement(l.Message,{error:!0},o().createElement(l.Message.Header,{content:j.t("FileUploadModal.errors.header")}),o().createElement(l.Message.List,null,a().map(n,M))),v&&o().createElement(l.Message,{content:j.t("FileUploadModal.errors.upload.content"),header:j.t("FileUploadModal.errors.upload.header"),error:!0}),o().createElement(Oi,{onFilesAdded:g}),B&&o().createElement(B,{items:n,onSetItems:i,uploading:p}),o().createElement(l.Item.Group,{as:l.Form,divided:!0,noValidate:!0,relaxed:"very"},a().map(n,(function(t,n){return o().createElement(L,{isError:function isError(e){return a().contains(t.errors,e)},isRequired:function isRequired(t){return!(!e.required||!e.required[t])},item:t,key:n,onAssociationInputChange:E.bind(Li,t),onDelete:O.bind(Li,t),onSetState:P.bind(Li,t),onTextInputChange:I.bind(Li,t),onUpdate:A.bind(Li,t),renderStatus:N.bind(Li,n)})})))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:j.t("Common.buttons.upload"),disabled:p||u>0||a().isEmpty(n),icon:"cloud upload",loading:p&&!e.showPageLoader,onClick:x,primary:!0}),o().createElement(l.Button,{content:u>0?j.t("Common.buttons.close"):j.t("Common.buttons.cancel"),disabled:p,onClick:e.onClose})))}))};Yi.defaultProps={closeOnComplete:!0,strategy:Ki,showPageLoader:!0};var Xi=Yi,Ji=__webpack_require__("../../node_modules/@react-google-maps/api/dist/esm.js");function Zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ea(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ta=function ta(e){var t=v.Map.getPosition(e.position),n=Zi((0,r.useState)(t||e.defaultCenter),2),i=n[0],a=n[1],l=Zi((0,r.useState)(),2),c=l[0],u=l[1],s=(0,r.useMemo)((function(){return t?12:e.defaultZoom?e.defaultZoom:1}),[t,e.defaultZoom]),f=(0,r.useCallback)((function(t){var n=t.latLng;e.onDragEnd&&e.onDragEnd({lat:n.lat(),lng:n.lng()})}),[e.onDragEnd]),p=(0,r.useCallback)((function(e){return u(e)}),[]);return(0,r.useEffect)((function(){if(c&&t){var e=c.getBounds();e&&!e.contains(t)&&a(t)}}),[e.position]),o().createElement(Ji.GoogleMap,{center:i,mapContainerClassName:e.className,mapContainerStyle:e.containerStyle,onClick:f,onLoad:p,zoom:s},t&&o().createElement(Ji.Marker,{draggable:!!e.onDragEnd,onDragEnd:f,position:t,visible:!0}))};ta.defaultProps={containerStyle:{height:"400px"},defaultCenter:{lat:0,lng:0}};var na=ta;function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oa=function oa(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return ra(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1],u=(0,r.useCallback)((function(){if(l){var t=a().first(l.getPlaces()),n=t.geometry.location,r=t.formatted_address,o=n.lat(),i=n.lng();e.onLocationSelection({name:r,lat:o,lng:i,result:t})}}),[l,e.onLocationSelection]);return o().createElement(Ji.StandaloneSearchBox,{onLoad:function onLoad(e){return c(e)},onPlacesChanged:u},e.children)},ia=void 0;function aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return la(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?la(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ca=function ca(e){var t=aa((0,r.useState)(0),2),n=t[0],i=t[1],c=aa((0,r.useState)(0),2),u=c[0],s=c[1],f=aa((0,r.useState)(0),2),p=f[0],m=f[1],d=aa((0,r.useState)(0),2),y=d[0],h=d[1],b=(0,r.useRef)(),v=(0,r.useMemo)((function(){return{flex:"0 0 ".concat(u/e.perPage-n,"px")}}),[u,n,e.perPage]),g=(0,r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];return t&&n.push(t),e&&n.push(e),n.join(" ")}),[]),E=(0,r.useCallback)((function(e){var t=b.current;if(t){var n=t.clientWidth,r=t.scrollWidth;s(n),h(Math.ceil(r/n)),e||m(0);var o=t.firstChild;if(o){var a=window.getComputedStyle(o),l=parseFloat(a.marginLeft)||0,c=parseFloat(a.marginRight)||0;i(l+c)}}}),[b,e.items]),S=(0,r.useCallback)((function(e){var t=p+e;t<0?t=y:t>=y&&(t=0),m(t)}),[p,y]);(0,r.useEffect)((function(){return window.addEventListener("resize",E),function(){return window.removeEventListener("resize",E)}}),[]),(0,r.useEffect)((function(){return E()}),[E,e.items]),(0,r.useEffect)((function(){var e=b.current;if(e){var t=e.scrollWidth;h(Math.ceil(t/u))}}),[u]),(0,r.useEffect)((function(){var e=b.current;e&&e.scrollTo({left:p*u,behavior:"smooth"})}),[p,u]);var w=(0,r.useCallback)((function(t){var n=e.renderImage(t);return a().isString(n)||!n?o().createElement(l.Image,{alt:t.alt,className:"image-placeholder",src:n,style:{objectFit:"cover"}}):n}),[e.renderImage]);return o().createElement("div",{className:g(e.className,"horizontal-cards")},o().createElement(l.Ref,{innerRef:b},o().createElement(l.Card.Group,{className:g(e.cardsClassName)},a().map(e.items,function(t,n){var r=o().createElement(l.Card,{className:g(e.cardClassName),link:!0,onClick:e.onClick&&e.onClick.bind(ia,t,n),style:v},!e.inlineImage&&w(t),(e.renderHeader||e.renderMeta||e.renderDescription)&&o().createElement(l.Card.Content,null,e.inlineImage&&w(t),e.renderHeader&&o().createElement(l.Card.Header,{as:l.Header,size:"small"},e.renderHeader(t)),e.renderMeta&&o().createElement(l.Card.Meta,null,e.renderMeta(t)),e.renderDescription&&o().createElement(l.Card.Description,null,e.renderDescription(t))),e.renderExtra&&o().createElement(l.Card.Content,{extra:!0},e.renderExtra(t)));if(e.onDrag){var i=t.id||t.uid;r=o().createElement(nr,{direction:"horizontal",id:i,index:n,item:t,key:i,onDrag:e.onDrag},r)}return r}.bind(ia)))),o().createElement("div",{className:"button-container"},y>1&&o().createElement("div",{className:"pagination"},o().createElement(l.Button,{"aria-label":"Left",basic:!0,circular:!0,icon:"angle left",onClick:S.bind(ia,-1)}),o().createElement(l.Button,{"aria-label":"Right",basic:!0,circular:!0,icon:"angle right",onClick:S.bind(ia,1)}))))};ca.defaultProps={perPage:4};var ua=ca,sa=["onClose"],fa=function fa(e){var t=e.onClose,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,sa);return o().createElement(l.Modal,{centered:!1,closeIcon:!0,onClose:t,open:!0},o().createElement(l.Modal.Content,null,o().createElement(v.IIIFViewer,n)))};function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ma(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var da=function da(e){var t=pa((0,r.useState)(0),2),n=t[0],i=t[1],a=pa((0,r.useState)(!0),2),c=a[0],u=a[1],s=(0,r.useMemo)((function(){var t;return e.images&&e.images.length>n&&(t=e.images[n]),t}),[n,e.images]),f=(0,r.useCallback)((function(t){var r=n+t;r>=0&&r<e.images.length&&(i(r),u(!1))}),[n,e.images]);return(0,r.useEffect)((function(){return document.body&&(document.body.style.overflow="hidden"),function(){document.body&&(document.body.style.overflow="auto")}}),[]),o().createElement(l.Dimmer,{active:!0,className:"image-carousel",page:!0},o().createElement(l.Grid,{padded:!0},o().createElement(l.Grid.Row,null,o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(l.Button,{icon:"times",onClick:e.onClose,size:"huge"}))),o().createElement(l.Grid.Row,{className:"image-content"},o().createElement(l.Grid.Column,null,e.images&&e.images.length>1&&o().createElement(l.Button,{disabled:0===n,icon:"chevron left",onClick:function onClick(){return f(-1)},size:"massive"})),o().createElement(l.Grid.Column,{className:"image-container"},!c&&o().createElement(l.Loader,{active:!0}),o().createElement(l.Transition,{animation:"fade",duration:500,visible:c},o().createElement(l.Image,{src:null==s?void 0:s.src,onLoad:function onLoad(){return u(!0)}}))),o().createElement(l.Grid.Column,null,e.images&&e.images.length>1&&o().createElement(l.Button,{disabled:n===e.images.length-1,icon:"chevron right",onClick:function onClick(){return f(1)},size:"massive"}))),o().createElement(l.Grid.Row,null,o().createElement(l.Grid.Column,{textAlign:"center"},null==s?void 0:s.caption))))};function ya(e){return ya="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},ya(e)}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=Ea(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(this,arguments)}function Ea(e){var t=function(e,t){if("object"!=ya(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ya(t)?t:String(t)}function Sa(e,t,n){return t=Oa(t),function(e,t){if(t&&("object"===ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wa()?Reflect.construct(t,n||[],Oa(e).constructor):t.apply(e,n))}function wa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wa=function wa(){return!!e})()}function Oa(e){return Oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oa(e)}function Ca(e,t){return Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ca(e,t)}var ja={list:0,grid:1};function ka(e){return ka="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},ka(e)}function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pa.apply(this,arguments)}function Aa(e){var t=function(e,t){if("object"!=ka(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ka(t)?t:String(t)}function Da(e,t,n){return t=xa(t),function(e,t){if(t&&("object"===ka(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ta()?Reflect.construct(t,n||[],xa(e).constructor):t.apply(e,n))}function Ta(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ta=function Ta(){return!!e})()}function xa(e){return xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xa(e)}function Ma(e,t){return Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ma(e,t)}var Na=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Da(this,t,arguments)}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ma(e,t)}(t,e),n=t,(r=[{key:"getActions",value:function value(e){return this.props.actions.filter((function(t){return!t.accept||t.accept(e)})).map((function(e){var t={};return"edit"===e.name?t={basic:!0,label:j.t("ItemList.actions.edit")}:"copy"===e.name?t={basic:!0,label:j.t("ItemList.actions.copy")}:"delete"===e.name&&(t={basic:!0,color:"red",label:j.t("ItemList.actions.delete")}),a().defaults(e,t)}))}},{key:"getClassName",value:function value(){var e=["item-list"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"getItemProps",value:function value(e){return this.props.asProps&&this.props.asProps(e)||{}}},{key:"isSelectable",value:function value(){return!!(this.props.selectable&&this.props.isRowSelected&&this.props.onRowSelect)}},{key:"render",value:function value(){return o().createElement("div",{className:this.getClassName()},this.renderList(),this.renderGrid(),this.renderEmptyList(),this.props.children)}},{key:"renderCard",value:function value(e,t){var n=this,r=this.getActions(e),i=o().createElement(l.Card,Pa({as:this.props.as,key:e.id||t,link:this.props.link},this.getItemProps(e)),this.props.renderImage&&this.props.renderImage(e),o().createElement(l.Card.Content,null,this.props.renderHeader&&o().createElement(l.Card.Header,null,this.props.renderHeader(e)),this.props.renderMeta&&o().createElement(l.Card.Meta,null,this.props.renderMeta(e)),this.props.renderDescription&&o().createElement(l.Card.Description,null,this.props.renderDescription(e))),this.props.renderExtra&&o().createElement(l.Card.Content,{extra:!0},this.props.renderExtra(e)),!a().isEmpty(r)&&o().createElement(l.Card.Content,{extra:!0,textAlign:"center"},a().map(r,(function(t,r){return o().createElement(l.Button,{"aria-label":t.name,basic:!0,color:t.resolveColor?t.resolveColor(e):t.color,icon:t.resolveIcon?t.resolveIcon(e):t.icon,key:r,onClick:t.onClick.bind(n,e),size:t.size})})),this.isSelectable()&&o().createElement(l.Button,{"aria-label":"Select",basic:!0,color:this.props.isRowSelected&&this.props.isRowSelected(e)?"green":void 0,icon:"checkmark",onClick:this.props.onRowSelect&&this.props.onRowSelect.bind(this,e)})));return this.props.onDrag&&(i=o().createElement(nr,{id:e.id||e.uid,index:t,item:e,key:e.id||e.uid,onDrag:this.props.onDrag.bind(this)},i)),i}},{key:"renderEmptyList",value:function value(){return this.props.loading||this.props.items&&this.props.items.length?null:this.props.renderEmptyList?this.props.renderEmptyList():o().createElement(l.Segment,{className:"empty-list",padded:"very",textAlign:"center"},o().createElement(l.Header,{icon:!0},o().createElement(l.Icon,{name:"file outline"})),this.props.renderEmptyMessage())}},{key:"renderGrid",value:function value(){return this.props.view===ja.grid&&this.props.items&&this.props.items.length?o().createElement(l.Card.Group,{itemsPerRow:this.props.itemsPerRow},a().map(this.props.items,this.renderCard.bind(this))):null}},{key:"renderItem",value:function value(e,t){var n=this,r=o().createElement(l.Item,Pa({as:this.props.as,key:e.id||t},this.getItemProps(e)),this.props.renderImage&&o().createElement(l.Item.Image,null,this.props.renderImage(e)),o().createElement(l.Item.Content,{className:"primary-content"},this.props.renderHeader&&o().createElement(l.Item.Header,null,this.props.renderHeader(e)),this.props.renderMeta&&o().createElement(l.Item.Meta,null,this.props.renderMeta(e)),this.props.renderDescription&&o().createElement(l.Item.Description,null,this.props.renderDescription(e)),this.props.renderExtra&&o().createElement(l.Item.Extra,null,this.props.renderExtra(e)),a().map(this.getActions(e),(function(t,r){return o().createElement(l.Button,{basic:t.basic,color:t.resolveColor?t.resolveColor(e):t.color,content:t.resolveName?t.resolveName(e):t.label,key:r,icon:t.resolveIcon?t.resolveIcon(e):t.icon,onClick:t.onClick.bind(n,e),size:t.size})}))),this.props.renderAdditionalContent&&this.props.renderAdditionalContent(e),this.isSelectable()&&o().createElement("div",{className:"checkbox-container"},o().createElement(l.Checkbox,{checked:this.props.isRowSelected&&this.props.isRowSelected(e),onChange:this.props.onRowSelect&&this.props.onRowSelect.bind(this,e)})));return this.props.onDrag&&(r=o().createElement(nr,{id:e.id||e.uid,index:t,item:e,key:e.id||e.uid,onDrag:this.props.onDrag.bind(this)},r)),r}},{key:"renderList",value:function value(){return this.props.view===ja.list&&this.props.items&&this.props.items.length?o().createElement(l.Item.Group,{divided:!0,link:this.props.link,relaxed:"very"},a().map(this.props.items,this.renderItem.bind(this))):null}}])&&function Ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aa(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);Na.defaultProps=void 0,Na.defaultProps={actions:[]};var Ba=function(e){var t;return(t=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=Sa(this,n,[e])).sortDropdown=void 0,t.state={view:e.defaultView||ja.list},t}var r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ca(e,t)}(n,t),r=n,(i=[{key:"getSortValue",value:function value(){var e=a().find(this.props.sort,{value:this.props.sortColumn});return e&&e.text}},{key:"isHidden",value:function value(){return this.props.hideToggle&&a().isEmpty(this.props.sort)}},{key:"onSort",value:function value(e){var t;this.props.onSort&&(e.value!==this.props.sortColumn&&(t=e.direction),this.props.onSort(e.value,t))}},{key:"render",value:function value(){var t=this.isHidden()?void 0:this.renderHeader.bind(this);return o().createElement(e,va({},this.props,{renderListHeader:t,view:this.state.view}))}},{key:"renderHeader",value:function value(){var e=this;return this.isHidden()?null:o().createElement(o().Fragment,null,!this.props.hideToggle&&o().createElement(o().Fragment,null,o().createElement(l.Button,{active:this.state.view===ja.list,"aria-label":"List View",basic:this.props.basic,icon:"list",onClick:function onClick(){return e.setState({view:ja.list})}}),o().createElement(l.Button,{active:this.state.view===ja.grid,"aria-label":"Grid View",basic:this.props.basic,icon:"grid layout",onClick:function onClick(){return e.setState({view:ja.grid})}})),!a().isEmpty(this.props.sort)&&this.props.onSort&&o().createElement(l.Button.Group,{basic:this.props.basic,color:this.props.sortColor,style:{fontSize:"inherit"}},o().createElement(l.Button,{"aria-label":"Sort by",content:this.getSortValue(),icon:this.props.sortDirection===z?"sort alphabet up":"sort alphabet down",onClick:function onClick(t){return e.sortDropdown.handleClick(t)}}),o().createElement(l.Dropdown,{"aria-label":"Sort",className:"button icon",floating:!0,options:a().map(this.props.sort,(function(t){return ba(ba({},t),{},{onClick:e.onSort.bind(e,t)})})),ref:function ref(t){e.sortDropdown=t},trigger:o().createElement(o().Fragment,null),value:this.props.sortColumn})))}}])&&function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ea(r.key),r)}}(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),n}(r.Component)).defaultProps={basic:!0,hideToggle:!1,sort:[]},t}(Re(Na));function La(e){return La="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},La(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(this,arguments)}function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){var r,o,i;r=e,o=t,i=n[t],(o=Ua(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e){var t=function(e,t){if("object"!=La(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=La(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==La(t)?t:String(t)}function Ha(e,t,n){return t=Va(t),function(e,t){if(t&&("object"===La(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ga()?Reflect.construct(t,n||[],Va(e).constructor):t.apply(e,n))}function Ga(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ga=function Ga(){return!!e})()}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(e)}function qa(e,t){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qa(e,t)}var $a=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ha(this,t,[e])).state={page:1},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qa(e,t)}(t,e),n=t,(r=[{key:"getClassName",value:function value(){var e=["item-collection"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"getItems",value:function value(){var e=this.state.page*this.props.perPage,t=this.props.items&&this.props.items.slice(0,e)||[];return a().filter(t,(function(e){return!e._destroy}))}},{key:"onBottomReached",value:function value(){var e=this;this.props.loading||this.setState((function(e){return{page:e.page+1}}),(function(){e.props.onBottomReached&&e.props.onBottomReached(e.state.page)}))}},{key:"onDelete",value:function value(e){return this.props.onDelete(e),Promise.resolve()}},{key:"onSave",value:function value(e){if(this.props.onSave){var t=e.uid?e.uid:E()();this.props.onSave(za(za({},e),{},{uid:t}))}return Promise.resolve()}},{key:"render",value:function value(){return o().createElement(v.InfiniteScroll,{context:this.props.context,offset:this.props.scrollOffset,onBottomReached:this.onBottomReached.bind(this)},o().createElement(Ba,Ra({},this.props,{items:this.getItems(),className:this.getClassName(),onDelete:this.onDelete.bind(this),onSave:this.onSave.bind(this)}),o().createElement(l.Loader,{active:this.props.loading,content:j.t("Common.messages.loading")})))}}])&&function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ua(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);$a.defaultProps=void 0,$a.defaultProps={addButton:{location:"top"},buttons:[],className:"",configurable:!0,modal:void 0,onCopy:void 0,onDrag:void 0,onSave:function onSave(){},perPage:Number.MAX_SAFE_INTEGER,renderDeleteModal:void 0,renderEmptyRow:void 0,scrollOffset:0};var Ka=$a,Wa=void 0;function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qa.apply(this,arguments)}function Ya(e){return function(e){if(Array.isArray(e))return Xa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xa(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ja=U((function(e){(0,r.useEffect)((function(){var t=e.page,n=e.sortColumn,r=void 0===n?"":n,o=e.sortDirection,i=void 0===o?z:o;if(!r){var l=a().first(e.sort);l&&(r=l.value,l.direction&&(i=l.direction))}e.onSort(r,i,t)}),[]);var t=(0,r.useMemo)((function(){return e.isRowSelected&&e.items&&e.items.length&&a().every(e.items,e.isRowSelected.bind(Wa))}),[e.items,e.isRowSelected]),n=(0,r.useCallback)((function(){var n;e.items&&e.isRowSelected&&e.onRowSelect&&(n=t?Ya(e.items):a().reject(e.items,e.isRowSelected.bind(Wa)),a().each(n,e.onRowSelect.bind(Wa)))}),[t,e.isRowSelected,e.items,e.onRowSelect]);return o().createElement(o().Fragment,null,o().createElement(l.Dimmer,{active:e.loading,inverted:!0},o().createElement(l.Loader,{content:j.t("Common.messages.loading")})),o().createElement(Ba,Qa({},e,{buttons:[].concat(Ya(e.buttons||[]),[{accept:function accept(){return e.selectable},color:"green",content:t?j.t("ItemList.buttons.deselectAll"):j.t("ItemList.buttons.selectAll"),icon:"checkmark",onClick:n.bind(Wa)}])})))}));Ja.defaultProps={filters:{},searchable:!0};var Za=Ja,el=function el(e){return o().createElement(o().Fragment,null,o().createElement("label",{className:"link-label",htmlFor:e.htmlFor},e.label),o().createElement(Ko,{content:e.content,onClick:e.onClick.bind(void 0)}))};function tl(e){return tl="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},tl(e)}function rl(e){var t=function(e,t){if("object"!=tl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tl(t)?t:String(t)}function ol(e,t,n){return t=al(t),function(e,t){if(t&&("object"===tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,il()?Reflect.construct(t,n||[],al(e).constructor):t.apply(e,n))}function il(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(il=function il(){return!!e})()}function al(e){return al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},al(e)}function ll(e,t){return ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ll(e,t)}var cl=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ol(this,t,[e])).state={showKeyboard:!1},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ll(e,t)}(t,e),n=t,(r=[{key:"componentDidUpdate",value:function value(e){e.visible&&!this.props.visible&&this.setState({showKeyboard:!1})}},{key:"onInputChange",value:function value(e,t){this.props.onChange(e,t)}},{key:"onKeyboardChange",value:function value(e){this.props.onChange(null,{value:e})}},{key:"render",value:function value(){return o().createElement(l.Form.Field,{className:"keyboard-field"},o().createElement(l.Form.Input,{autoFocus:this.props.autoFocus,className:this.props.className,error:this.props.error,id:this.props.id,input:{"aria-label":this.props.name},label:this.renderLabel(),name:this.props.name,onChange:this.onInputChange.bind(this),required:this.props.required,value:this.props.value},this.props.children),o().createElement(l.Transition,{duration:{hide:50,show:500},visible:this.state.showKeyboard},o().createElement(l.Segment,null,o().createElement(v.Keyboard,{layout:this.props.layout,onChange:this.onKeyboardChange.bind(this),value:this.props.value,keyboardClass:this.props.name}))))}},{key:"renderLabel",value:function value(){var e=this;return o().createElement(el,{content:this.state.showKeyboard?j.t("KeyboardField.labels.hideKeyboard"):j.t("KeyboardField.labels.showKeyboard"),htmlFor:this.props.name,label:this.props.label,onClick:function onClick(){return e.setState((function(e){return{showKeyboard:!e.showKeyboard}}))}})}}])&&function nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rl(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);cl.defaultProps=void 0,cl.defaultProps={autoFocus:!1,className:"",error:!1,id:""};var ul=cl;function sl(e){return sl="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},sl(e)}function fl(){return fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){dl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dl(e,t,n){var r;return r=function(e,t){if("object"!=sl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t),(t="symbol"==sl(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hl=function hl(e){return function(t){var n=(0,r.useCallback)((function(){var e;t.onChange([].concat(function(e){if(Array.isArray(e))return yl(e)}(e=t.items)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yl(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{}]))}),[t.items]),i=(0,r.useCallback)((function(e){t.onChange(a().reject(t.items,(function(t,n){return n===e})))}),[t.items]),l=(0,r.useCallback)((function(e,n,r,o){var i=o.value;t.onChange(a().map(t.items,(function(t,r){return r!==e?t:ml(ml({},t),{},dl({},n,i))})))}),[t.items]);return o().createElement(e,fl({},t,{onAddItem:n,onRemoveItem:i,onUpdateItem:l}))}},bl=void 0,vl=hl((function(e){return o().createElement("div",null,o().createElement(l.Button,{basic:!0,content:j.t("Common.buttons.add"),icon:"plus",onClick:e.onAddItem.bind(bl),type:"button"}),o().createElement(l.Grid,{padded:"vertically"},a().map(e.items,(function(t,n){return o().createElement(l.Grid.Row,{columns:3},o().createElement(l.Grid.Column,{width:8},o().createElement(l.Input,{fluid:!0,onChange:e.onUpdateItem.bind(bl,n,"key"),placeholder:j.t("KeyValuePairs.labels.key"),value:t.key})),o().createElement(l.Grid.Column,{width:7},o().createElement(l.Input,{fluid:!0,onChange:e.onUpdateItem.bind(bl,n,"value"),placeholder:j.t("KeyValuePairs.labels.value"),value:t.value})),o().createElement(l.Grid.Column,{width:1},o().createElement(l.Button,{color:"red",icon:"trash",onClick:e.onRemoveItem.bind(bl,n)})))})),a().isEmpty(e.items)&&o().createElement(l.Grid.Row,{columns:1},o().createElement(l.Grid.Column,null,j.t("Common.labels.noRecords")))))})),gl=function gl(e){return o().createElement(l.Image,{className:"lazy-loader",size:e.size},o().createElement(l.Loader,{active:e.active}))};gl.defaultProps={active:!1,size:"small"};var El=gl;function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}function wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ol(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ol(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cl=function Cl(e){var t=wl((0,r.useState)(!1),2),n=t[0],i=t[1],a=wl((0,r.useState)(!1),2),c=a[0],u=a[1],s=wl((0,r.useState)(!e.preview),2),f=s[0],p=s[1],m=wl((0,r.useState)(!1),2),d=m[0],y=m[1],h=wl((0,r.useState)(!1),2),b=h[0],v=h[1];return b?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-audio",compact:!0,onBlur:function onBlur(){return i(!1)},onMouseEnter:function onMouseEnter(){return i(!0)},onMouseLeave:function onMouseLeave(){return i(!1)}},!f&&o().createElement(El,{active:!0,size:e.size}),!c&&e.preview&&o().createElement(l.Image,Sl({},e.image,{onError:function onError(){u(!0),p(!0)},onLoad:function onLoad(){u(!1),p(!0)},size:e.size,src:e.preview})),(c||!e.preview)&&o().createElement(l.Image,Sl({},e.image,{className:"placeholder-image",size:e.size}),o().createElement(l.Icon,{name:"file audio outline",size:"big"})),(e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.src&&o().createElement(l.Button,{content:j.t("LazyAudio.buttons.play"),icon:"play circle outline",onClick:function onClick(){return y(!0)},primary:!0}),e.download&&o().createElement(yo,{color:"green",filename:e.name,url:e.download}),e.children)))),e.src&&o().createElement(wt,{onClose:function onClose(){return y(!1)},open:d,size:"large",src:e.src})):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return v(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};Cl.defaultProps={dimmable:!0,duration:1e3,preview:void 0,size:"medium",src:void 0};var jl=Cl,kl=__webpack_require__("../../node_modules/react-pdf/dist/cjs/index.js");function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pl.apply(this,arguments)}function Il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Al(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Al(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}__webpack_require__("../../node_modules/react-pdf/dist/esm/Page/AnnotationLayer.css"),__webpack_require__("../../node_modules/react-pdf/dist/esm/Page/TextLayer.css"),kl.pdfjs.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(kl.pdfjs.version,"/build/pdf.worker.min.js");var Dl=function Dl(e){var t=Il((0,r.useState)(!1),2),n=t[0],i=t[1],a=Il((0,r.useState)(!1),2),c=a[0],u=a[1],s=Il((0,r.useState)(!e.preview),2),f=s[0],p=s[1],m=Il((0,r.useState)(!1),2),d=m[0],y=m[1],h=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return e&&t.push(e),f||t.push("hidden"),t.join(" ")}),[f]);return d?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-document",compact:!0,onBlur:function onBlur(){return i(!1)},onMouseEnter:function onMouseEnter(){return i(!0)},onMouseLeave:function onMouseLeave(){return i(!1)}},!f&&o().createElement(El,{active:!0,size:e.size}),!c&&e.preview&&o().createElement(l.Image,Pl({},e.image,{className:h(),onError:function onError(){u(!0),p(!0)},onLoad:function onLoad(){u(!1),p(!0)},src:e.preview,size:e.size})),!c&&f&&!e.preview&&e.src&&e.pdf&&o().createElement(l.Image,Pl({},e.image,{className:h(),size:e.size}),o().createElement(kl.Document,{file:e.src,onLoadError:function onLoadError(e){return console.log(e.message)}},o().createElement(kl.Page,{pageNumber:1}))),(c||!e.preview&&!(e.src&&e.pdf))&&o().createElement(l.Image,Pl({},e.image,{className:h("placeholder-image"),size:e.size}),o().createElement(l.Icon,{name:"file alternate outline",size:"big"})),(e.download||e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.download&&o().createElement(yo,{primary:!0,url:e.download||e.src}),e.children))))):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return y(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};Dl.defaultProps={dimmable:!0,duration:1e3,pdf:!1,preview:void 0,size:"medium",src:void 0};var Tl=Dl;function xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ml=function Ml(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return xl(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xl(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"photo-viewer",closeIcon:!0,mountNode:t,onClose:e.onClose.bind(void 0),open:e.open,size:e.size},o().createElement(l.Modal.Content,null,a&&o().createElement(l.Message,{content:j.t("PhotoViewer.errors.path.content",{path:e.image}),header:j.t("PhotoViewer.errors.path.header"),icon:"exclamation circle"}),!a&&o().createElement(l.Image,{alt:e.alt,fluid:!0,onError:function onError(){return c(!0)},src:e.image})))}))};Ml.defaultProps={size:"small"};var Nl=Ml;function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bl.apply(this,arguments)}function Ll(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fl=function Fl(e){var t=Ll((0,r.useState)(!1),2),n=t[0],i=t[1],a=Ll((0,r.useState)(!1),2),c=a[0],u=a[1],s=Ll((0,r.useState)(!(e.src||e.preview)),2),f=s[0],p=s[1],m=Ll((0,r.useState)(!1),2),d=m[0],y=m[1],h=Ll((0,r.useState)(!1),2),b=h[0],v=h[1],g=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return e&&t.push(e),f||t.push("hidden"),t.join(" ")}),[f]);return b?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-image",compact:!0,onBlur:function onBlur(){return i(!1)},onMouseEnter:function onMouseEnter(){return i(!0)},onMouseLeave:function onMouseLeave(){return i(!1)}},!f&&o().createElement(El,{active:!0,size:e.size}),!c&&(e.preview||e.src)&&o().createElement(l.Image,Bl({},e.image,{className:g(),onError:function onError(){u(!0),p(!0)},onLoad:function onLoad(){u(!1),p(!0)},size:e.size,src:e.preview||e.src})),(c||!(e.preview||e.src))&&o().createElement(l.Image,Bl({},e.image,{className:g("placeholder-image"),size:e.size}),o().createElement(l.Icon,{name:"image",size:"big"})),(e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.src&&o().createElement(l.Button,{content:j.t("LazyImage.buttons.view"),icon:"photo",onClick:function onClick(){return y(!0)},primary:!0}),e.download&&o().createElement(yo,{color:"green",filename:e.name,url:e.download}),e.children)))),e.src&&o().createElement(Nl,{image:e.src,onClose:function onClose(){return y(!1)},open:d,size:"large"})):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return v(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};Fl.defaultProps={dimmable:!0,duration:1e3,size:"medium"};var zl=Fl;function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ul=function Ul(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return _l(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_l(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],u=(0,r.useRef)();return(0,r.useEffect)((function(){if(u&&u.current&&e.placeholderAlt){var t=u.current.querySelector(".placeholder");t&&t.setAttribute("alt",e.placeholderAlt)}}),[u,e.placeholderAlt]),o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"video-player",closeIcon:!0,mountNode:t,onClose:e.onClose.bind(void 0),open:e.open,size:e.size},o().createElement(l.Modal.Content,null,a&&o().createElement(l.Message,{content:j.t("VideoPlayer.errors.path.content",{path:e.video}),header:j.t("VideoPlayer.errors.path.header"),icon:"exclamation circle"}),e.embedded&&o().createElement(l.Ref,{innerRef:u},o().createElement(l.Embed,{active:e.autoPlay,icon:e.icon,iframe:e.autoPlay?{allow:"autoplay"}:void 0,placeholder:e.placeholder,url:"".concat(e.video).concat(e.autoPlay?"?autoplay=true":"")})),!e.embedded&&o().createElement("video",{autoPlay:e.autoPlay,controls:!0,onError:function onError(){return c(!0)},src:e.video})))}))};Ul.defaultProps={autoPlay:!1,embedded:!1,icon:"right circle arrow",size:"small"};var Hl=Ul;function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(this,arguments)}function Vl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ql(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $l=function $l(e){var t=Vl((0,r.useState)(!1),2),n=t[0],i=t[1],a=Vl((0,r.useState)(!1),2),c=a[0],u=a[1],s=Vl((0,r.useState)(!(e.preview||e.src)),2),f=s[0],p=s[1],m=Vl((0,r.useState)(!1),2),d=m[0],y=m[1],h=Vl((0,r.useState)(!1),2),b=h[0],v=h[1],g=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return e&&t.push(e),f||t.push("hidden"),t.join(" ")}),[f]);return b?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-video",compact:!0,onBlur:function onBlur(){return i(!1)},onMouseEnter:function onMouseEnter(){return i(!0)},onMouseLeave:function onMouseLeave(){return i(!1)}},!f&&o().createElement(El,{active:!0,size:e.size}),!c&&e.preview&&o().createElement(l.Image,Gl({},e.image,{className:g(),onError:function onError(){u(!0),p(!0)},onLoad:function onLoad(){u(!1),p(!0)},src:e.preview,size:e.size})),!c&&!e.preview&&e.src&&o().createElement(l.Image,Gl({},e.image,{className:g(),size:e.size}),o().createElement("video",{onError:function onError(){u(!0),p(!0)},onLoadedData:function onLoadedData(){u(!1),p(!0)},src:e.src})),(c||!e.preview&&!e.src)&&o().createElement(l.Image,Gl({},e.image,{className:g("placeholder-image"),size:e.size}),o().createElement(l.Icon,{name:"image",size:"big"})),(e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.src&&o().createElement(l.Button,{content:j.t("LazyVideo.buttons.play"),icon:"video",onClick:function onClick(){return y(!0)},primary:!0}),e.download&&o().createElement(yo,{color:"green",filename:e.name,url:e.download}),e.children)))),e.src&&o().createElement(Hl,{autoPlay:e.autoPlay,embedded:e.embedded,icon:e.icon,onClose:function onClose(){return y(!1)},open:d,placeholder:e.preview,size:"large",video:e.src})):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return v(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};$l.defaultProps={autoPlay:!1,dimmable:!0,duration:1e3,embedded:!1,icon:"right circle arrow",size:"medium"};var Kl=$l;function Wl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ql(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xl="application/pdf",Jl=["image/png","image/jpeg","image/gif","image/webp","image/bmp","video/m4v","video/mp4"],Zl=function Zl(e){var t=Wl((0,r.useState)(e.contentType||""),2),n=t[0],i=t[1],c=Wl((0,r.useState)(e.name),2),u=c[0],s=c[1],f=Wl((0,r.useState)(e.preview),2),p=f[0],m=f[1],d=Wl((0,r.useState)(e.src),2),y=d[0],h=d[1],b=(0,r.useMemo)((function(){var e;return u&&(e=(e=u.split(".").pop())&&e.toUpperCase()),e}),[u]),v=(0,r.useCallback)((function(t){var n=a().first(t);i(n.type),s(n.name),m(null),a().contains(Jl,n.type)||n.type.startsWith("audio")||n.type===Xl?h(URL.createObjectURL(n)):h(null),e.onUpload(n)}),[e.onUpload]),g=(0,r.useCallback)((function(){return o().createElement(o().Fragment,null,e.onUpload&&o().createElement(yi,{color:"orange",content:j.t("Common.buttons.upload"),icon:"cloud upload",onSelection:v}),e.children)})),E=(0,r.useCallback)((function(){return n.startsWith("image")?o().createElement(zl,{dimmable:e.dimmable,download:e.downloadUrl,preview:p,src:y,size:e.size},g()):n.startsWith("video")?o().createElement(Kl,{dimmable:e.dimmable,download:e.downloadUrl,preview:p,src:y,size:e.size},g()):n.startsWith("audio")?o().createElement(jl,{dimmable:e.dimmable,download:e.downloadUrl,preview:p,src:y,size:e.size},g()):o().createElement(Tl,{dimmable:e.dimmable,download:e.downloadUrl,pdf:n===Xl,preview:p,src:y,size:e.size},g())}),[n,p,y,e.dimmable,e.downloadUrl,e.size]),S=(0,r.useCallback)((function(){return b?o().createElement("div",null,o().createElement(l.Icon,{name:"info circle"}),o().createElement("span",null,o().createElement(H.Trans,{components:{bold:o().createElement("strong",null)},default:"Your <bold>{{type}}</bold> has been received",i18n:j,i18nKey:"LazyMedia.messages.uploaded",values:{type:b}}))):null}),[b]);return(0,r.useEffect)((function(){e.contentType&&i(e.contentType),e.name&&s(e.name),e.preview&&m(e.preview),e.src?h(e.src):h(null)}),[e.contentType,e.name,e.preview,e.src]),o().createElement("div",{className:"lazy-media"},E(),S())};Zl.defaultProps={dimmable:!0,size:"medium"};var ec=Zl,tc=["manifest","options"];function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rc=function rc(e){var t,i=e.manifest,c=e.options,u=void 0===c?{}:c,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tc),f=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return nc(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nc(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],m=f[1];return o().createElement(o().Fragment,null,o().createElement(ec,s,i&&o().createElement(l.Button,{color:s.color,content:s.content||j.t("Common.buttons.iiif"),icon:"images outline",onClick:function onClick(){return m(!0)}}),s.children),p&&o().createElement(fa,{manifestId:i,onClose:function onClose(){return m(!1)},options:a().defaults(u,{showIIIFBadge:!1})}))},oc=function oc(e){return o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"listLoader",dimmed:e.active,style:{opacity:e.active?"0.8":"0"}},o().createElement(l.Dimmer,{active:e.active,inverted:!0},o().createElement(l.Loader,{content:j.t("Common.messages.loading")})))},ic=void 0,ac=function ac(e){return o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{as:l.Form,className:"login-modal",error:e.loginFailed,mountNode:t,open:e.open,size:"small",trigger:e.trigger},o().createElement(l.Header,{icon:"user circle",content:j.t("LoginModal.header")}),o().createElement(l.Message,{error:!0,header:j.t("LoginModal.loginErrorHeader"),content:j.t("LoginModal.loginErrorContent")}),o().createElement(l.Grid,{padded:"vertically",textAlign:"center"},o().createElement(l.Grid.Column,null,o().createElement(l.Grid.Row,null,o().createElement(l.Input,{autoFocus:!0,className:"form-field",icon:o().createElement(l.Icon,{name:"at"}),onChange:e.onUsernameChange.bind(ic),placeholder:e.placeholder,size:"huge"})),o().createElement(l.Grid.Row,{className:"row"},o().createElement(l.Input,{className:"form-field",icon:o().createElement(l.Icon,{name:"lock"}),onChange:e.onPasswordChange.bind(ic),placeholder:j.t("LoginModal.password"),size:"huge",type:"password"})))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{disabled:e.disabled,onClick:e.onLogin.bind(ic),primary:!0,size:"large",type:"submit"},j.t("LoginModal.buttonLogin")),e.onClose&&o().createElement(l.Button,{basic:!0,onClick:e.onClose.bind(ic),size:"large"},j.t("LoginModal.buttonCancel"))))}))};ac.defaultProps={placeholder:j.t("LoginModal.email")};var lc=ac;function cc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sc=function sc(e){for(var t={},n=[],r=0;r<e.columns;r+=1)t["column".concat(r)]=[];for(var i=0;i<e.children.length;i+=1){var a=i%e.columns;t["column".concat(a)].push(o().createElement("div",{className:"itemContainer",key:i,style:{marginBottom:"".concat(e.gap,"px")}},e.children[i]))}for(var l=0;l<e.columns;l+=1)n.push(o().createElement("div",{className:"column",key:l,style:{marginLeft:"".concat(l>0?e.gap:0,"px")}},t["column".concat(l)]));return o().createElement("div",{className:"masonryGrid"},n)},fc=function fc(e){var t=cc((0,r.useState)(!1),2),n=t[0],i=t[1],a=cc((0,r.useState)(0),2),c=a[0],u=a[1];return(0,r.useEffect)((function(){u(175+Math.ceil(350*Math.random()))}),[]),o().createElement(l.Dimmer.Dimmable,{className:"item",dimmed:n,onClick:function onClick(){return e.onClick&&e.onClick(e.item)},onMouseEnter:function onMouseEnter(){return i(!0)},onMouseLeave:function onMouseLeave(){return i(!1)},style:{cursor:e.onClick?"pointer":void 0,height:"".concat(c,"px")}},o().createElement(l.Transition,{duration:800,visible:n},o().createElement(l.Dimmer.Inner,{active:n},o().createElement(l.Header,{content:e.item.title,inverted:!0,subheader:e.item.subtitle}),e.item.extra&&o().createElement("div",{className:"extraContainer"},e.item.extra))),o().createElement(l.Image,{alt:e.item.alt,className:"image",src:e.item.image}),e.renderContent&&e.renderContent(e.item))},pc=function pc(e){return o().createElement("div",{className:"masonry-grid"},o().createElement(l.Loader,{active:e.loading}),o().createElement("div",null,o().createElement(sc,{columns:e.columns,gap:e.gap},a().map(e.items,(function(t,n){return o().createElement(fc,{key:n,item:t,onClick:e.onClick,renderContent:e.renderContent})}))),e.pages>1&&e.onPageChange&&o().createElement(l.Segment,{basic:!0,textAlign:"center"},o().createElement(l.Pagination,{activePage:e.page,firstItem:null,lastItem:null,onPageChange:function onPageChange(t,n){var r=n.activePage;return e.onPageChange&&e.onPageChange(r)},totalPages:e.pages,size:"small"}))),!e.loading&&!(e.items&&e.items.length)&&e.renderEmpty&&e.renderEmpty())},mc=function mc(e){return o().createElement(l.Button,{className:"play-button",color:"black",icon:"play",onClick:function onClick(t){e.onClick&&(t.stopPropagation(),e.onClick())},size:e.size,style:e.style})};mc.defaultProps={onClick:void 0,size:"massive",style:void 0};var dc=mc,yc=function yc(){return o().createElement("div",{className:"icon video-player-button"},o().createElement("div",null,o().createElement(dc,null)))};function hc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bc=function bc(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return hc(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hc(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return o().createElement(l.Dimmer,{active:e.visible,className:"media-gallery mediaGallery",page:!0},e.loading&&o().createElement(l.Loader,{active:!0,size:"big"}),e.item&&o().createElement(o().Fragment,null,o().createElement(l.Transition,{animation:"fade",mountOnShow:!1},o().createElement("div",{className:"imageContainer"},o().createElement(l.Image,{src:e.item.image,style:{objectFit:"contain"}}),"video"===e.item.type&&o().createElement(dc,{onClick:function onClick(){return c(!0)},style:{position:"absolute",top:"50%"}}))),e.renderContent&&e.renderContent(),e.onClose&&o().createElement("div",{className:"controls top right"},o().createElement(l.Button,{basic:!0,circular:!0,icon:"times",inverted:!0,onClick:e.onClose,size:"large"})),e.label&&o().createElement("div",{className:"controls top left"},o().createElement(l.Button,{basic:!0,content:e.label,inverted:!0,size:"large"})),e.onPrevious&&o().createElement("div",{className:"controls middle left"},o().createElement(l.Button,{basic:!0,disabled:!e.onPrevious,inverted:!0,icon:"angle left",onClick:e.onPrevious,size:"huge"})),e.onNext&&o().createElement("div",{className:"controls middle right"},o().createElement(l.Button,{basic:!0,disabled:!e.onNext,inverted:!0,icon:"angle right",onClick:e.onNext,size:"huge"})),e.item.src&&o().createElement(Hl,{autoPlay:!0,embedded:e.item.embedded,icon:o().createElement(yc,null),onClose:function onClose(){return c(!1)},open:a,placeholder:e.item.preview,size:"huge",video:e.item.src})))};function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gc=function gc(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return vc(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vc(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],u=i[1];return(0,r.useEffect)((function(){for(var t=[],n=0;n<e.items.length&&t.length<5;n+=1)a().isEmpty(e.items[n].image)||t.push(e.items[n]);u(t)}),[e.items]),a().isEmpty(e.items)?null:o().createElement("div",{className:"mediaGrid"},o().createElement(l.Loader,{active:e.loading}),o().createElement("div",{className:"grid".concat(c.length)},a().map(c,(function(t,n){return o().createElement("div",{className:"mediaImage",key:n},o().createElement(l.Image,{onClick:function onClick(){return e.onClick&&e.onClick(t)},src:t.image,style:{cursor:e.onClick?"pointer":void 0,objectFit:"cover",width:"100%"}}))}))))},Ec=function Ec(e){return o().createElement(v.InfiniteScroll,{offset:100,onBottomReached:e.onBottomReached},o().createElement(oc,{active:e.loading||!1}),o().createElement(l.Card.Group,{doubling:!0,stackable:!0},a().map(e.items,(function(t,n){return o().createElement(l.Card,{onClick:e.onClick.bind(void 0,t,n)},o().createElement(l.Image,{alt:t.alt,src:t.image,style:{objectFit:"cover"}}),"video"===t.type&&o().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},o().createElement(dc,null)),(e.renderMeta||e.renderHeader||e.renderDescription)&&o().createElement(l.Card.Content,null,e.renderHeader&&o().createElement(l.Card.Header,{content:e.renderHeader(t),textAlign:e.textAlign}),e.renderMeta&&o().createElement(l.Card.Meta,{content:e.renderMeta(t),textAlign:e.textAlign}),e.renderDescription&&o().createElement(l.Card.Description,{content:e.renderDescription(t),textAlign:e.textAlign})),e.renderExtra&&o().createElement(l.Card.Content,{content:e.renderExtra(t),extra:!0,textAlign:e.textAlign}))}))))};function Sc(e){return Sc="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Sc(e)}function Oc(e){var t=function(e,t){if("object"!=Sc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Sc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Sc(t)?t:String(t)}function Cc(e,t,n){return t=kc(t),function(e,t){if(t&&("object"===Sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jc()?Reflect.construct(t,n||[],kc(e).constructor):t.apply(e,n))}function jc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jc=function jc(){return!!e})()}function kc(e){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kc(e)}function Pc(e,t){return Pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pc(e,t)}var Ic=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Cc(this,t,[e])).state={modalVisible:!1},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pc(e,t)}(t,e),n=t,(r=[{key:"onClose",value:function value(){this.setState({modalVisible:!1})}},{key:"render",value:function value(){var e=this;return o().createElement(o().Fragment,null,o().createElement(l.Dropdown,{className:"modal-dropdown",onClick:function onClick(){return e.setState({modalVisible:!0})},onSearchChange:function onSearchChange(){},open:!1,search:!0,searchInput:{"aria-label":"Search"},selection:!0,searchQuery:this.props.searchQuery||""}),o().createElement(l.Button.Group,null,o().createElement(l.Button,{basic:!0,content:j.t("Common.buttons.clear"),icon:"times",onClick:this.props.onClear.bind(this),type:"button"})),this.renderModal())}},{key:"renderModal",value:function value(){return this.props.renderModal({onClose:this.onClose.bind(this),open:this.state.modalVisible})}}])&&function wc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oc(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component),Ac=(0,H.withTranslation)()(Ic);function Dc(e){return Dc="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Dc(e)}function Tc(e){return function(e){if(Array.isArray(e))return xc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return xc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nc(e){var t=function(e,t){if("object"!=Dc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dc(t)?t:String(t)}function Bc(e,t,n){return t=Rc(t),function(e,t){if(t&&("object"===Dc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lc()?Reflect.construct(t,n||[],Rc(e).constructor):t.apply(e,n))}function Lc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lc=function Lc(){return!!e})()}function Rc(e){return Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rc(e)}function Fc(e,t){return Fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fc(e,t)}var zc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Bc(this,t,[e])).dropdown=void 0,n.state={loading:!1,options:[],page:1,pages:1,search:""},n.dropdown=(0,r.createRef)(),n}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fc(e,t)}(t,e),n=t,(i=[{key:"componentDidMount",value:function value(){this.onReset()}},{key:"componentDidUpdate",value:function value(e){this.props.value!==e.value&&this.setState({page:1,pages:1,search:""},this.onSearch.bind(this))}},{key:"getClassNames",value:function value(){var e=["remote-dropdown"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"getValues",value:function value(){var e=[],t=this.props.value;return t&&t.length&&(e=Array.isArray(t)?t:[t]),e}},{key:"getOption",value:function value(e){return{key:e,text:e,value:e}}},{key:"getOptions",value:function value(){var e=this,t=Tc(this.state.options);a().each(this.getValues(),(function(n){a().findWhere(t,{value:n})||t.push(e.getOption(n))}));var n=this.state.search;return this.props.allowAdditions&&n&&!a().findWhere(t,{text:n})&&t.push({key:"add",value:"add",text:this.renderAddOption(),onClick:this.onAddItem.bind(this)}),this.state.page<this.state.pages&&t.push({key:"more",value:"more",text:this.renderLoadMoreOption(),onClick:function onClick(){return e.setState((function(e){return{page:e.page+1}}),e.onSearch.bind(e))}}),t}},{key:"getSearchOptions",value:function value(){var e=this;return a().filter(this.getOptions(),(function(t){return!e.getValues().includes(t.value)}))}},{key:"onAddItem",value:function value(e){var t=this;return this.props.onAddItem&&this.props.onAddItem(this.state.search).then((function(){var n=t.state.search;t.props.multiple&&(n=[].concat(Tc(t.props.value),[t.state.search])),t.onOptionSelection(e,{value:n}),t.props.multiple||t.dropdown.current.close()}))}},{key:"onOptionSelection",value:function value(e,t){var n=t.value;this.props.onSelection(n)}},{key:"onReset",value:function value(){this.setState({options:a().map(this.getValues(),this.getOption.bind(this)),page:1,pages:1,search:""})}},{key:"onSearch",value:function value(){var e=this,t=this.state,n=t.page,r=t.search;this.setState({loading:!0},(function(){e.props.onLoad({page:n,search:r}).then((function(t){var r=t.data,o=a().map(r[e.props.collectionName],e.props.renderOption.bind(e)),i=r.list.pages;e.setState((function(e){return{loading:!1,options:[].concat(Tc(n>1&&e.options||[]),Tc(o)),page:n,pages:i}}))}))}))}},{key:"onSearchChange",value:function value(e,t){var n=t.searchQuery;this.setState({page:1,pages:1,search:n})}},{key:"render",value:function value(){var e=this;return o().createElement(l.Dropdown,{className:this.getClassNames(),clearable:!0,fluid:this.props.fluid,loading:this.state.loading,multiple:this.props.multiple,onBlur:this.onReset.bind(this),onClose:this.onReset.bind(this),onChange:this.onOptionSelection.bind(this),onOpen:this.onSearch.bind(this),onSearchChange:this.onSearchChange.bind(this),options:this.getOptions(),placeholder:this.props.placeholder,ref:this.dropdown,scrolling:!0,search:function search(){return e.getSearchOptions()},searchInput:{"aria-label":"Search",className:"remote-dropdown-search-input",onKeyDown:v.Timer.clearSearchTimer.bind(this),onKeyUp:v.Timer.setSearchTimer.bind(this,this.onSearch.bind(this))},searchQuery:this.state.search,selectOnBlur:!1,selection:!0,value:this.props.value})}},{key:"renderAddOption",value:function value(){return o().createElement("div",{className:"extra-option"},o().createElement(l.Icon,{name:"plus circle"}),"".concat(j.t("RemoteDropdown.labels.add")," ").concat(this.state.search))}},{key:"renderLoadMoreOption",value:function value(){return o().createElement("div",{className:"extra-option"},o().createElement(l.Icon,{name:"refresh"}),j.t("RemoteDropdown.labels.loadMore"))}}])&&function Mc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nc(r.key),r)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);zc.defaultProps=void 0,zc.defaultProps={allowAdditions:!1,className:"",fluid:!1,multiple:!1,onAddItem:void 0,placeholder:null};var _c=zc,Uc=["useSearchBox"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hc.apply(this,arguments)}function Gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vc=function Vc(e){var t,i=e.useSearchBox,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Uc),u=i(c),s=u.query,f=u.refine,p=u.clear,m=u.isSearchStalled,d=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return Gc(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gc(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=d[0],h=d[1],b=(0,r.useRef)(),g=(0,r.useCallback)((function(){h(""),p();var e=b.current;e&&e.focus()}),[p]),E=(0,r.useCallback)((function(){return f(y)}),[f,y]);return o().createElement(l.Input,Hc({},c,{"aria-label":"Search",icon:o().createElement(l.Icon,{link:!a().isEmpty(s),name:a().isEmpty(s)?"search":"times",onClick:g}),input:{"aria-label":"search"},loading:m,onChange:function onChange(e,t){var n=t.value;return h(n)},onKeyDown:function onKeyDown(){return v.Timer.clearSearchTimer()},onKeyUp:function onKeyUp(){return v.Timer.setSearchTimer(E)},ref:b,type:"text",value:y}))},qc=["usePagination"],$c=function $c(e){var t=e.usePagination,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,qc),i=t(n),a=i.currentRefinement,c=i.nbPages,u=i.refine,s=(0,r.useCallback)((function(e,t){var n=t.activePage;return u(n-1)}),[u]);return(0,r.useEffect)((function(){n.scrollToTop&&window.scroll({top:0,behavior:"smooth"})}),[a,n.scrollToTop]),0===c?null:o().createElement(l.Pagination,{activePage:a+1,onPageChange:s,totalPages:c})};$c.defaultProps={scrollToTop:!1};var Kc=$c,Wc=["useHits"],Qc=function Qc(e){var t=e.useHits,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Wc),r=t(n).hits,i=n.as,a=n.asProps,l=n.link,c=n.renderDescription,u=n.renderEmptyList,s=n.renderExtra,f=n.renderHeader,p=n.renderImage,m=n.renderMeta;return o().createElement(Ka,{as:i,asProps:a,hideToggle:!0,items:r,link:l,renderDescription:c,renderEmptyList:u,renderExtra:s,renderHeader:f,renderImage:p,renderMeta:m})};Qc.defaultProps={as:void 0,asProps:void 0,link:void 0,renderDescription:void 0,renderEmptyList:void 0,renderExtra:void 0,renderHeader:void 0,renderImage:void 0,renderMeta:void 0};var Yc=Qc,Xc=function Xc(e){var t=e.useHitsPerPage,n=e.options,r=t({items:a().map(n,(function(e,t){return{label:e,value:e,default:0===t}}))}),i=r.items,l=r.refine,c=a().findWhere(i,{isRefined:!0}).value;return o().createElement(V,{basic:!0,icon:"list",onChange:function onChange(e,t){return l(t.value)},options:a().map(i,(function(e){return{key:e.value,value:e.value,text:e.label}})),text:j.t("SearchResultsPerPage.labels.show",{value:c}),value:c})},Jc=["useSortBy"],Zc=function Zc(e){var t=(0,e.useSortBy)(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Jc)),n=t.currentRefinement,i=t.options,l=t.refine,c=a().findWhere(i,{value:n})||a().first(i),u=c.label,s=c.value,f=(0,r.useMemo)((function(){return s&&s.endsWith("desc")?"sort alphabet down":"sort alphabet up"}),[s]);return o().createElement(V,{basic:!0,icon:f,onChange:function onChange(e,t){return l(t.value)},options:a().map(i,(function(e){return{key:e.value,value:e.value,text:e.description||e.label}})),text:u,value:s})},eu=["useStats"],tu=function tu(e){var t=(0,e.useStats)(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eu)),n=t.nbHits,r=(t.processingTimeMS/1e3).toFixed(2);return o().createElement("div",null,j.t("SearchStats.labels.results",{count:n,seconds:r}))},nu=function nu(e){return e.visible?o().createElement("div",{className:"section"},e.header&&o().createElement(l.Header,{content:e.header}),e.children,o().createElement(l.Divider,{hidden:!e.divided})):null};nu.defaultProps={divided:!0,header:void 0,visible:!0};var ru=nu,ou=void 0;function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(this,arguments)}function au(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||lu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lu(e,t){if(e){if("string"==typeof e)return cu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cu(e,t):void 0}}function cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uu=U(Re((function(e){(0,r.useEffect)((function(){e.onInit&&e.onInit()}),[]);var t=(0,r.useCallback)((function(t){return e.isSelected(t)?o().createElement(l.Icon,{color:"green",name:"check"}):null}),[e.selectedItems]),n=(0,r.useCallback)((function(){return a().isEmpty(e.items)?null:e.renderItems?e.renderItems({isSelected:e.isSelected,items:e.items,onSelect:e.onSelect}):o().createElement(l.Table,{basic:!0,padded:!0,selectable:!0},o().createElement(l.Table.Body,null,a().map(e.items,(function(n,r){return o().createElement(l.Table.Row,{key:r,onClick:e.onSelect.bind(ou,n)},o().createElement(l.Table.Cell,null,e.renderItem(n)),o().createElement(l.Table.Cell,null,t(n)))}))))}),[t,e.items,e.onSelect,e.renderItem]),i=(0,r.useCallback)((function(){return e.items&&e.items.length||e.loading?null:o().createElement(l.Grid,{className:"empty",padded:"vertically"},o().createElement(l.Grid.Column,{textAlign:"center"},o().createElement(l.Grid.Row,null,o().createElement(l.Icon,{name:"search",size:"huge"})),o().createElement(l.Grid.Row,null,j.t("Selectize.messages.noRecords"))))}),[e.items,e.loading]);return o().createElement(l.Grid,null,o().createElement(l.Grid.Column,{textAlign:"center"},e.renderHeader?e.renderHeader({onItemClick:e.onItemSelection.bind(ou),selectedItem:e.selectedItem,selectedItems:e.selectedItems}):o().createElement(ot,{isSelected:function isSelected(t){return e.selectedItem===t},items:e.selectedItems,onItemClick:e.onItemSelection.bind(ou),renderItem:e.renderItem.bind(ou)}),n(),i()))}))),su=function su(e){var t=au((0,r.useState)(!1),2),n=t[0],i=t[1],c=au((0,r.useState)(),2),u=c[0],s=c[1],f=au((0,r.useState)(e.selectedItems||[]),2),p=f[0],m=f[1],d=(0,r.useMemo)((function(){return!!e.multiple}),[e.multiple]),y=(0,r.useMemo)((function(){return a().isNumber(e.multiple)?e.multiple:Number.MAX_SAFE_INTEGER}),[e.multiple]),h=(0,r.useCallback)((function(e){return!!a().findWhere(p,{id:e.id},[p])})),b=(0,r.useCallback)((function(e){h(e)?m((function(t){return a().filter(t,(function(t){return t.id!==e.id}))})):d?p.length>=y?i(!0):m((function(t){return[].concat(function(e){if(Array.isArray(e))return cu(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||lu(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var n})):m([e])}),[h,e.multiple]),v=(0,r.useCallback)((function(e){u===e?(s(null),b(e)):s(e)}),[u,b]),g=(0,r.useCallback)((function(t){return e.modal&&e.modal.onSave?e.modal.onSave(t).then((function(e){return b(e)})):Promise.resolve()}),[b,e.modal]);return o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{as:l.Form,centered:e.centered,className:"selectize",mountNode:t,noValidate:!0,open:!0,size:"small"},o().createElement(l.Modal.Header,{content:e.title}),o().createElement(l.Modal.Content,null,o().createElement(l.Message,{content:j.t("Selectize.messages.maxSelected.content"),error:!0,header:j.t("Selectize.messages.maxSelected.header"),onDismiss:function onDismiss(){return i(!1)},visible:n}),o().createElement(uu,iu({},e,{actions:[],isSelected:h,onDelete:function onDelete(){return Promise.resolve()},onDeleteAll:function onDeleteAll(){return Promise.resolve()},onItemSelection:v,onSave:g,onSelect:b,selectedItem:u,selectedItems:p}))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.onSave.bind(ou,p),primary:!0,size:"medium",type:"submit"},j.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.onClose.bind(ou),size:"medium",type:"button"},j.t("Common.buttons.cancel"))))}))};su.defaultProps={centered:!1,modal:void 0,multiple:!0,searchable:!0,selectedItems:[]};var fu=su;function mu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?du(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yu=function yu(e){return o().createElement(l.Card,{raised:e.selected,link:!0,onClick:e.onClick},e.image&&a().isString(e.image)&&o().createElement(l.Image,{size:"small",src:e.image}),!!e.image&&!a().isString(e.image)&&e.image,!e.image&&o().createElement(l.Segment,{placeholder:!0},o().createElement(l.Icon,{name:"image",size:"large"})),o().createElement(l.Card.Content,null,e.header&&o().createElement(l.Card.Header,null,o().createElement(l.Header,{as:"h6",content:e.header})),e.meta&&o().createElement(l.Card.Meta,{content:e.meta}),e.description&&o().createElement(l.Card.Description,{content:e.description})),e.extra&&o().createElement(l.Card.Content,{extra:!0},e.extra),e.selected&&o().createElement(l.Card.Content,{extra:!0},o().createElement(l.Button,{basic:!0,circular:!0,compact:!0,icon:"times",onClick:e.onDelete})))};yu.defaultProps={header:void 0,image:void 0,meta:void 0,renderExtra:void 0};var hu=function hu(e){var t=mu((0,r.useState)(1),2),n=t[0],i=t[1],c=mu((0,r.useState)(0),2),u=c[0],s=c[1],f=mu((0,r.useState)(!1),2),p=f[0],m=f[1],d=(0,r.useMemo)((function(){var t=null;if(n&&e.selectedItems&&e.selectedItems.length){var r=(n-1)*(e.perPage||5),o=r+(e.perPage||5);t=e.selectedItems.slice(r,o)}return t}),[n,e.perPage,e.selectedItems]),y=(0,r.useMemo)((function(){var t=(n-1)*(e.perPage||5),r=t+(e.perPage||5),o=e.selectedItems.length;return"".concat(t+1," - ").concat(Math.min(r,o)," of ").concat(o)}),[n,e.perPage,e.selectedItems]),h=(0,r.useCallback)((function(e){var t=n+e;t<1?t=u:t>u&&(t=1),i(t)}),[n,u]);return(0,r.useEffect)((function(){e.perPage&&e.selectedItems&&s(Math.ceil(e.selectedItems.length/e.perPage))}),[e.perPage,e.selectedItems]),(0,r.useEffect)((function(){(!d||!d.length)&&e.selectedItems&&e.selectedItems.length&&n>1&&i(n-1)}),[d,n,e.selectedItems]),a().isEmpty(d)?null:o().createElement(l.Segment,{className:"selectize-image-header"},o().createElement(l.Transition,{visible:!p},o().createElement("div",null,o().createElement("div",{className:"container"},o().createElement(l.Button,{basic:!0,circular:!0,disabled:u<=1,icon:"arrow left",onClick:h.bind(undefined,-1)}),o().createElement(l.Card.Group,{itemsPerRow:e.perPage},a().map(d,(function(t){return o().createElement(yu,{description:e.renderDescription&&e.renderDescription(t),extra:e.renderExtra&&e.renderExtra(t),header:e.renderHeader&&e.renderHeader(t),image:e.renderImage&&e.renderImage(t),meta:e.renderMeta&&e.renderMeta(t),key:t.id,onClick:function onClick(){return e.selectedItem===t?e.onItemClick(null):e.onItemClick(t)},onDelete:function onDelete(){return e.onItemClick(t)},selected:t===e.selectedItem})}))),o().createElement(l.Button,{basic:!0,circular:!0,disabled:u<=1,icon:"arrow right",onClick:h.bind(undefined,1)})))),o().createElement("div",{className:"bottom-container"},o().createElement("div",null),o().createElement("div",null,y),o().createElement("div",null,e.collapsable&&o().createElement(l.Button,{as:"a",basic:!0,circular:!0,className:"link",compact:!0,content:p?j.t("Common.buttons.show"):j.t("Common.buttons.hide"),onClick:function onClick(){return m((function(e){return!e}))}}))))};hu.defaultProps={collapsable:!0,onItemClick:function onItemClick(){},perPage:5,renderExtra:void 0};var bu=hu;function vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Eu=function e(t){var n=vu((0,r.useState)(),2),i=n[0],c=n[1],u=vu((0,r.useState)(!1),2),s=u[0],f=u[1],p=(0,r.useRef)(),m=v.Element.findByType(t.children,e.Tab),d=(0,r.useMemo)((function(){return a().find(m,(function(e){return e.key===i}))}),[i,m]),y=(0,r.useMemo)((function(){var e=["simple-edit-page"];return t.className&&e.push(t.className),e.join(" ")}),[t.className]),h=(0,r.useCallback)((function(e){var n=e.key;c(n),t.onTabClick&&t.onTabClick(n)}),[t.onTabClick]),b=(0,r.useCallback)((function(){var e=o().createElement(l.Menu,t.menuProps,(null==m?void 0:m.length)>1&&a().map(m,(function(e){return o().createElement(l.Menu.Item,{active:e.key===i,disabled:t.loading||t.saving,key:e.key,name:e.props.name,onClick:function onClick(){return h(e)}})})),o().createElement(l.Menu.Menu,{position:"right"},o().createElement(l.Menu.Item,{className:"button-container"},t.editable&&o().createElement(l.Button,{content:j.t("Common.buttons.save"),disabled:t.loading||t.saving,onClick:t.onSave,primary:!0}),o().createElement(l.Button,{basic:!0,content:j.t("Common.buttons.cancel"),disabled:t.loading||t.saving,onClick:t.onCancel}))));return t.stickyMenu?o().createElement(l.Sticky,{context:p,offset:20},e):e}));return(0,r.useEffect)((function(){var e;(e=t.defaultTab?{key:t.defaultTab}:a().first(m))&&h(e),t.saved&&f(!0)}),[]),o().createElement(l.Grid,{className:y},o().createElement(l.Grid.Row,null,o().createElement(l.Grid.Column,null,b())),o().createElement(l.Grid.Row,null,o().createElement(l.Grid.Column,null,o().createElement(l.Ref,{innerRef:p},o().createElement("div",null,o().createElement(l.Form,{error:!a().isEmpty(t.errors),loading:t.loading||t.saving,noValidate:!0},o().createElement(l.Message,{error:!0,header:j.t("Common.errors.save"),list:t.errors}),d&&d.props.children),s&&o().createElement(I,{onDismiss:function onDismiss(){return f(!1)},type:I.MessageTypes.positive},o().createElement(l.Message.Header,{content:j.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:j.t("Common.messages.save.content")})))))))};Eu.defaultProps={editable:!0,menuProps:{pointing:!0,secondary:!0}};var Su=function Su(e){return e.children};Su.displayName="Tab";var wu=Object.assign(Eu,{Tab:Su});function Ou(e){return Ou="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Ou(e)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cu.apply(this,arguments)}function ku(e){var t=function(e,t){if("object"!=Ou(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ou(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ou(t)?t:String(t)}function Pu(e,t,n){return t=Au(t),function(e,t){if(t&&("object"===Ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Iu()?Reflect.construct(t,n||[],Au(e).constructor):t.apply(e,n))}function Iu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Iu=function Iu(){return!!e})()}function Au(e){return Au=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Au(e)}function Du(e,t){return Du=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Du(e,t)}var Tu=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pu(this,t,[e])).state={tab:null},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Du(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function value(){var e=a().first(v.Element.findByType(this.props.children,t.Tab));this.setState({tab:e.props.name})}},{key:"getHeaderClasses",value:function value(){var e=["modal-header"];return this.props.inlineTabs&&e.push("inline-header"),e.join(" ")}},{key:"getModalClasses",value:function value(){var e=["tabbed-modal"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"render",value:function value(){var e=this,n=v.Element.findByType(this.props.children,t.Tab),r=a().find(n,(function(t){return t.props.name===e.state.tab}));return o().createElement(ie.Consumer,null,(function(n){return o().createElement(l.Modal,Cu({className:e.getModalClasses(),mountNode:n},a().omit(e.props,"header","renderHeader","inlineTabs","className")),o().createElement(l.Modal.Header,{className:e.getHeaderClasses()},e.renderHeader(),o().createElement(l.Menu,{float:"right",secondary:!0},a().map(v.Element.findByType(e.props.children,t.Tab),e.renderTab.bind(e)))),o().createElement(l.Modal.Content,null,r&&o().createElement("div",{key:r.props.name},r.props.children)),v.Element.findByType(e.props.children,l.Modal.Actions))}))}},{key:"renderHeader",value:function value(){return this.props.renderHeader?this.props.renderHeader():o().createElement(l.Header,{content:this.props.header})}},{key:"renderTab",value:function value(e){var t=this,n=e.props.name;return o().createElement(l.Menu.Item,{active:this.state.tab===n,key:n,name:n,onClick:function onClick(){return t.setState({tab:n})}},n)}}])&&function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ku(r.key),r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}(r.Component);Tu.defaultProps=void 0,Tu.Tab=void 0;var xu=function xu(e){return e.children};xu.displayName="Tab",Tu.Tab=xu,Tu.defaultProps={className:void 0,inlineTabs:!0,renderHeader:void 0};var Mu=Tu,Nu=function Nu(e){return o().createElement(l.Menu,{pointing:!0,secondary:!0},a().map(a().where(e.tabs,{visible:!0}),(function(t){return o().createElement(l.Menu.Item,{active:t.active,key:t.key,name:t.label,onClick:e.onTabClick.bind(void 0,t)})})))},Bu=function Bu(e){return o().createElement("div",{className:"tags-list"},a().map(e.tags||[],(function(t){return o().createElement(l.Label,{style:{backgroundColor:e.config&&e.config[t]&&e.config[t].background,color:e.config&&e.config[t]&&e.config[t].color,marginRight:"10px"}},t,e.onDelete&&o().createElement(l.Icon,{name:"delete",onClick:e.onDelete.bind(void 0,t)}))})))};function Lu(e){return Lu="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Lu(e)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(this,arguments)}function Fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(n),!0).forEach((function(t){var r,o,i,a;r=e,o=t,i=n[t],a=function(e,t){if("object"!=Lu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Lu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),(o="symbol"==Lu(a)?a:String(a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uu=function Uu(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return _u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1];return(0,r.useEffect)((function(){a||c(!0)}),[e.src]),o().createElement("div",null,o().createElement(l.Loader,{active:e.src&&a}),e.src&&o().createElement(l.Image,Ru({},e,{onLoad:function onLoad(){return c(!1)},style:zu(zu({},e.style),{},{visibility:a?"hidden":"visible"})})),!e.src&&o().createElement(zl,null))};Uu.defaultProps={style:{}};var Hu=Uu;function Gu(){return Gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gu.apply(this,arguments)}function Vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $u=function $u(e){var t=Vu((0,r.useState)(0),2),n=t[0],i=t[1],a=Vu((0,r.useState)(e.defaultInterval),2),c=a[0],u=a[1],s=Vu((0,r.useState)(0),2),f=s[0],p=s[1],m=Vu((0,r.useState)(!1),2),d=m[0],y=m[1],h=(0,r.useRef)(null);return(0,r.useEffect)((function(){h.current&&(h.current.currentTime=f)}),[f]),o().createElement(o().Fragment,null,o().createElement(l.Button,Gu({},e.button,{onClick:function onClick(){return y(!0)}})),o().createElement(ie.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"video-frame-selector",mountNode:t,open:d,size:"small"},o().createElement(l.Modal.Header,{content:e.title}),o().createElement(l.Modal.Content,null,o().createElement(l.Segment,null,o().createElement("video",{crossOrigin:"anonymous",onLoadedMetadata:function onLoadedMetadata(){return h.current&&i(h.current.duration)},ref:h,src:e.src})),o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,null,o().createElement("div",null,o().createElement(l.Label,{content:j.t("VideoFrameSelector.labels.interval",{count:c})})),o().createElement(l.Input,{"aria-label":"Interval Selector",min:1,max:300,name:"duration",onChange:function onChange(e,t){var n=t.value;return u(Number(n))},step:1,type:"range",value:c})),o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(l.Button,{"aria-label":"Previous Frame",basic:!0,disabled:0===f,icon:"arrow left",onClick:function onClick(){return p(Math.max(f-c,0))}}),o().createElement(l.Button,{"aria-label":"Next Frame",basic:!0,disabled:f===n,icon:"arrow right",onClick:function onClick(){return p(Math.min(f+c,n))}})))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:j.t("Common.buttons.ok"),primary:!0,onClick:function onClick(){var t=h.current;if(t&&v.Browser.isBrowser()){var n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0,n.width,n.height),n.toBlob((function(t){var n=new File([t],"test.png",{lastModified:(new Date).getTime(),type:t.type});e.onSelect(n),y(!1)}))}}}),o().createElement(l.Button,{basic:!0,content:j.t("Common.buttons.cancel"),onClick:function onClick(){return y(!1)}})))})))};$u.defaultProps={button:{basic:!0,content:j.t("VideoFrameSelector.buttons.select"),icon:"image"},defaultInterval:15,title:j.t("VideoFrameSelector.title")};var Ku=(0,H.withTranslation)()($u),Wu=__webpack_require__("../../node_modules/react-syntax-highlighter/dist/esm/index.js"),Qu=n.n(Wu);function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function Xu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ju=function Ju(e){var t,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{for(i=(n=n.call(e)).next,0;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t)||function(e,t){if(e){if("string"==typeof e)return Xu(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xu(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],c=i[1],u=e.opener.component,s=e.opener.props;return o().createElement(ie.Consumer,null,(function(t){return o().createElement(o().Fragment,null,o().createElement(u,Yu({},s,{className:"view-xml-trigger",onClick:function onClick(){return c(!0)}})),o().createElement(l.Modal,{className:"view-xml-modal",closeIcon:!0,centered:!1,mountNode:t,open:a,onClose:function onClose(){return c(!1)}},o().createElement(l.Modal.Header,{content:j.t("ViewXML.title")}),o().createElement(l.Modal.Content,null,o().createElement(Qu(),{language:"xml",style:e.highlighter},e.xml)),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{basic:!0,content:j.t("Common.buttons.close"),onClick:function onClick(){return c(!1)}}))))}))};Ju.defaultProps={opener:{component:l.Button,props:{content:j.t("ViewXML.buttons.view")}},style:{maxHeight:"70vh"}};var Zu=Ju}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(s=0;s<e.length;s++){for(var _e$s=_slicedToArray(e[s],3),l=(n=_e$s[0],o=_e$s[1],i=_e$s[2],!0),c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(l=!1,i<a&&(a=i));if(l){e.splice(s--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0,44:0};r.O.j=function(t){return 0===e[t]};var t=function t(_t2,n){var o,i,_n2=_slicedToArray(n,3),a=_n2[0],l=_n2[1],c=_n2[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var s=c(r)}for(_t2&&_t2(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},n=self.webpackChunk_performant_software_semantic_components=self.webpackChunk_performant_software_semantic_components||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[44],(function(){return r(923)}));o=r.O(o),module.exports=o}()},"?6bca":()=>{},"?a1ca":()=>{},"?8821":()=>{},"?23a8":()=>{},"?553e":()=>{},"?55b5":()=>{}}]);