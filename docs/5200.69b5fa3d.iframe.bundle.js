/*! For license information please see 5200.69b5fa3d.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_performant_software_storybook=self.webpackChunk_performant_software_storybook||[]).push([[5200],{"../semantic-ui/build/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}!function(){"use strict";var e,t={562:function _(e,t,n){n.r(t),n.d(t,{AccordionDataList:function AccordionDataList(){return Re},AccordionList:function AccordionList(){return Ke},AccordionSelector:function AccordionSelector(){return lt},ArrowButtons:function ArrowButtons(){return st},AssociatedDropdown:function AssociatedDropdown(){return J},AudioPlayer:function AudioPlayer(){return ft},BatchEdit:function BatchEdit(){return Ri},BibliographyList:function BibliographyList(){return pn},BooleanIcon:function BooleanIcon(){return dn},CancelButton:function CancelButton(){return mn},ColorButton:function ColorButton(){return yn},ColorPickerModal:function ColorPickerModal(){return Sn},CurrentFacetLabels:function CurrentFacetLabels(){return kn},CurrentFacets:function CurrentFacets(){return xn},CurrentFacetsModal:function CurrentFacetsModal(){return Pn},DataTable:function DataTable(){return nr},DataView:function DataView(){return Pr},DatabaseView:function DatabaseView(){return Br},DateInput:function DateInput(){return Z},DatePicker:function DatePicker(){return Hr},DescriptorField:function DescriptorField(){return qr},DownloadButton:function DownloadButton(){return $r},Draggable:function Draggable(){return Bn},DropdownButton:function DropdownButton(){return U},DropdownMenu:function DropdownMenu(){return ur},EditModal:function EditModal(){return q},EditPage:function EditPage(){return to},EmbeddedList:function EmbeddedList(){return ho},Facet:function Facet(){return vo},FacetClearButton:function FacetClearButton(){return wo},FacetList:function FacetList(){return jo},FacetSlider:function FacetSlider(){return To},FacetToggle:function FacetToggle(){return No},FileInputButton:function FileInputButton(){return Fo},FileUpload:function FileUpload(){return Vo},FileUploadModal:function FileUploadModal(){return wa},FilterOperatorOptions:function FilterOperatorOptions(){return be},FilterOperators:function FilterOperators(){return ye},FilterTypes:function FilterTypes(){return he},FuzzyDate:function FuzzyDate(){return ue},GoogleMap:function GoogleMap(){return ja},GooglePlacesSearch:function GooglePlacesSearch(){return Ia},HorizontalCards:function HorizontalCards(){return Ma},IIIFModal:function IIIFModal(){return Na},ImageCarousel:function ImageCarousel(){return za},ItemCollection:function ItemCollection(){return mi},ItemList:function ItemList(){return Ei},ItemViews:function ItemViews(){return Qa},Items:function Items(){return ri},KeyValuePairs:function KeyValuePairs(){return Li},KeyboardField:function KeyboardField(){return Ii},LazyAudio:function LazyAudio(){return Gi},LazyDocument:function LazyDocument(){return Wi},LazyIIIF:function LazyIIIF(){return wl},LazyImage:function LazyImage(){return rl},LazyMedia:function LazyMedia(){return vl},LazyVideo:function LazyVideo(){return fl},LinkButton:function LinkButton(){return Oo},LinkLabel:function LinkLabel(){return wi},ListFilters:function ListFilters(){return ge},ListLoader:function ListLoader(){return Ol},ListTable:function ListTable(){return Dr},LoginModal:function LoginModal(){return kl},MasonryGrid:function MasonryGrid(){return Dl},MediaGallery:function MediaGallery(){return Nl},MediaGrid:function MediaGrid(){return Bl},MediaList:function MediaList(){return zl},MenuBar:function MenuBar(){return dr},MenuSidebar:function MenuSidebar(){return yr},ModalContext:function ModalContext(){return ee},ModalDropdown:function ModalDropdown(){return Vl},NestedAccordion:function NestedAccordion(){return h},PhotoViewer:function PhotoViewer(){return Ji},PlayButton:function PlayButton(){return Tl},RemoteDropdown:function RemoteDropdown(){return ec},SORT_ASCENDING:function SORT_ASCENDING(){return L},SORT_DESCENDING:function SORT_DESCENDING(){return B},SaveButton:function SaveButton(){return Kr},SearchBox:function SearchBox(){return oc},SearchPagination:function SearchPagination(){return lc},SearchResults:function SearchResults(){return uc},SearchResultsPerPage:function SearchResultsPerPage(){return fc},SearchStats:function SearchStats(){return dc},Section:function Section(){return hc},Selectize:function Selectize(){return Sc},SelectizeHeader:function SelectizeHeader(){return Qe},SelectizeImageHeader:function SelectizeImageHeader(){return Ac},TabbedModal:function TabbedModal(){return zc},TabsMenu:function TabsMenu(){return Fc},TagsList:function TagsList(){return _c},Thumbnail:function Thumbnail(){return Kc},Toaster:function Toaster(){return j},VideoFrameSelector:function VideoFrameSelector(){return Jc},VideoPlayer:function VideoPlayer(){return il},VideoPlayerButton:function VideoPlayerButton(){return Ml},ViewXML:function ViewXML(){return os},useDataList:function useDataList(){return z},useList:function useList(){return Ie}});var r=__webpack_require__("../../node_modules/react/index.js"),o=n.n(r),a=__webpack_require__("../../node_modules/underscore/modules/index-all.js"),i=n.n(a),l=__webpack_require__("../../node_modules/semantic-ui-react/dist/es/index.js");function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(h,e);var t,n,r,a,m=(r=h,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(a){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function p(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=m.call(this,e)).state={activeItems:[]},t}return t=h,(n=[{key:"componentDidUpdate",value:function value(e){if(e.defaultActive!==this.props.defaultActive&&this.props.defaultActive&&this.props.defaultActive.length){var t=this.props.defaultActive.some((function(e){return"object"!==s(e)||!i().has(e,"id")||!i().has(e,"type")}));this.props.multipleItemTypes&&!t?this.setState({activeItems:this.props.defaultActive}):this.setState({activeItems:i().map(this.props.defaultActive,(function(e){return{id:e}}))})}}},{key:"getButtonClass",value:function value(e){var t=["accordion-button"];return this.props.showToggle&&!this.props.showToggle(e)&&t.push("hidden"),t.join(" ")}},{key:"isActive",value:function value(e){var t={id:e.id};return this.props.multipleItemTypes&&i().has(e,"type")&&(t={id:e.id,type:e.type}),!!i().findWhere(this.state.activeItems,t)}},{key:"isItemActive",value:function value(e){return this.props.isItemActive&&this.props.isItemActive(e)}},{key:"onItemClick",value:function value(e){this.props.toggleOnClick&&this.onItemToggle(e),this.props.onItemClick&&this.props.onItemClick(e)}},{key:"onItemToggle",value:function value(e){this.props.onItemToggle&&this.props.onItemToggle(e),this.toggleItem(e)}},{key:"render",value:function value(){return o().createElement(l.Accordion,{className:"nested-accordion",fluid:!0,inverted:this.props.inverted,panels:i().map(this.props.rootItems,this.renderPanel.bind(this)),styled:this.props.styled})}},{key:"renderContent",value:function value(e){var t=this.props.getChildItems(e);return t&&t.length?o().createElement(l.Accordion.Content,{active:this.isActive(e)},o().createElement("div",null,o().createElement(l.Accordion.Accordion,{panels:i().map(t,this.renderPanel.bind(this))}))):null}},{key:"renderPanel",value:function value(e){return o().createElement("div",{key:i().has(e,"type")?"".concat(e.type,"-").concat(e.id):e.id},o().createElement(l.Accordion.Title,{active:this.isActive(e),onClick:this.onItemClick.bind(this,e),style:{backgroundColor:this.isItemActive(e)?"rgba(255, 255, 255, 0.08)":void 0}},o().createElement("div",{className:"container"},o().createElement("div",null,this.renderToggle(e),o().createElement("div",{className:"item-container"},this.props.renderItem(e))),this.props.renderRight&&o().createElement("div",{className:"right-container"},this.props.renderRight(e)))),this.renderContent(e))}},{key:"renderToggle",value:function value(e){var t=this;return o().createElement(l.Button,{"aria-label":"Open",compact:!0,className:this.getButtonClass(e),icon:"dropdown",inverted:this.props.inverted,onClick:function onClick(n){n.stopPropagation(),t.onItemToggle(e)}})}},{key:"toggleItem",value:function value(e){var t=this;this.setState((function(n){return{activeItems:t.isActive(e)?i().filter(n.activeItems,(function(n){return t.props.multipleItemTypes&&i().has(e,"type")&&i().has(n,"type")?n.id!==e.id||n.type!==e.type:n.id!==e.id})):[].concat((r=n.activeItems,function(e){if(Array.isArray(e))return c(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e])};var r}))}}])&&function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(r.Component);m.defaultProps={defaultActive:[],inverted:!1,isItemActive:void 0,multipleItemTypes:!1,onItemClick:function onItemClick(){},renderRight:function renderRight(){},styled:!0,toggleOnClick:!1};var h=m,y=__webpack_require__("../shared/build/index.js"),b=__webpack_require__("../../node_modules/react-uuid/uuid.js"),v=n.n(b),g=__webpack_require__("../../node_modules/i18next/dist/esm/i18next.js"),E=n.n(g),w={en:{translation:JSON.parse('{"AccordionList":{"deleteContent":"Are you sure you want to remove this record?","deleteHeader":"Confirm Remove","record":"Record","record_plural":"Records"},"AccordionSelector":{"title":"Select Items"},"AudioPlayer":{"errors":{"path":{"content":"Please check the audio path: {{path}}","header":"There was a problem loading the audio"}}},"BibliographyList":{"sort":{"author":"Author","date":"Date","title":"Title"}},"BibliographyModal":{"title":"Add Entry"},"BibliographySearchInput":{"labels":{"placeholder":"Enter a URL, ISBN, DOI, PMID, arXiv ID"}},"Citation":{"labels":{"untitled":"Untitled"}},"Common":{"buttons":{"add":"Add","cancel":"Cancel","clear":"Clear","close":"Close","done":"Done","download":"Download","edit":"Edit","hide":"Hide","iiif":"View IIIF","ok":"OK","open":"Open","save":"Save","search":"Search","show":"Show","upload":"Upload"},"errors":{"title":"Oops!"},"labels":{"noRecords":"No records."},"messages":{"error":{"header":"Oops!"},"loading":"Loading","noResults":"No results found.","save":{"content":"Your changes have been saved.","header":"Success!"}}},"CreatorField":{"labels":{"firstName":"First name","lastName":"Last name","name":"Name"}},"CurrentFacetsModal":{"title":"Current Facets"},"EditContainer":{"errors":{"general":"Something went wrong while saving the record. Please make sure all required fields are filled out.","required":"The {{key}} field is required.","system":"A system error occurred while saving the record. Please contact your system administrator.","unique":"A record with the {{key}} \\"{{value}}\\" already exists."}},"DataTable":{"actions":{"copy":{"content":"Creates an editable copy to be saved as a new record","title":"Copy"},"delete":{"content":"Removes the record, permanently","title":"Remove"},"edit":{"content":"Opens the modal to edit the record","title":"Edit"}},"columns":{"actions":"Actions","select":"Select"},"loading":"Loading"},"DataView":{"labels":{"details":"Details","noSort":"No sort","sortBy":"Sort by {{column}}"}},"EditProvider":{"errors":{"general":"Something went wrong while saving the record. Please make sure all required fields are filled out.","required":"The {{key}} field is required.","unique":"A record with the {{key}} \\"{{value}}\\" already exists."}},"FacetList":{"buttons":{"showLess":"Show Less","showMore":"Show More"},"labels":{"search":"Search"}},"FileUpload":{"add":"<0>Add files</0> or drop files here","errors":{"fileType":"Unable to upload {{name}} because {{type}} files are not allowed.","maxSize":"Unable to upload {{name}} because it exceeds 10 MB."}},"FileUploadModal":{"errors":{"header":"There was an error processing your files","required":"File {{filename}} - The following fields are required: {{fields}}","upload":{"content":"Check the status on each file to see which were unsuccessful.","header":"Some of the files did not upload"}},"loader":"Uploading files...","title":"Upload Files"},"FilterLabels":{"buttons":{"clear":"Clear all"}},"FuzzyDate":{"accuracy":{"date":"Date","month":"Month","year":"Year"},"buttons":{"addRange":"Add Range","removeRange":"Remove Range"},"labels":{"accuracy":"Accuracy","date":"Date","description":"Description","month":"Month","year":"Year"},"title":"Fuzzy Date"},"ItemList":{"actions":{"copy":"Copy","delete":"Remove","edit":"Edit"},"buttons":{"clear":"Clear selected","deselectAll":"Deselect all","selectAll":"Select all"}},"KeyboardField":{"labels":{"hideKeyboard":"Hide Keyboard","showKeyboard":"Show Keyboard"}},"KeyValuePairs":{"labels":{"key":"Key","value":"Value"}},"LazyAudio":{"buttons":{"play":"Play"}},"LazyImage":{"buttons":{"view":"View image"}},"LazyMedia":{"messages":{"uploaded":"Your <bold>{{type}}</bold> has been received"}},"LazyVideo":{"buttons":{"play":"Play video"}},"List":{"buttons":{"add":"Add","deleteAll":"Delete all"},"deleteAllContent":"Are you sure you want to remove all records? This action cannot be undone.","deleteAllHeader":"Confirm Remove All","deleteContent":"Are you sure you want to remove this record?","deleteHeader":"Confirm Remove","emptyList":"No matching records found.","emptyListAdd":"You haven\'t added any yet. Click <1><0><0></0><1></1></0></1> to get started.","labels":{"perPage":"Show {{perPage}}"},"record":"Record","record_plural":"Records"},"ListFilters":{"buttons":{"add":"Add","reset":"Reset filters"},"operators":{"contain":"Contains","empty":"Is empty","equal":"Equals","greaterThan":"Is greater than","lessThan":"Is less than","notContain":"Does not contain","notEmpty":"Is not empty","notEqual":"Does not equal"},"title":"Filters"},"LoginModal":{"buttonCancel":"Cancel","buttonLogin":"Login","email":"Email","header":"Login","loginErrorContent":"The username and/or password you entered is invalid. Please double check and try again.","loginErrorHeader":"Invalid Credentials","password":"Password"},"PhotoViewer":{"errors":{"path":{"content":"Please check the image path: {{path}}","header":"There was a problem loading the image"}}},"RemoteDropdown":{"labels":{"add":"Add","loadMore":"Load more"}},"SearchResultsPerPage":{"labels":{"show":"Show {{value}}"}},"SearchStats":{"labels":{"results":"{{count}} results in {{seconds}} seconds"}},"Selectize":{"messages":{"maxSelected":{"content":"You have already selected the maximum number of items allowed.","header":"Maximum items selected"},"noRecords":"No matching records."}},"VideoFrameSelector":{"buttons":{"select":"Select frame"},"labels":{"interval":"Interval: {{count}} second","interval_plural":"Interval: {{count}} seconds"},"title":"Select Frame"},"VideoPlayer":{"errors":{"path":{"content":"Please check the video path: {{path}}","header":"There was a problem loading the video"}}},"ViewXML":{"buttons":{"view":"View XML"},"title":"XML"}}')}},O=E().createInstance();O.init({debug:!0,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},resources:w});var S=O;function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function e(t){var n,c=(2,function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(n)||function(e,t){if(e){if("string"==typeof e)return C(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1];return t.timeout&&t.timeout>0&&i().delay((function(){u(!1)}),t.timeout),(0,r.useEffect)((function(){!s&&t.onDismiss&&i().delay(t.onDismiss.bind(void 0),700)}),[s]),o().createElement(l.Transition,{animation:"slide down",duration:700,transitionOnMount:!0,visible:s},o().createElement(l.Message,{className:"toaster",info:t.type===e.MessageTypes.info,negative:t.type===e.MessageTypes.negative,onDismiss:function onDismiss(){return u(!1)},positive:t.type===e.MessageTypes.positive,warning:t.type===e.MessageTypes.negative},t.children))};k.defaultProps={onDismiss:void 0,timeout:3e3,type:(k.MessageTypes={info:"info",negative:"negative",positive:"positive",warning:"warning"}).info};var j=k;function P(e){return P="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},P(e)}function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function N(e){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N(e)}var L="ascending",B="descending",z=function z(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(u,t);var n,r,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(a);if(c){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function R(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state=t.initializeState(e),t}return n=u,r=[{key:"componentDidMount",value:function value(){this.props.polling&&(this.pollingInterval=setInterval(this.fetchData.bind(this),this.props.polling))}},{key:"componentDidUpdate",value:function value(e){e.saved!==this.props.saved&&this.props.saved&&this.setState({saved:this.props.saved},this.fetchData.bind(this))}},{key:"componentWillUnmount",value:function value(){this.pollingInterval&&clearInterval(this.pollingInterval)}},{key:"afterDelete",value:function value(){return 1===this.state.items.length?this.setState((function(e){return{page:e.page-1>1?e.page-1:1}}),this.fetchData.bind(this)):this.fetchData()}},{key:"afterDeleteAll",value:function value(){this.setState({page:1},this.fetchData.bind(this))}},{key:"fetchData",value:function value(){var e=this;this.setSession(),this.setState({loading:!0},(function(){var t=e.state,n=t.page,r=t.perPage,o=t.search,a=t.sortColumn,i=t.sortDirection,l=D(D({},e.state.filters),{},{page:n,search:o,per_page:r,sort_by:a,sort_direction:i});e.props.onLoad(l).then((function(t){var r=t.data,o=r[e.props.collectionName],a=r.list,i=a.pages,l=a.count;e.setState({count:l,items:o,page:n,pages:i,loading:!1})}))}))}},{key:"getDefaultFilters",value:function value(e){var t=this,n=[];return e.filters&&e.filters.defaults&&i().each(e.filters.defaults.filters,(function(r){var o=i().findWhere(e.filters.props.filters,{key:r.key});o&&n.push(t.onCreateFilter(D(D({},o),r)))})),{filters:n}}},{key:"getSessionKey",value:function value(){return this.props.session?"".concat("DataList",".").concat(this.props.session.key):null}},{key:"initializeState",value:function value(e){var t=this.restoreSession(),n=t.filters||this.getDefaultFilters(e),r=t.page||1,o=t.perPage||e.defaultPerPage||i().first(e.perPageOptions),a=t.search||e.defaultSearch||null,l=t.sortColumn||e.defaultSort||null,c=t.sortDirection||e.defaultSortDirection||null;return{count:0,error:null,filters:n,items:[],loading:!1,page:r,pages:1,perPage:o,saved:e.saved||!1,search:a,sortColumn:l,sortDirection:c}}},{key:"isFilterActive",value:function value(){var e=!1;return i().each(i().values(this.state.filters),(function(t){y.Object.isEmpty(t)||(e=!0)})),e}},{key:"onClearSearch",value:function value(e){var t;this.onSearchChange(e,{value:""}),null===(t=this.searchRef)||void 0===t||null===(t=t.inputRef)||void 0===t||null===(t=t.current)||void 0===t||t.focus(),this.onSearch()}},{key:"onCreateFilter",value:function value(e){return D(D({},e),{},{uid:v()()})}},{key:"onDelete",value:function value(e){return this.props.onDelete?this.props.onDelete(e).then(this.afterDelete.bind(this)).catch(this.onError.bind(this)):Promise.resolve()}},{key:"onDeleteAll",value:function value(){return this.props.onDeleteAll?this.props.onDeleteAll().then(this.afterDeleteAll.bind(this)):Promise.resolve()}},{key:"onError",value:function value(e){return this.props.resolveErrors&&this.setState({error:e})}},{key:"onFilterChange",value:function value(e){var t=this;return new Promise((function(n){t.props.filters&&t.props.filters.onChange&&t.props.filters.onChange(e),t.setState({filters:e,page:1},(function(){t.fetchData(),n()}))}))}},{key:"onPageChange",value:function value(e,t){var n=t.activePage;this.setState({page:n},this.fetchData.bind(this))}},{key:"onPerPageChange",value:function value(e,t){var n=t.value;this.setState({perPage:n},this.fetchData.bind(this))}},{key:"onSave",value:function value(e){var t=this;return this.props.onSave?Promise.resolve(this.props.onSave(e)).then((function(){return t.setState({saved:!0},t.fetchData.bind(t))})):Promise.resolve()}},{key:"onSearch",value:function value(){this.setState({page:1},this.fetchData.bind(this))}},{key:"onSearchChange",value:function value(e,t){var n=t.value;this.setState({search:n})}},{key:"onSort",value:function value(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t;r||(r=this.state.sortColumn===e&&this.state.sortDirection===L?B:L),this.setState({sortColumn:e,sortDirection:r,page:n},this.fetchData.bind(this))}},{key:"onInit",value:function value(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setState({sortColumn:"",sortDirection:"",page:e},this.fetchData.bind(this))}},{key:"render",value:function value(){var t=this,n=this.props.filters,r=void 0===n?{}:n,a=r.component,i=r.props,c=r.showLabels;return o().createElement(o().Fragment,null,o().createElement(e,I({},this.props,{count:this.state.count,filters:{active:this.isFilterActive(),component:a,onChange:this.onFilterChange.bind(this),showLabels:c,props:D(D({},i),{},{onCreateFilter:this.onCreateFilter.bind(this),item:this.state.filters})},items:this.state.items,loading:this.state.loading,page:this.state.page,pages:this.state.pages,perPage:this.state.perPage,onDelete:this.onDelete.bind(this),onDeleteAll:this.onDeleteAll.bind(this),onPageChange:this.onPageChange.bind(this),onPerPageChange:this.onPerPageChange.bind(this),onSave:this.onSave.bind(this),onSort:this.onSort.bind(this),onInit:this.onInit.bind(this),renderSearch:this.renderSearch.bind(this),sortColumn:this.state.sortColumn,sortDirection:this.state.sortDirection})),this.state.saved&&o().createElement(j,{onDismiss:function onDismiss(){return t.setState({saved:!1})},type:j.MessageTypes.positive},o().createElement(l.Message.Header,{content:S.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:S.t("Common.messages.save.content")})),this.state.error&&o().createElement(j,{onDismiss:function onDismiss(){return t.setState({error:!1})},timeout:0,type:j.MessageTypes.negative},o().createElement(l.Message.Header,{content:S.t("Common.messages.error.header")}),o().createElement(l.Message.List,{items:this.props.resolveErrors&&this.props.resolveErrors(this.state.error)})))}},{key:"renderSearch",value:function value(){var e=this;return this.props.searchable?o().createElement(l.Input,{"aria-label":"Search",type:"text",icon:o().createElement(l.Icon,{link:!i().isEmpty(this.state.search),name:i().isEmpty(this.state.search)?"search":"times",onClick:this.onClearSearch.bind(this)}),input:{"aria-label":"search"},ref:function ref(t){e.searchRef=t},loading:this.state.loading,onKeyDown:y.Timer.clearSearchTimer.bind(this),onKeyUp:y.Timer.setSearchTimer.bind(this,this.onSearch.bind(this)),onChange:this.onSearchChange.bind(this),size:"small",value:this.state.search}):null}},{key:"restoreSession",value:function value(){var e=this.getSessionKey();if(!e)return{};var t=sessionStorage.getItem(e)||"{}";return JSON.parse(t)}},{key:"setSession",value:function value(){var e=this.getSessionKey();if(e){var t=this.state,n=t.filters,r=t.page,o=t.perPage,a=t.search,i=t.sortColumn,l=t.sortDirection;sessionStorage.setItem(e,JSON.stringify({filters:n,page:r,perPage:o,search:a,sortColumn:i,sortDirection:l}))}}}],r&&function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),u}(r.Component),t.defaultProps={filters:{},searchable:!0},t},F=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),_=function _(e){var t=(0,r.useRef)();return o().createElement(l.Button.Group,{basic:e.basic,className:"dropdown-button",color:e.color},o().createElement(l.Button,{"aria-label":"Select",content:e.text,disabled:e.disabled,icon:e.icon,onClick:function onClick(e){return t.current&&t.current.handleClick(e)}}),o().createElement(l.Dropdown,{"aria-label":"Select",className:"button icon",direction:e.direction,disabled:e.disabled,floating:!0,onChange:e.onChange.bind(void 0),options:e.options,ref:t,scrolling:e.scrolling,selectOnBlur:e.selectOnBlur,trigger:o().createElement(o().Fragment,null),value:e.value}))};_.defaultProps={color:void 0,icon:void 0,selectOnBlur:!1};var U=_;function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=(0,y.useEditContainer)((function(e){var t,a=e.component,i=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return H(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1],u=!(!e.errors||!e.errors.length);return o().createElement(a,e,e.showLoading&&e.loading&&o().createElement(l.Dimmer,{active:e.loading,inverted:!0},o().createElement(l.Loader,{content:S.t("Common.messages.loading")})),c&&u&&o().createElement(j,{onDismiss:function onDismiss(){return s(!1)},timeout:0,type:j.MessageTypes.negative},o().createElement(l.Message.Header,{content:S.t("Common.messages.error.header")}),o().createElement(l.Message.List,{items:e.errors})),o().createElement(l.Modal.Actions,{className:"edit-modal-actions"},o().createElement(l.Button,{disabled:e.saving,onClick:function onClick(){return s(!0),e.onSave()},primary:!0,size:"medium",type:"submit"},S.t("Common.buttons.save"),e.saving&&o().createElement(l.Loader,{active:!0,className:"saving",inline:!0,size:"tiny"})),o().createElement(l.Button,{basic:!0,disabled:e.saving,onClick:e.onClose.bind(void 0),size:"medium",type:"button"},S.t("Common.buttons.cancel"))))}));G.defaultProps={showLoading:!0};var q=G;function V(e){return V="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},V(e)}function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(r);if(a){var n=Y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function W(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={items:[],loading:!1,modalAdd:!1,modalEdit:!1,options:[],saved:!1,searchQuery:e.searchQuery||"",value:e.value||""},t.timeout=null,t}return t=s,(n=[{key:"componentDidUpdate",value:function value(e){if(e.value!==this.props.value){var t=this.props,n=t.searchQuery,r=t.value;this.setState({searchQuery:n,value:r})}}},{key:"clearSearchTimer",value:function value(){clearTimeout(this.timeout)}},{key:"onBlur",value:function value(){var e=this;this.setState((function(t){var n="";return t.value&&(n=e.props.searchQuery),{searchQuery:n}}))}},{key:"onClear",value:function value(){var e=this;this.setState({searchQuery:"",value:""},(function(){e.props.onSelection(e.state.value)}))}},{key:"onOpen",value:function value(){this.setState({searchQuery:""},this.onSearch.bind(this))}},{key:"onOptionSelection",value:function value(e,t){var n=this,r=t.value;this.setState((function(e){var t=i().findWhere(e.options,{value:r})||{};n.setState({searchQuery:t.text,value:t.value})}));var o=i().findWhere(this.state.items,{id:r});this.props.onSelection(o)}},{key:"onSearch",value:function value(){this.setState({loading:!0},this.search.bind(this))}},{key:"onSearchChange",value:function value(e,t){var n=t.searchQuery;this.setState({searchQuery:n})}},{key:"search",value:function value(){var e=this;this.props.onSearch(this.state.searchQuery).then((function(t){var n=t.data[e.props.collectionName],r=n.map(e.props.renderOption.bind(e));e.setState({items:n,options:r,loading:!1})}))}},{key:"render",value:function value(){var e=this;return o().createElement("div",{className:"association-dropdown"},o().createElement("div",{className:"dropdown-container"},o().createElement(l.Dropdown,{className:"inline-dropdown ".concat(this.props.className||""),disabled:this.state.loading,loading:this.state.loading,onBlur:this.onBlur.bind(this),onChange:this.onOptionSelection.bind(this),onOpen:this.onOpen.bind(this),onSearchChange:this.onSearchChange.bind(this),options:this.state.options,placeholder:this.props.placeholder,search:function search(){return e.state.options},searchInput:{"aria-label":this.props.collectionName,className:"dropdown-search-input",onKeyDown:y.Timer.clearSearchTimer.bind(this),onKeyUp:y.Timer.setSearchTimer.bind(this,this.onSearch.bind(this))},searchQuery:this.state.searchQuery,selectOnBlur:!1,selection:!0,upward:this.props.upward,value:this.state.value})),o().createElement(l.Button.Group,{className:"buttons"},this.renderEditButton(),this.renderAddButton(),this.renderClearButton()),this.renderModal(),this.state.saved&&o().createElement(j,{onDismiss:function onDismiss(){return e.setState({saved:!1})},type:j.MessageTypes.positive},o().createElement(l.Message.Header,{content:S.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:S.t("Common.messages.save.content")})))}},{key:"renderAddButton",value:function value(){var e=this;return this.props.modal?o().createElement(l.Button,{basic:!0,content:S.t("Common.buttons.add"),icon:"plus",onClick:function onClick(){return e.setState({modalAdd:!0})},type:"button"}):null}},{key:"renderClearButton",value:function value(){return this.props.required?null:o().createElement(l.Button,{basic:!0,content:S.t("Common.buttons.clear"),icon:"times",onClick:this.onClear.bind(this),type:"button"})}},{key:"renderEditButton",value:function value(){var e=this;return this.props.modal&&this.props.modal.props&&this.props.modal.props.onInitialize&&this.state.value?o().createElement(l.Button,{basic:!0,content:S.t("Common.buttons.edit"),icon:"pencil",onClick:function onClick(){return e.setState({modalEdit:!0})},type:"button"}):null}},{key:"renderModal",value:function value(){var e=this;if(!this.state.modalAdd&&!this.state.modalEdit||!this.props.modal)return null;var t,n=this.props.modal,r=n.component,a=n.props,i=n.onSave;return this.state.modalEdit&&(t={id:this.state.value}),o().createElement(q,$({component:r,item:t,onClose:function onClose(){return e.setState({modalAdd:!1,modalEdit:!1})},onSave:function onSave(t){return i(t).then((function(t){e.props.onSelection(t),e.setState({modalAdd:!1,modalEdit:!1,saved:!0})}))}},a))}},{key:"setSearchTimer",value:function value(){clearTimeout(this.timeout),this.timeout=setTimeout(this.onSearch.bind(this),500)}}])&&function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);X.defaultProps={className:"",modal:null,placeholder:null,required:!1,upward:!1};var J=X,Z=function Z(e){var t;return o().createElement(l.Input,{"aria-label":"Date Input",className:"date-input icon",icon:"calendar alternate outline",iconPosition:"left"},o().createElement(l.Icon,{className:"left icon",name:"calendar alternate outline"}),o().createElement("input",{onClick:e.onClick.bind(void 0),readOnly:!0,type:"text",value:(t="",e.display?t=e.display:e.value&&(t=e.value.toLocaleDateString(e.locale,e.formatOptions)),t)}),o().createElement(l.Icon,{className:"right icon",name:"times",onClick:function onClick(t){t.stopPropagation(),t.preventDefault(),e.onChange(null)}}))},ee=o().createContext();function te(e){return te="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},te(e)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ce(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ce(r);if(a){var n=ce(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function le(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state=re(re({},t.getInitialState()),{},{calendar:new y.Calendar(e.locale,e.calendar)}),t}return t=s,(n=[{key:"componentDidMount",value:function value(){this.initializeDate()}},{key:"componentDidUpdate",value:function value(e){this.props.locale===e.locale&&this.props.calendar===e.calendar||this.setState({calendar:new y.Calendar(this.props.locale,this.props.calendar)}),!this.props.date||this.props.date.startDate===e.date.startDate&&this.props.date.endDate===e.date.endDate||this.initializeDate()}},{key:"getDisplayDate",value:function value(e){var t=this.state.calendar.convertToDate(e);return this.state.calendar.format(t,this.state.accuracy)}},{key:"getInitialState",value:function value(){return{accuracy:0,description:"",display:"",endDate:{},modal:!1,range:!1,startDate:{}}}},{key:"initializeDate",value:function value(){if(this.props.date){var e=this.props.date,t=e.accuracy,n=void 0===t?0:t,r=e.description,o=void 0===r?"":r,a=e.range,i=void 0!==a&&a,l={},c={};this.props.date.startDate&&(l=this.state.calendar.parseDate(this.props.date.startDate)),this.props.date.endDate&&(c=this.state.calendar.parseDate(this.props.date.endDate)),this.setState({accuracy:n,description:o,range:i,startDate:l,endDate:c},this.setDisplay.bind(this))}else this.onAccuracyChange(null,{value:0})}},{key:"onAccuracyChange",value:function value(e,t){var n=t.value,r=n;this.setState((function(e){var t=re({},e.endDate),o=re({},e.startDate);return 1===r?(t=re(re({},t),{},{date:e.calendar.getDefaultDate()}),o=re(re({},o),{},{date:e.calendar.getDefaultDate()})):0===n&&(t=re(re({},t),{},{date:e.calendar.getDefaultDate(),month:e.calendar.getDefaultMonth()}),o=re(re({},o),{},{date:e.calendar.getDefaultDate(),month:e.calendar.getDefaultMonth()})),{accuracy:r,endDate:t,startDate:o}}),this.setEndDate.bind(this))}},{key:"onClear",value:function value(){this.setState(this.getInitialState(),this.onSave.bind(this))}},{key:"onClose",value:function value(){this.setState({modal:!1},this.initializeDate.bind(this))}},{key:"onDateChange",value:function value(e,t,n){var r=n.value;this.setState((function(t){return oe({},e,re(re({},t[e]),{},{date:r}))}),this.setEndDate.bind(this))}},{key:"onDescriptionChange",value:function value(e,t){var n=t.value;this.setState({description:n})}},{key:"onEdit",value:function value(){this.setState({modal:!0})}},{key:"onMonthChange",value:function value(e,t,n){var r=n.value;this.setState((function(t){return oe({},e,re(re({},t[e]),{},{month:r}))}),this.setEndDate.bind(this))}},{key:"onRangeChange",value:function value(){this.setState((function(e){return{range:!e.range}}),this.setEndDate.bind(this))}},{key:"onSave",value:function value(){var e,t;this.setDisplay(),i().isEmpty(this.state.startDate)||(e=this.state.calendar.convertToDate(this.state.startDate).toDate()),i().isEmpty(this.state.endDate)||(t=this.state.calendar.convertToDate(this.state.endDate).toDate());var n=this.state,r=n.accuracy,o=n.description,a=n.range;this.props.onChange({accuracy:r,description:o,range:a,startDate:e,endDate:t}),this.setState({modal:!1})}},{key:"onYearChange",value:function value(e,t,n){var r=n.value;r&&r.length>6||this.setState((function(t){return oe({},e,re(re({},t[e]),{},{year:parseInt(r,10)}))}),this.setEndDate.bind(this))}},{key:"render",value:function value(){var e=this;return o().createElement(o().Fragment,null,o().createElement(Z,{display:this.state.display,onClick:this.onEdit.bind(this),onChange:this.onClear.bind(this)}),o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{as:l.Form,className:"fuzzy-date-modal",mountNode:t,open:e.state.modal,onClose:e.onClose.bind(e)},o().createElement(l.Modal.Header,{content:e.props.title||S.t("FuzzyDate.title")}),o().createElement(l.Modal.Content,null,o().createElement(l.Form.Input,{className:"accuracy-container",label:S.t("FuzzyDate.labels.accuracy")},o().createElement(l.Checkbox,{checked:0===e.state.accuracy,id:"accuracy-year",label:S.t("FuzzyDate.accuracy.year"),name:"accuracy",onChange:e.onAccuracyChange.bind(e),radio:!0,value:0}),o().createElement(l.Checkbox,{checked:1===e.state.accuracy,id:"accuracy-month",label:S.t("FuzzyDate.accuracy.month"),name:"accuracy",onChange:e.onAccuracyChange.bind(e),radio:!0,value:1}),o().createElement(l.Checkbox,{checked:2===e.state.accuracy,id:"accuracy-date",label:S.t("FuzzyDate.accuracy.date"),name:"accuracy",onChange:e.onAccuracyChange.bind(e),radio:!0,value:2})),o().createElement(l.Form.Group,null,e.renderYear("startDate"),e.renderMonth("startDate"),e.renderDate("startDate"),!e.state.range&&o().createElement("div",{className:"button-container"},o().createElement(l.Button,{basic:!0,content:S.t("FuzzyDate.buttons.addRange"),icon:"plus",onClick:e.onRangeChange.bind(e)}))),e.state.range&&o().createElement(l.Form.Group,null,e.renderYear("endDate"),e.renderMonth("endDate"),e.renderDate("endDate"),o().createElement("div",{className:"button-container"},o().createElement(l.Button,{basic:!0,content:S.t("FuzzyDate.buttons.removeRange"),icon:"times",onClick:e.onRangeChange.bind(e)}))),e.props.description&&o().createElement(l.Form.Input,{id:"description",label:S.t("FuzzyDate.labels.description")},o().createElement(l.TextArea,{id:"description",onChange:e.onDescriptionChange.bind(e),value:e.state.description}))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.onSave.bind(e),primary:!0,size:"medium",type:"submit"},S.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.onClose.bind(e),size:"medium",type:"button"},S.t("Common.buttons.cancel"))))})))}},{key:"renderDate",value:function value(e){if(2!==this.state.accuracy)return null;var t=this.state[e],n=this.state.calendar.daysInMonth(t.year,t.month);return o().createElement(l.Form.Input,{id:"date-dropdown",label:S.t("FuzzyDate.labels.date")},o().createElement(l.Dropdown,{id:"date-dropdown",onChange:this.onDateChange.bind(this,e),options:i().range(1,n+1).map((function(e){return{key:e,value:e,text:e}})),selection:!0,value:t.date||this.state.calendar.getDefaultDate()}))}},{key:"renderMonth",value:function value(e){return 2!==this.state.accuracy&&1!==this.state.accuracy?null:o().createElement(l.Form.Input,{id:"month-dropdown",label:S.t("FuzzyDate.labels.month")},o().createElement(l.Dropdown,{id:"month-dropdown",onChange:this.onMonthChange.bind(this,e),options:i().map(this.state.calendar.listMonths(),(function(e,t){return{key:t,value:t,text:e}})),selection:!0,value:this.state[e].month||this.state.calendar.getDefaultMonth()}))}},{key:"renderYear",value:function value(e){return o().createElement(l.Form.Input,{id:"year",label:S.t("FuzzyDate.labels.year")},o().createElement(l.Input,{id:"year",onChange:this.onYearChange.bind(this,e),type:"number",value:this.state[e].year||""}))}},{key:"setDisplay",value:function value(){var e=[];this.state.startDate&&!i().isEmpty(this.state.startDate)&&e.push(this.getDisplayDate(this.state.startDate)),this.state.range&&this.state.endDate&&!i().isEmpty(this.state.endDate)&&(e.push(" - "),e.push(this.getDisplayDate(this.state.endDate))),this.setState({display:e.join(" ")})}},{key:"setEndDate",value:function value(){this.state.range||!this.state.startDate||i().isEmpty(this.state.startDate)||this.setState((function(e){var t=e.calendar.convertToDate(e.startDate);return 0===e.accuracy?t=e.calendar.addYear(t,1):1===e.accuracy?t=e.calendar.addMonth(t,1):2===e.accuracy&&(t=e.calendar.addDate(t,1)),{endDate:e.calendar.parseDate(t)}}))}}])&&function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);se.defaultProps={calendar:y.Calendar.Calendars.gregorian,description:!0,locale:y.Browser.isBrowser()&&navigator.language,title:void 0};var fe,ue=se;function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he={boolean:"boolean",date:"date",integer:"integer",relationship:"relationship",select:"select",string:"string",text:"text"},ye={equal:"equal",notEqual:"not_equal",contain:"contain",notContain:"not_contain",empty:"empty",notEmpty:"not_empty",greaterThan:"greater_than",lessThan:"less_than"},be=[{key:ye.equal,value:ye.equal,text:S.t("ListFilters.operators.equal")},{key:ye.notEqual,value:ye.notEqual,text:S.t("ListFilters.operators.notEqual")},{key:ye.contain,value:ye.contain,text:S.t("ListFilters.operators.contain")},{key:ye.notContain,value:ye.notContain,text:S.t("ListFilters.operators.notContain")},{key:ye.empty,value:ye.empty,text:S.t("ListFilters.operators.empty")},{key:ye.notEmpty,value:ye.notEmpty,text:S.t("ListFilters.operators.notEmpty")},{key:ye.greaterThan,value:ye.greaterThan,text:S.t("ListFilters.operators.greaterThan")},{key:ye.lessThan,value:ye.lessThan,text:S.t("ListFilters.operators.lessThan")}],ve=(me(fe={},he.boolean,[ye.equal]),me(fe,he.date,[ye.equal]),me(fe,he.relationship,[ye.equal,ye.notEqual,ye.empty,ye.notEmpty]),me(fe,he.select,[ye.equal,ye.notEqual,ye.empty,ye.notEmpty]),me(fe,he.string,[ye.equal,ye.notEqual,ye.contain,ye.notContain,ye.empty,ye.notEmpty]),me(fe,he.text,[ye.contain,ye.notContain,ye.empty,ye.notEmpty]),fe),ge=function ge(e){var t=(0,r.useCallback)((function(e){var t=ve[e];return i().filter(be,(function(e){return!t||i().contains(t,e.key)}))}),[]),n=function n(e){return e.label},a=(0,r.useCallback)((function(t){if(t.operator===ye.empty||t.operator===ye.notEmpty)return null;if(t.type===he.boolean)return o().createElement(l.Checkbox,{onChange:function onChange(){return e.onSaveChildAssociation("filters",de(de({},t),{},{value:!t.value}))},checked:t.value});if(t.type===he.string||t.type===he.text||t.type===he.integer)return o().createElement(l.Input,{onChange:function onChange(n,r){var o=r.value;return e.onSaveChildAssociation("filters",de(de({},t),{},{value:o}))},value:t.value});if(t.type===he.date)return o().createElement(ue,{date:t.value||{},description:!1,onChange:function onChange(n){e.onSaveChildAssociation("filters",de(de({},t),{},{value:n}))},title:t.label});if(t.type===he.select)return o().createElement(l.Dropdown,{onChange:function onChange(n,r){var o=r.value;return e.onSaveChildAssociation("filters",de(de({},t),{},{value:o}))},options:t.options,selectOnBlur:!1,selection:!0,value:t.value});if(t.type===he.relationship){var n=t.collectionName,r=t.onSearch,a=t.renderOption,i=t.renderSearchQuery,c=t.searchQuery,s=t.value;return n&&r&&a?o().createElement(J,{collectionName:n,onSearch:r,onSelection:function onSelection(n){e.onSaveChildAssociation("filters",de(de({},t),{},{searchQuery:i&&i(n),value:n.id}))},renderOption:a,required:!0,searchQuery:c||"",value:s||null}):null}return null}),[e.item.filters,e.onSaveChildAssociation]),c=(0,r.useMemo)((function(){return i().sortBy(e.filters,e.item.onSort||n)}),[e.filters,e.item.onSort]);return(0,r.useEffect)((function(){i().each(e.item.filters,(function(t){var n=i().findWhere(e.filters,{key:t.key});t.type===he.boolean&&(n.value=!1),e.onSaveChildAssociation("filters",i().defaults(t,n))}))}),[]),o().createElement(ee.Consumer,null,(function(n){return o().createElement(l.Modal,{as:l.Form,centered:!1,className:"list-filters-modal",mountNode:n,noValidate:!0,open:!0,size:"small"},o().createElement(l.Modal.Header,null,o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,{verticalAlign:"middle"},o().createElement(l.Header,{content:S.t("ListFilters.title")})),o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(U,{color:"green",icon:"plus",options:i().map(c,(function(e){return{key:e.key,value:e.key,text:e.label}})),onChange:function onChange(t,n){var r=n.value,o=i().findWhere(e.filters,{key:r});e.onSaveChildAssociation("filters",e.onCreateFilter(de(de({},o),{},{operator:ye.equal})))},scrolling:!0,text:S.t("ListFilters.buttons.add"),value:""}),o().createElement(l.Button,{color:"red",content:S.t("ListFilters.buttons.reset"),icon:"repeat",onClick:function onClick(){return e.onReset()},style:{marginLeft:"1em"}})))),o().createElement(l.Modal.Content,null,!i().isEmpty(e.item.filters)&&o().createElement(l.Grid,null,i().map(e.item.filters,(function(n){return o().createElement(l.Grid.Row,{columns:4,key:n.key,verticalAlign:"middle"},o().createElement(l.Grid.Column,null,o().createElement(l.Header,{content:n.label})),o().createElement(l.Grid.Column,{width:5},o().createElement(l.Dropdown,{options:t(n.type),onChange:function onChange(t,r){var o=r.value;return e.onSaveChildAssociation("filters",de(de({},i().omit(n,"value")),{},{operator:o}))},selection:!0,value:n.operator})),o().createElement(l.Grid.Column,{width:5},a(n)),o().createElement(l.Grid.Column,{width:1},o().createElement(l.Button,{basic:!0,icon:"times",onClick:function onClick(){return e.onDeleteChildAssociation("filters",n)}})))})))),e.children)}))},Ee=function Ee(e){var t=(0,r.useCallback)((function(e){var t=[e.label],n=i().findWhere(be,{key:e.operator});return n&&t.push(n.text),e.value&&t.push('"'.concat(e.value,'"')),t.join(" ")}),[]);return o().createElement(l.Label.Group,{className:"filter-labels"},i().map(e.filters,(function(n){return o().createElement(l.Label,{basic:!0,content:t(n),onRemove:function onRemove(){return e.onClick(n)}})})),e.onClear&&o().createElement(l.Label,{as:l.Button,color:"red",content:S.t("FilterLabels.buttons.clear"),icon:"times",onClick:e.onClear}))};function we(e){return we="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},we(e)}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function Pe(e){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pe(e)}var Ie=function Ie(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(u,t);var n,r,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Pe(a);if(c){var n=Pe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function je(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={modalDelete:!1,modalDeleteAll:!1,modalEdit:!1,modalFilter:!1,selectedItem:null},t}return n=u,(r=[{key:"getButtons",value:function value(e){var t,n=[],r=this.props,o=r.addButton,a=void 0===o?{}:o,l=r.deleteButton,c=void 0===l?{}:l,s=r.modal,u=r.selectable;return a.location!==e||!a.onClick&&!s||u||n.push({render:this.renderAddButton.bind(this)}),c.location===e&&this.props.onDeleteAll&&!u&&n.push({render:this.renderDeleteAllButton.bind(this)}),n.push.apply(n,function(e){if(Array.isArray(e))return Se(e)}(t=i().filter(this.props.buttons,(function(t){var n=!1;return((t.location||"top")===e||!t.location&&a&&a.location===e)&&(n=!0),n})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n}},{key:"onAddButton",value:function value(){return this.props.addButton&&this.props.addButton.onClick?this.props.addButton.onClick():this.setState({modalEdit:!0})}},{key:"onCopyButton",value:function value(e){var t=this.props.onCopy?this.props.onCopy(e):i().omit(e,"id","uid");this.setState({selectedItem:t,modalEdit:!0})}},{key:"onDelete",value:function value(){var e=this.state.selectedItem;return this.setState({selectedItem:null,modalDelete:!1}),this.props.onDelete(e)}},{key:"onDeleteAll",value:function value(){return this.setState({modalDeleteAll:!1}),this.props.onDeleteAll&&this.props.onDeleteAll()}},{key:"onDeleteAllButton",value:function value(){this.setState({modalDeleteAll:!0})}},{key:"onDeleteButton",value:function value(e){this.setState({selectedItem:e,modalDelete:!0})}},{key:"onEditButton",value:function value(e){this.setState({selectedItem:e,modalEdit:!0})}},{key:"onFilterButton",value:function value(){this.setState({modalFilter:!0})}},{key:"onRemoveFilter",value:function value(e){var t=this.props.filters,n=t.onChange,r=t.props.item;return n({filters:i().filter(r.filters,(function(t){return t.uid!==e.uid}))})}},{key:"onSave",value:function value(e){var t=this;return this.props.onSave(e).then((function(){return t.setState({modalEdit:!1,selectedItem:null})}))}},{key:"onSaveFilter",value:function value(e){var t=this;return this.props.filters?this.props.filters.onChange(e).then((function(){return t.setState({modalFilter:!1})})):null}},{key:"render",value:function value(){return o().createElement("div",{className:"list ".concat(this.props.className)},this.renderHeader(),o().createElement(e,Oe({},this.props,{actions:this.getActions(),renderEmptyMessage:this.renderEmptyMessage.bind(this)})),this.renderFooter(),this.renderEditModal(),this.renderDeleteModal(),this.renderDeleteAllModal(),this.renderFilterModal())}},{key:"getActions",value:function value(){var e=this;return i().map(this.props.actions,(function(t){var n={};return"edit"===t.name?n={icon:"edit outline",onClick:e.onEditButton.bind(e)}:"copy"===t.name?n={icon:"copy outline",onClick:e.onCopyButton.bind(e)}:"delete"===t.name&&(n={icon:"times circle outline",onClick:e.onDeleteButton.bind(e)}),i().defaults(t,n)}))}},{key:"renderAddButton",value:function value(){return this.props.addButton?o().createElement(l.Button,{basic:!1!==this.props.addButton.basic,color:this.props.addButton.color,key:"add",inverted:this.props.addButton.inverted,onClick:this.onAddButton.bind(this),secondary:this.props.addButton.secondary},o().createElement(l.Icon,{name:"plus"}),this.props.addButton.content||S.t("List.buttons.add")):null}},{key:"renderButton",value:function value(e,t){return e.render?e.render(t):e.accept&&!e.accept()?null:o().createElement(l.Button,Oe({key:t},e))}},{key:"renderDeleteAllButton",value:function value(){return this.props.deleteButton?o().createElement(l.Button,{basic:!0,color:this.props.deleteButton.color,key:"delete-all",onClick:this.onDeleteAllButton.bind(this)},o().createElement(l.Icon,{name:"times"}),S.t("List.buttons.deleteAll")):null}},{key:"renderDeleteAllModal",value:function value(){var e=this;return this.state.modalDeleteAll?o().createElement(l.Confirm,{content:S.t("List.deleteAllContent"),header:o().createElement(l.Header,{icon:"trash alternate outline",content:S.t("List.deleteAllHeader")}),onCancel:function onCancel(){return e.setState({modalDeleteAll:!1})},onConfirm:this.onDeleteAll.bind(this),open:!0}):null}},{key:"renderDeleteModal",value:function value(){var e=this;if(!this.state.modalDelete)return null;var t=this.state.selectedItem,n=function n(){return e.setState({selectedItem:null,modalDelete:!1})},r=this.onDelete.bind(this);return this.props.renderDeleteModal?this.props.renderDeleteModal({selectedItem:t,onConfirm:r,onCancel:n}):o().createElement(l.Confirm,{content:S.t("List.deleteContent"),header:o().createElement(l.Header,{icon:"trash alternate outline",content:S.t("List.deleteHeader")}),onCancel:n,onConfirm:r,open:!0})}},{key:"renderEditModal",value:function value(){var e=this;if(!this.props.modal||!this.state.modalEdit)return null;var t=this.props.modal,n=t.component,r=t.props;return o().createElement(q,Oe({component:n,onClose:function onClose(){return e.setState({selectedItem:null,modalEdit:!1})},onSave:this.onSave.bind(this),item:this.state.selectedItem},r))}},{key:"renderEmptyMessage",value:function value(){var e=this.props,t=e.addButton,n=void 0===t?{}:t,r=e.modal;return n.onClick||r?o().createElement(F.Trans,{i18nKey:"List.emptyListAdd"},"You haven't added any yet. Click",o().createElement("div",{className:"empty-button"},this.renderAddButton()),"to get started."):S.t("List.emptyList")}},{key:"renderFilterButton",value:function value(){return this.props.filters&&this.props.filters.component?o().createElement(l.Button,{active:this.props.filters.active,"aria-label":"Filter",basic:!0,icon:"filter",onClick:this.onFilterButton.bind(this)}):null}},{key:"renderFilterModal",value:function value(){var e=this;if(!this.props.filters||!this.state.modalFilter)return null;var t=this.props.filters,n=t.component,r=t.props;return o().createElement(q,Oe({},r,{component:n,onClose:function onClose(){return e.setState({modalFilter:!1})},onSave:this.onSaveFilter.bind(this)}))}},{key:"renderFooter",value:function value(){var e=!1,t=this.getButtons("bottom");t&&t.length&&(e=!0);var n=this.props.pages&&this.props.pages>1;n&&(e=!0);var r=this.props.count&&this.props.showRecordCount;return r&&(e=!0),e?o().createElement("div",{className:"footer"},o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,{textAlign:"left"},r?this.renderRecordCount():"",i().map(t,(function(e){return e.render()}))),o().createElement(l.Grid.Column,{textAlign:"right"},n?this.renderPagination():""))):null}},{key:"renderHeader",value:function value(){var e=this,t=!1,n=this.getButtons("top");n&&n.length&&(t=!0);var r=this.props,a=r.filters,c=r.perPageOptions,s=r.renderListHeader,u=r.renderSearch;(a||c||s||u)&&(t=!0);var f=a&&a.showLabels&&!i().isEmpty(a.props.item.filters);return t?o().createElement("div",{className:"header"},o().createElement(l.Grid,{className:f?"filter-labels":void 0,verticalAlign:"top"},o().createElement(l.Grid.Row,{columns:2},o().createElement(l.Grid.Column,{textAlign:"left"},i().map(n,this.renderButton.bind(this))),o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(l.Menu,{compact:!0,borderless:!0,secondary:!0,className:"flex-end-menu"},s&&o().createElement(l.Menu.Menu,{className:"list-header-menu"},s()),o().createElement(l.Menu.Menu,null,a&&this.renderFilterButton()),c&&o().createElement(l.Menu.Menu,{className:"per-page-menu"},this.renderPerPage()),o().createElement(l.Menu.Menu,null,u&&u())))),f&&o().createElement(l.Grid.Row,{columns:1},o().createElement(l.Grid.Column,null,o().createElement(Ee,{filters:a.props.item.filters,onClear:function onClear(){return a.onChange({filters:[]})},onClick:function onClick(t){return e.onRemoveFilter(t)}}))))):null}},{key:"renderPagination",value:function value(){return o().createElement(l.Pagination,{activePage:this.props.page,firstItem:null,lastItem:null,onPageChange:this.props.onPageChange.bind(this),size:"mini",totalPages:this.props.pages})}},{key:"renderPerPage",value:function value(){var e=this.props.perPage;return o().createElement(U,{basic:!0,icon:"list",onChange:this.props.onPerPageChange.bind(this),options:i().map(this.props.perPageOptions,(function(e){return{key:e,value:e,text:e}})),text:S.t("List.labels.perPage",{perPage:e}),value:e})}},{key:"renderRecordCount",value:function value(){var e=this.props.count;return o().createElement("p",{className:"record-count"},"".concat(Number(e).toLocaleString()," ").concat(S.t("List.record",{count:e})))}}])&&function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),u}(r.Component),t.defaultProps={actions:[],addButton:{basic:!0,color:"green",location:"top"},buttons:[],className:"",filters:void 0,modal:void 0,page:1,pages:1,onColumnClick:function onColumnClick(){},onCopy:void 0,onPageChange:function onPageChange(){},renderDeleteModal:void 0,renderSearch:void 0,sortColumn:void 0,sortDirection:void 0},t};function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me=Ie((function(e){var t=(0,r.useCallback)((function(t){var n=i().filter(e.actions,(function(e){return!e.accept||e.accept(t)}));return i().isEmpty(n)?null:o().createElement(l.Button.Group,null,i().map(n,(function(e,n){return o().createElement(l.Button,{"aria-label":e.name,basic:!0,color:e.color,icon:e.icon,key:"".concat(e.name,"-").concat(n),onClick:e.onClick&&e.onClick.bind(void 0,t),title:e.title})})))}),[e.actions]),n=(0,r.useCallback)((function(t){return e.selectable?o().createElement(l.Checkbox,{key:"select-checkbox-".concat(t.id),className:"row-select-checkbox",onClick:function onClick(n,r){return e.onRowSelect(r,t,n)},checked:!!e.selectedRows.find((function(e){return e.id===t.id}))}):null}),[e.onRowSelect,e.selectable,e.selectedRows]);return o().createElement("div",{className:["accordion-data-list",e.className||""].join(" ")},o().createElement(h,{getChildItems:e.getChildItems,onItemToggle:function onItemToggle(t){return e.onItemToggle&&e.onItemToggle(t)},renderItem:function renderItem(t){return e.renderItem(t)},renderRight:function renderRight(e){return o().createElement(o().Fragment,null,t(e),n(e))},rootItems:e.rootItems,showToggle:function showToggle(t){return e.showToggle(t)}}))})),Re=z((function(e){var t=(0,r.useMemo)((function(){return e.getRootItems(e.items)}),[e.items]),n=(0,r.useCallback)((function(t){return e.getChildItems(e.items,t)}),[e.items]),a=(0,r.useRef)(),c=(0,r.useMemo)((function(){var t=i().find(e.sort,{value:e.sortColumn});return t&&t.text}),[e.sort,e.sortColumn]),s=(0,r.useCallback)((function(t){var n;e.onSort&&(t.value!==e.sortColumn&&(n=t.direction),e.onSort(t.value,n))}),[e.onSort,e.sortColumn]),u=(0,r.useCallback)((function(){return i().isEmpty(e.sort)?null:o().createElement(l.Button.Group,{basic:!0,style:{fontSize:"inherit"}},o().createElement(l.Button,{"aria-label":"Sort by",content:c,icon:e.sortDirection===L?"sort alphabet up":"sort alphabet down",onClick:function onClick(e){return a.current&&a.current.handleClick(e)}}),o().createElement(l.Dropdown,{"aria-label":"Sort by toggle",className:"button icon",floating:!0,options:i().map(e.sort,(function(e){return xe(xe({},e),{},{onClick:function onClick(){return s(e)}})})),ref:a,trigger:o().createElement(o().Fragment,null),value:e.sortColumn}))}),[e.sort,e.sortColumn,e.sortDirection]);return(0,r.useEffect)((function(){if(i().isEmpty(e.sort))return e.onInit();var t=e.page,n=e.sortColumn,r=void 0===n?"":n,o=e.sortDirection,a=void 0===o?L:o;if(!r){var l=i().first(e.sort);l&&(r=l.value,l.direction&&(a=l.direction))}return e.onSort(r,a,t)}),[]),o().createElement(Me,Ae({},e,{renderListHeader:u,rootItems:t,getChildItems:n}))}));function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Ne(e)}function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function Be(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ze(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e,t){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ge(e,t)}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ve(r);if(a){var n=Ve(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function qe(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={count:0,items:[],modalAdd:!1,modalDelete:!1,page:1,pages:1,saved:!1,searchQuery:"",selectedItem:null},t}return t=s,(n=[{key:"componentDidMount",value:function value(){this.onSearch()}},{key:"onAddButton",value:function value(e){var t=e;this.props.modal&&this.props.modal.onAddItem&&(t=this.props.modal.onAddItem(e)),this.setState({modalAdd:!0,selectedItem:t})}},{key:"onDelete",value:function value(){var e=this,t=this.state.selectedItem;return this.props.onDelete(t).then((function(){e.setState((function(e){return{modalDelete:!1,selectedItem:null,items:i().reject(e.items,(function(e){return e===t}))}}))}))}},{key:"onDeleteButton",value:function value(e){this.setState({modalDelete:!0,selectedItem:e})}},{key:"onEditButton",value:function value(e){this.setState({modalAdd:!0,selectedItem:e})}},{key:"onCopyButton",value:function value(e){var t,n=this;this.props.onCopy&&(t=this.props.onCopy(e),y.Object.isPromise(t)?t.then((function(e){n.setState({selectedItem:e,modalAdd:!0})})):(t=i().omit(e,"id","uid"),this.setState({selectedItem:t,modalAdd:!0})))}},{key:"onItemToggle",value:function value(e){var t=this;!e.loaded&&this.props.lazyLoad&&this.onSearch(e.id).then((function(){t.setState((function(t){return{items:i().map(t.items,(function(t){return t.id===e.id?_e(_e({},t),{},{loaded:!0}):t}))}}))}))}},{key:"onPageChange",value:function value(e,t){var n=this;this.setState({page:t.activePage},(function(){return n.onSearch()}))}},{key:"onSave",value:function value(e){var t=this;return this.props.onSave(e).then((function(n){t.setState((function(t){return{modalAdd:!1,selectedItem:!1,saved:!0,items:e.id?i().map(t.items,(function(e){return e.id===n.id?n:e})):[].concat(Be(t.items),[n])}}))}))}},{key:"onSearch",value:function value(e){var t=this;return this.props.lazyLoad?this.props.onSearch(e,this.state.searchQuery).then((function(n){var r=n.data[t.props.collectionName];t.setState((function(t){return e?{items:[].concat(Be(t.items||[]),Be(r))}:{items:r}}))})):this.props.onSearch(this.state.searchQuery,this.state.page).then((function(e){var n=e.data,r=n[t.props.collectionName];if(t.setState({items:r}),t.props.showRecordCount&&t.setState({count:n.list.count}),t.props.pagination){var o=n.list.pages;t.setState({pages:o})}}))}},{key:"onSearchChange",value:function value(e,t){var n=t.value;this.setState({searchQuery:n})}},{key:"render",value:function value(){var e=this;return o().createElement("div",{className:["accordion-list",this.props.className||""].join(" ")},o().createElement(l.Header,{className:"accordion-header"},o().createElement(l.Input,{"aria-label":"Search",autoFocus:!0,className:"search",icon:"search",onKeyDown:y.Timer.clearSearchTimer.bind(this),onKeyUp:y.Timer.setSearchTimer.bind(this,this.onSearch.bind(this)),onChange:this.onSearchChange.bind(this),size:"mini",type:"text",value:this.state.searchQuery}),this.renderHeaderAddButton(),this.props.buttons.map((function(e){return e.render()}))),this.renderSubHeader(),o().createElement(h,{getChildItems:this.props.getChildItems.bind(this,this.state.items),onItemToggle:this.onItemToggle.bind(this),renderItem:this.props.renderItem.bind(this),renderRight:this.renderRight.bind(this),rootItems:this.props.getRootItems(this.state.items),showToggle:this.props.showToggle.bind(this)}),this.renderFooter(),this.renderAddModal(),o().createElement(l.Confirm,{content:S.t("AccordionList.deleteContent"),header:S.t("AccordionList.deleteHeader"),open:this.state.modalDelete,onCancel:function onCancel(){return e.setState({modalDelete:!1,selectedItem:null})},onConfirm:this.onDelete.bind(this)}),this.state.saved&&o().createElement(j,{onDismiss:function onDismiss(){return e.setState({saved:!1})},type:j.MessageTypes.positive},o().createElement(l.Message.Header,{content:S.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:S.t("Common.messages.save.content")})))}},{key:"renderAddButton",value:function value(e){return this.props.canAddItem&&!this.props.canAddItem(e)?null:o().createElement(l.Button,{"aria-label":"Add",basic:!0,compact:!0,icon:"plus",onClick:this.onAddButton.bind(this,e)})}},{key:"renderSelectAll",value:function value(){var e=this;if(!this.props.selectable&&!this.props.onSelectAll)return null;var t=this.props.selectedRows.map((function(e){return e.id})),n=(this.state.items?this.state.items:[]).reduce((function(e,n){return t.includes(n.id)?e:[].concat(Be(e),[n])}),[]);return o().createElement(l.Checkbox,{"aria-label":"Select All",onClick:function onClick(t,r){return e.props.onSelectAll(r,n,e.state.items,t)},checked:!n.length})}},{key:"renderSubHeader",value:function value(){return o().createElement("div",{className:"sub-header"},this.renderSelectAll())}},{key:"renderAddModal",value:function value(){var e=this;if(!this.state.modalAdd||!this.props.modal)return null;var t=this.props.modal,n=t.component,r=t.props;return o().createElement(q,Le({component:n,item:this.state.selectedItem,onClose:function onClose(){return e.setState({modalAdd:!1,selectedItem:null})},onSave:this.onSave.bind(this)},r))}},{key:"renderDeleteButton",value:function value(e){return this.props.canDeleteItem&&!this.props.canDeleteItem(e)?null:o().createElement(l.Button,{"aria-label":"Delete",basic:!0,compact:!0,icon:"trash",onClick:this.onDeleteButton.bind(this,e)})}},{key:"renderEditButton",value:function value(e){return this.props.canEditItem&&!this.props.canEditItem(e)?null:o().createElement(l.Button,{"aria-label":"Edit",basic:!0,compact:!0,icon:"edit",onClick:this.onEditButton.bind(this,e)})}},{key:"renderCopyButton",value:function value(e){var t=this;return this.props.canCopyItem&&!this.props.canCopyItem(e)?null:o().createElement(l.Button,{"aria-label":"Copy",basic:!0,compact:!0,icon:"copy",onClick:function onClick(){return t.onCopyButton(e)}})}},{key:"renderHeaderAddButton",value:function value(){var e=this;return!this.props.modal||this.props.hideAddRootButton?null:o().createElement(l.Button,{basic:!0,className:"add-button",content:S.t("Common.buttons.add"),icon:"plus",onClick:function onClick(){return e.setState({modalAdd:!0})}})}},{key:"renderRecordCount",value:function value(){var e=this.state.count;return e?o().createElement("span",{className:"record-count"},"".concat(Number(e).toLocaleString()," ").concat(S.t("AccordionList.record",{count:e}))):null}},{key:"renderPagination",value:function value(){return this.props.pagination?o().createElement(l.Pagination,{activePage:this.state.page,onPageChange:this.onPageChange.bind(this),size:"mini",totalPages:this.state.pages}):null}},{key:"renderFooter",value:function value(){return this.props.pagination||this.props.showRecordCount?o().createElement("div",{className:"footer"},o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,{textAlign:"left"},this.renderRecordCount()),o().createElement(l.Grid.Column,{textAlign:"right"},this.renderPagination()))):null}},{key:"renderSelectCheckbox",value:function value(e){var t=this;if(!this.props.selectable)return null;var n=this.props.selectedRows.find((function(t){return t.id===e.id}));return o().createElement(l.Checkbox,{"aria-label":"Select",key:"select-checkbox-".concat(e.id),className:"row-select-checkbox",onClick:function onClick(n,r){return t.props.onRowSelect(r,e,n)},checked:!!n})}},{key:"renderRight",value:function value(e){return o().createElement(o().Fragment,null,o().createElement(l.Button.Group,null,this.renderAddButton(e),this.renderEditButton(e),this.renderCopyButton(e),this.renderDeleteButton(e)),this.renderSelectCheckbox(e))}}])&&function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);$e.defaultProps={buttons:[],canAddItem:function canAddItem(){return!0},canDeleteItem:function canDeleteItem(){return!0},canEditItem:function canEditItem(){return!0},canCopyItem:function canCopyItem(){return!1},className:"",lazyLoad:!0,modal:void 0,pagination:!1};var Ke=$e,Qe=function Qe(e){return e.items&&e.items.length?o().createElement(l.Segment,{className:"selectize-header",textAlign:"left"},i().map(e.items,(function(t,n){return o().createElement(l.Button,{className:"selected",content:e.renderItem(t),icon:e.isSelected(t)?"times circle outline":void 0,key:n,onClick:e.onItemClick.bind(void 0,t),primary:!0,size:"small"})}))):null};function We(e){return We="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},We(e)}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e){return function(e){if(Array.isArray(e))return tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=at(r);if(a){var n=at(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function ot(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={items:[],modalAdd:!1,saved:!1,searchQuery:"",selectedItem:null,selectedItems:e.selectedItems},t}return t=s,n=[{key:"componentDidUpdate",value:function value(e){this.props.open&&!e.open&&this.onSearch(),this.props.selectedItems!==e.selectedItems&&this.setState({selectedItems:this.props.selectedItems})}},{key:"isSelected",value:function value(e){return!!i().findWhere(this.state.selectedItems,{id:e.id})}},{key:"onItemClick",value:function value(e){var t=this;this.props.isSelectable&&!this.props.isSelectable(e)||this.setState((function(n){return{selectedItems:t.isSelected(e)?i().filter(n.selectedItems,(function(t){return t.id!==e.id})):t.props.multiple?[].concat(et(n.selectedItems),[e]):[e]}}))}},{key:"onItemSelection",value:function value(e){this.state.selectedItem===e?this.setState({selectedItem:null},this.onItemClick.bind(this,e)):this.setState({selectedItem:e})}},{key:"onItemToggle",value:function value(e){var t=this;e.loaded||this.onSearch(e.id).then((function(){t.setState((function(t){return{items:i().map(t.items,(function(t){return t.id===e.id?Je(Je({},t),{},{loaded:!0}):t}))}}))}))}},{key:"onSearch",value:function value(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.props.onSearch(t,this.state.searchQuery).then((function(n){var r=n.data[e.props.collectionName];e.setState((function(e){return t?{items:[].concat(et(e.items||[]),et(r))}:{items:r}}))}))}},{key:"onSearchChange",value:function value(e,t){var n=t.value;this.setState({searchQuery:n})}},{key:"render",value:function value(){var e=this;return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{className:"accordion-selector",mountNode:t,open:e.props.open,size:"small"},o().createElement(l.Modal.Header,null,o().createElement(l.Grid,{columns:2,verticalAlign:"middle"},o().createElement(l.Grid.Column,{textAlign:"left",width:7},o().createElement(l.Header,{content:e.props.title?e.props.title:S.t("AccordionSelector.title")})),o().createElement(l.Grid.Column,{textAlign:"right",width:9},o().createElement(l.Input,{"aria-label":"Search",autoFocus:!0,icon:"search",onKeyDown:y.Timer.clearSearchTimer.bind(e),onKeyUp:y.Timer.setSearchTimer.bind(e,e.onSearch.bind(e)),onChange:e.onSearchChange.bind(e),size:"mini",type:"text",value:e.state.searchQuery}),e.renderAddButton()))),o().createElement(l.Modal.Content,null,o().createElement(Qe,{isSelected:function isSelected(t){return e.state.selectedItem===t},items:e.state.selectedItems,onItemClick:e.onItemSelection.bind(e),renderItem:e.props.renderItem.bind(e)}),o().createElement(h,{getChildItems:e.props.getChildItems.bind(e,e.state.items),onItemClick:e.onItemClick.bind(e),onItemToggle:e.onItemToggle.bind(e),renderItem:e.props.renderItem.bind(e),renderRight:e.renderRight.bind(e),rootItems:e.props.getRootItems(e.state.items),showToggle:e.props.showToggle.bind(e)}),e.renderAddModal(),e.state.saved&&o().createElement(j,{onDismiss:function onDismiss(){return e.setState({saved:!1})},type:j.MessageTypes.positive},o().createElement(l.Message.Header,{content:S.t("Common.messages.save.header")}),o().createElement(l.Message.Content,{content:S.t("Common.messages.save.content")}))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.props.onSave.bind(e,e.state.selectedItems),primary:!0,size:"medium",type:"submit"},S.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.props.onClose.bind(e),size:"medium",type:"button"},S.t("Common.buttons.cancel"))))}))}},{key:"renderAddButton",value:function value(){var e=this;return this.props.modal?o().createElement(l.Button,{basic:!0,className:"add-button",content:S.t("Common.buttons.add"),icon:"plus",onClick:function onClick(){return e.setState({modalAdd:!0})}}):null}},{key:"renderAddModal",value:function value(){var e=this;if(!this.state.modalAdd||!this.props.modal)return null;var t=this.props.modal,n=t.component,r=t.props,a=t.onSave;return o().createElement(q,Ye({component:n,onClose:function onClose(){return e.setState({modalAdd:!1,selectedItem:null})},onSave:function onSave(t){return a(t).then((function(t){return e.setState({modalAdd:!1,saved:!0,searchQuery:"",selectedItems:[t]},e.onSearch.bind(e))}))}},r))}},{key:"renderRight",value:function value(e){return this.isSelected(e)?o().createElement(l.Icon,{color:"green",name:"check"}):null}}],n&&function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);it.defaultProps={isSelectable:void 0,modal:void 0,multiple:!1,open:!1,selectedItems:[],title:void 0};var lt=(0,F.withTranslation)()(it),st=function st(e){return o().createElement(l.Button.Group,{className:"arrow-buttons",vertical:!0},o().createElement(l.Button,{"aria-label":"Move Right",basic:!0,icon:"arrow right",onClick:e.onRight.bind(undefined)}),o().createElement(l.Button,{"aria-label":"Move Left",basic:!0,icon:"arrow left",onClick:e.onLeft.bind(undefined)}))};function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ft=function ft(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return ut(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:e.centered,className:"audio-player",mountNode:t,open:e.open},o().createElement(l.Modal.Content,null,i&&o().createElement(l.Message,{content:S.t("AudioPlayer.errors.path.content",{path:e.src}),header:S.t("AudioPlayer.errors.path.header"),icon:"exclamation circle"}),o().createElement("audio",{controls:!0,onError:function onError(){return c(!0)},src:e.src})),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:S.t("Common.buttons.close"),onClick:e.onClose})))}))},pt=__webpack_require__("../../node_modules/zotero-api-client/lib/main.cjs"),dt=n.n(pt),mt=JSON.parse('{"artwork":{"medium":"artworkMedium"},"audioRecording":{"medium":"audioRecordingFormat","publisher":"label"},"bill":{"number":"billNumber","volume":"codeVolume","pages":"codePages"},"blogPost":{"publicationTitle":"blogTitle","type":"websiteType"},"bookSection":{"publicationTitle":"bookTitle"},"case":{"title":"caseName","date":"dateDecided","number":"docketNumber","volume":"reporterVolume","pages":"firstPage"},"computerProgram":{"publisher":"company"},"conferencePaper":{"publicationTitle":"proceedingsTitle"},"dictionaryEntry":{"publicationTitle":"dictionaryTitle"},"email":{"title":"subject"},"encyclopediaArticle":{"publicationTitle":"encyclopediaTitle"},"film":{"publisher":"distributor","type":"genre","medium":"videoRecordingFormat"},"forumPost":{"publicationTitle":"forumTitle","type":"postType"},"hearing":{"number":"documentNumber"},"interview":{"medium":"interviewMedium"},"letter":{"type":"letterType"},"manuscript":{"type":"manuscriptType"},"map":{"type":"mapType"},"patent":{"number":"patentNumber","date":"issueDate"},"podcast":{"number":"episodeNumber","medium":"audioFileType"},"preprint":{"type":"genre","publisher":"repository","number":"archiveID"},"presentation":{"type":"presentationType"},"radioBroadcast":{"publicationTitle":"programTitle","number":"episodeNumber","medium":"audioRecordingFormat","publisher":"network"},"report":{"number":"reportNumber","type":"reportType","publisher":"institution"},"statute":{"title":"nameOfAct","number":"publicLawNumber","date":"dateEnacted"},"thesis":{"type":"thesisType","publisher":"university"},"tvBroadcast":{"publicationTitle":"programTitle","number":"episodeNumber","medium":"videoRecordingFormat","publisher":"network"},"videoRecording":{"medium":"videoRecordingFormat","publisher":"studio"},"webpage":{"publicationTitle":"websiteTitle","type":"websiteType"}}');function ht(e){return ht="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},ht(e)}function yt(){yt=function yt(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function l(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function f(){}function p(){}function d(){}var m={};l(m,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(C([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=d.prototype=f.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==ht(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(g.prototype),l(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(c(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),u}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||gt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function gt(e,t){if(e){if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(e,t):void 0}}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt=["mimeType","linkMode","charset","md5","mtime","version","key","collections","relations","parentItem","contentType","filename","tags","creator","abstractNote","notes","rights","extra"],Ot=["modified","filename","dateAdded","dateModified"],St=function St(e){var t={},n=!1;try{t=JSON.parse(localStorage.getItem("zotero-bib-api-cache"))||{}}catch(e){}return e in t&&(n=Date.now()-t[e]<864e5),n||(t[e]=Date.now(),localStorage.setItem("zotero-bib-api-cache",JSON.stringify(t))),n},Ct=function(){var e,t=(e=yt().mark((function e(t){var n,r,o,a,i,l,c,s,u,f=arguments;return yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(f.length>1&&void 0!==f[1])||f[1],e.prev=1,e.next=4,Promise.all([dt()().itemTypes().get({cache:St("itemTypes")?"force-cache":"default"}),dt()().itemTypeFields(t).get({cache:St("itemTypeFields-".concat(t))?"force-cache":"default"}),dt()().itemTypeCreatorTypes(t).get({cache:St("itemTypeCreatorTypes-".concat(t))?"force-cache":"default"})]);case 4:i=e.sent,l=bt(i,3),c=l[0],s=l[1],u=l[2],r=c.getData(),o=s.getData(),a=u.getData(),e.next=20;break;case 14:if(e.prev=14,e.t0=e.catch(1),localStorage.removeItem("zotero-bib-api-cache"),!n){e.next=19;break}return e.abrupt("return",Ct(t,!1));case 19:throw e.t0;case 20:return e.abrupt("return",{itemTypes:r,itemTypeFields:o,itemTypeCreatorTypes:a});case 21:case"end":return e.stop()}}),e,null,[[1,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){vt(a,r,o,i,l,"next",e)}function l(e){vt(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),kt={getFieldsAndItem:function getFieldsAndItem(e,t,n){var r;if(!e||!t||!n)return{item:e,fields:[]};var o,a=e.itemType in mt&&(null===(r=mt[e.itemType])||void 0===r?void 0:r.title)||"title",l=[{field:"itemType",localized:"Item Type"},t.find((function(e){return e.field===a})),{field:"creators",localized:"Creators"}].concat((o=t.filter((function(e){return e.field!==a})),function(e){if(Array.isArray(e))return Et(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||gt(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).filter((function(e){return e&&!wt.includes(e.field)})).concat([t.find((function(e){return"abstractNote"===e.field})),t.find((function(e){return"extra"===e.field}))]);if(["book","bookSection"].includes(e.itemType)){var c=l.findIndex((function(e){return"date"===e.field}));l.splice(c+1,0,{field:"original-date",localized:"Original Date"});var s="extra"in e&&e.extra.match(/^original-date:\s*(.*?)$/);s&&i().extend(e,{"original-date":s[1],extra:e.extra.replace(/^original-date:\s*.*?$/,"")})}if(["webpage"].includes(e.itemType)){var u=l.findIndex((function(e){return"websiteType"===e.field}));l.splice(u+1,0,{field:"publisher",localized:"Publisher"});var f="extra"in e&&e.extra.match(/^publisher:\s*(.*?)$/i);f&&i().extend(e,{publisher:f[1],extra:e.extra.replace(/^publisher:\s*.*?$/,"")})}return l=l.map((function(t){return{options:"itemType"===t.field?n:null,key:t.field,label:t.localized,readonly:Ot.includes(t.field),processing:!1,value:t.field in e?e[t.field]:null}})),{item:e,fields:l}},getItemTypeMeta:Ct,isUrl:function isUrl(e){return!!e.match(/^(https?:\/\/)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b(\S*)$/i)}},jt=void 0;function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function xt(e){var t=(0,r.useCallback)((function(t,n,r){var o=r.value;return e.onUpdate(At(At({},e.creator||{}),{},Dt({},t,o)))}),[e.creator,e.onUpdate]),n=(0,r.useCallback)((function(t){return e.onUpdate(At(At({},e.creator||{}),t))}),[e.creator,e.onUpdate]),a=(0,r.useMemo)((function(){return o().createElement("label",null,o().createElement(l.Dropdown,{onChange:t.bind(jt,"creatorType"),options:i().map(e.creatorTypes,(function(e){return{key:e.value,value:e.value,text:e.label}})),value:e.creator.creatorType}))}),[e.creator.creatorType,e.creatorTypes]);return(0,r.useEffect)((function(){i().has(e.creator,"nameType")||n({nameType:1})}),[e.creator,n]),(0,r.useEffect)((function(){if(e.creator.name&&1===e.creator.nameType){var t=(2,function(e){if(Array.isArray(e))return e}(l=e.creator.name.split(" "))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(l)||function(e,t){if(e){if("string"==typeof e)return Pt(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,2):void 0}}(l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],o=t[1];n({name:null,firstName:r,lastName:o})}else if((e.creator.firstName||e.creator.lastName)&&0===e.creator.nameType){var a=i().compact([e.creator.firstName,e.creator.lastName]).join(" ");n({firstName:null,lastName:null,name:a})}var l}),[e.creator.nameType]),o().createElement(l.Form.Group,{className:"creator-field"},1===e.creator.nameType&&o().createElement(o().Fragment,null,o().createElement(l.Form.Input,{className:"flex",label:a,onChange:t.bind(jt,"firstName"),placeholder:S.t("CreatorField.labels.firstName"),value:e.creator.firstName}),o().createElement(l.Form.Input,{className:"flex",onChange:t.bind(jt,"lastName"),placeholder:S.t("CreatorField.labels.lastName"),value:e.creator.lastName}),o().createElement(l.Form.Button,{icon:"exchange",onClick:function onClick(){return n({nameType:0})}})),0===e.creator.nameType&&o().createElement(o().Fragment,null,o().createElement(l.Form.Input,{className:"flex",label:a,onChange:t.bind(jt,"name"),placeholder:S.t("CreatorField.labels.name"),value:e.creator.name}),o().createElement(l.Form.Button,{icon:"exchange",onClick:function onClick(){return n({nameType:1})}})),o().createElement(l.Form.Button,{icon:"plus",onClick:e.onAdd}),o().createElement(l.Form.Button,{disabled:!e.allowDelete,icon:"minus",onClick:e.onDelete}))};function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lt=function Lt(e){var t=(0,r.useMemo)((function(){return e.creatorTypes&&e.creatorTypes.length&&e.creatorTypes[0].value}),[e.creatorTypes]),n=(0,r.useCallback)((function(){return e.onChange([].concat(function(e){if(Array.isArray(e))return Nt(e)}(n=e.value||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{creatorType:t}]));var n}),[e.onChange,e.value]),a=(0,r.useCallback)((function(t){return e.onChange(i().filter(e.value,(function(e,n){return n!==t})))}),[e.onChange,e.value]),l=(0,r.useCallback)((function(t,n){return e.onChange(i().map(e.value,(function(e,r){return r===t?n:e})))}),[e.onChange,e.value]),c=(0,r.useCallback)((function(n){return i().findWhere(e.creatorTypes,{value:n.creatorType})?n:Mt(Mt({},n),{},{creatorType:t})}),[e.creatorTypes,t]);return(0,r.useEffect)((function(){n()}),[]),(0,r.useEffect)((function(){e.value&&e.value.length&&e.onChange(i().map(e.value,c))}),[c,e.creatorTypes]),i().map(e.value,(function(t,r){return o().createElement(xt,{allowDelete:e.value.length>1,creator:t,creatorTypes:e.creatorTypes,key:r,onAdd:function onAdd(){return n()},onDelete:function onDelete(){return a(r)},onUpdate:function onUpdate(e){return l(r,e)}})}))},Bt=void 0;function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t=function _t(e){var t=zt((0,r.useState)([]),2),n=t[0],a=t[1],c=zt((0,r.useState)([]),2),s=c[0],u=c[1],f=(0,r.useCallback)((function(t){return"itemType"===t.key?o().createElement(l.Form.Dropdown,{disabled:t.readonly,key:t.key,label:t.label,onChange:e.onTextInputChange.bind(Bt,t.key),options:i().map(t.options,(function(e){return{key:e.value,value:e.value,text:e.label}})),selectOnBlur:!1,selection:!0,value:e.item[t.key]||""}):"creators"===t.key?o().createElement(Lt,{creatorTypes:n,key:t.key,onChange:function onChange(n){return e.onSetState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.key,n))},value:e.item[t.key]||[]}):"abstractNote"===t.key||"extra"===t.key?o().createElement(l.Form.TextArea,{disabled:t.readonly,key:t.key,label:t.label,onChange:e.onTextInputChange.bind(Bt,t.key),value:e.item[t.key]||""}):o().createElement(l.Form.Input,{disabled:t.readonly,key:t.key,label:t.label,onChange:e.onTextInputChange.bind(Bt,t.key),value:e.item[t.key]||""})}),[n,e.item]);return(0,r.useEffect)((function(){kt.getItemTypeMeta(e.item.itemType).then((function(t){var n=i().map(t.itemTypes,(function(e){return{value:e.itemType,label:e.localized}})),r=i().map(t.itemTypeCreatorTypes,(function(e){return{value:e.creatorType,label:e.localized}}));a(r);var o=kt.getFieldsAndItem(e.item,t.itemTypeFields,n);u(o.fields)}))}),[e.item.itemType]),o().createElement(l.Modal,{as:l.Form,centered:!1,open:!0},o().createElement(l.Modal.Header,{content:S.t("BibliographyModal.title")}),o().createElement(l.Modal.Content,null,i().map(s,f)),e.children)},Ut=__webpack_require__("../../node_modules/zotero-translation-client/lib/main.cjs"),Ht=n.n(Ut),Gt=(0,r.createContext)();function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t=function $t(e){var t=qt((0,r.useState)(!1),2),n=t[0],a=t[1],i=qt((0,r.useState)(""),2),c=i[0],s=i[1],u=(0,r.useContext)(Gt).translateUrl,f=(0,r.useCallback)((function(t){t.response.ok?e.onFind(t.items):e.onError()}),[e.onFind]),p=(0,r.useCallback)((function(){a(!0);var e=new(Ht())({translateURL:u,persist:!1});kt.isUrl(c)?e.translateUrl(c,{add:!1}).then(f).finally((function(){return a(!1)})):e.translateIdentifier(c,{add:!1}).then(f).finally((function(){return a(!1)}))}),[c]);return o().createElement("div",{className:"bibliography-search-input"},o().createElement(l.Input,{autoFocus:!0,disabled:n,onChange:function onChange(e,t){var n=t.value;return s(n)},placeholder:S.t("BibliographySearchInput.labels.placeholder"),value:c}),o().createElement(l.Button,{className:"search-button",content:S.t("Common.buttons.search"),disabled:n,loading:n,onClick:p,primary:!0}))},Kt="ascending",Qt="descending";function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=function Jt(e){var t=(0,r.useRef)(),n=(0,r.useCallback)((function(t){var n=e.value===t.value&&e.direction===Kt?Qt:Kt;e.onChange(Yt(Yt({},t),{},{direction:n}))}),[e.direction,e.onChange,e.value]);return(0,r.useEffect)((function(){var t;e.value||(t=e.defaultValue?i().findWhere(e.options,{value:e.defaultValue}):i().first(e.options),n(t))}),[]),o().createElement(l.Button.Group,{basic:!0,className:"sort-selector",style:{fontSize:"inherit"}},o().createElement(l.Button,{"aria-label":"Sort by",content:e.text,icon:e.direction===Kt?"sort alphabet up":"sort alphabet down",onClick:function onClick(e){return t.current.handleClick(e)}}),o().createElement(l.Dropdown,{"aria-label":"Sort",className:"button icon",floating:!0,options:i().map(e.options,(function(e){return Yt(Yt({},e),{},{onClick:function onClick(){return n(e)}})})),ref:t,trigger:o().createElement(o().Fragment,null),value:e.value}))},Zt=function Zt(e){var t=(0,y.useCitationStyles)(e.value),n=t.onStyleChange,a=t.style,c=t.styles;return(0,r.useEffect)((function(){null!=a&&a.name&&null!=a&&a.xml&&e.onChange(a.name,a.xml)}),[a]),o().createElement(l.Dropdown,{onChange:function onChange(e,t){var r=t.value;return n(r)},options:i().map(c,(function(e){var t=e.name;return{key:t,value:t,text:e.title}})),search:!0,searchInput:{"aria-label":"Search styles"},selectOnBlur:!1,selection:!0,text:null==a?void 0:a.title,value:(null==a?void 0:a.name)||""})};function en(){return en=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ln="author",cn="date",sn="title",un=[{key:sn,value:sn,text:S.t("BibliographyList.sort.title")},{key:ln,value:ln,text:S.t("BibliographyList.sort.author")},{key:cn,value:cn,text:S.t("BibliographyList.sort.date")}],fn=Ie((function(e){return o().createElement(l.List,{divided:!0,relaxed:"very"},i().map(e.items,(function(t,n){return o().createElement(l.List.Item,{as:l.Grid,columns:2,key:n,padded:!0},o().createElement(l.List.Content,{as:l.Grid.Column,textAlign:"left",verticalAlign:"middle",width:14},o().createElement(y.Citation,{item:t,locale:e.locale,style:e.style&&e.style.xml})),o().createElement(l.List.Content,{as:l.Grid.Column,textAlign:"right",verticalAlign:"middle",width:2},i().map(e.actions,(function(e,n){return o().createElement(l.Button,{"aria-label":e.name,basic:!0,icon:e.icon,key:n,onClick:e.onClick.bind(void 0,t)})}))))})))})),pn=function pn(e){var t=on((0,r.useState)(),2),n=t[0],a=t[1],c=on((0,r.useState)(!1),2),s=c[0],u=c[1],f=on((0,r.useState)(),2),p=f[0],d=f[1],m=on((0,r.useState)({}),2),h=m[0],y=m[1],b=(0,r.useCallback)((function(e){var t=(e||{}).id,n=(e||{}).uid,r=void 0===n?v()():n,o=i().omit(e,"id","uid","data");return i().extend(o,{creators:i().reject(e.creators,(function(e){return!(e.name||e.firstName||e.lastName)}))}),{id:t,uid:r,data:o}}),[]),g=(0,r.useCallback)((function(e,t){var n;if(h===sn)n=e.title;else if(h===ln){var r=i().first(e.creators);n=(null==r?void 0:r.name)||"".concat(null==r?void 0:r.lastName,", ").concat(null==r?void 0:r.firstName)}else n=h===cn?e.date:t;return n}),[]),E=(0,r.useMemo)((function(){var t=i().chain(e.items).filter((function(e){return!e._destroy})).map((function(e){return nn(nn({},i().omit(e,"data")),e.data)})).value();return t=i().sortBy(t,g),h.direction===Qt&&(t=t.reverse()),t}),[g,h,e.items]),w=(0,r.useCallback)((function(){return o().createElement(o().Fragment,null,o().createElement(Zt,{onChange:function onChange(e,t){return d({name:e,xml:t})}}),o().createElement(Jt,{direction:h.direction,onChange:function onChange(e){return y(e)},options:un,text:h.text,value:h.value}))}),[h,p]),O=(0,r.useCallback)((function(t){return Promise.resolve(e.onDelete(b(t)))}),[b,e.onDelete]),C=(0,r.useCallback)((function(t){return Promise.resolve(e.onSave(b(t)))}),[b,e.onSave]);return(0,r.useEffect)((function(){fetch("https://raw.githubusercontent.com/citation-style-language/locales/master/locales-en-US.xml").then((function(e){return e.text()})).then((function(e){return a(e)}))}),[]),o().createElement(Gt.Provider,{value:{translateUrl:e.translateUrl}},o().createElement("div",null,o().createElement($t,{onError:function onError(){return u(!0)},onFind:function onFind(e){return i().map(e,C)}}),o().createElement(fn,en({},e,{actions:[{name:"edit"},{name:"delete"}],className:"bibliography-list",items:E,locale:n,modal:{component:_t,props:{defaults:{itemType:"book"}}},onDelete:O,onSave:C,renderListHeader:w,style:p})),s&&o().createElement(j,{onDismiss:function onDismiss(){return u(!1)},timeout:2500,type:j.MessageTypes.warning},o().createElement(l.Message.Header,{content:S.t("Common.messages.noResults")}))))},dn=function dn(e){var t="times circle outline",n="red";return e.value&&(t="check circle outline",n="green"),o().createElement(l.Icon,{color:n,name:t})},mn=function mn(e){return o().createElement(l.Button,{basic:!0,disabled:e.disabled,onClick:e.onClick.bind(void 0),size:"medium",type:"button"},S.t("Common.buttons.cancel"))},hn=function hn(e){return o().createElement(l.Button,{className:"color-button",onClick:e.onClick&&e.onClick.bind(void 0),style:{backgroundColor:e.color,cursor:e.onClick?"pointer":"default",height:e.height,width:e.width},title:"color-button"})};hn.defaultProps={height:void 0,onClick:void 0,width:void 0};var yn=hn,bn=__webpack_require__("../../node_modules/react-color/es/index.js");function vn(e){return vn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},vn(e)}function En(e,t){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},En(e,t)}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}var Sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&En(e,t)}(c,e);var t,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=On(r);if(a){var n=On(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function wn(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={selectedColor:e.color},t}return t=c,(n=[{key:"render",value:function value(){var e=this;return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{className:"color-picker-modal",mountNode:t,onClose:e.props.onClose.bind(e),open:e.props.open},o().createElement(l.Modal.Content,null,o().createElement(bn.SketchPicker,{color:e.state.selectedColor,disableAlpha:!1,onChangeComplete:function onChangeComplete(t){return e.setState({selectedColor:t})}})),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.props.onSave.bind(e,e.state.selectedColor),primary:!0,size:"medium",type:"submit"},S.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.props.onClose.bind(e),size:"medium",type:"button"},S.t("Common.buttons.cancel"))))}))}}])&&function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component),Cn=function Cn(e){return o().createElement(l.Label.Group,null,i().map(e.items,(function(e,t){return o().createElement(l.Label,{content:e.label,key:t,onRemove:e.onClick})})),e.count&&e.count>e.items.length&&e.onShowMore&&o().createElement(l.Label,{as:l.Button,content:"+".concat(e.count-e.items.length),onClick:e.onShowMore}))};Cn.defaultProps={count:void 0,onShowMore:void 0};var kn=Cn,jn=function jn(e){return o().createElement(l.Modal,{centered:!1,open:e.open},o().createElement(l.Modal.Header,{content:S.t("CurrentFacetsModal.title")}),o().createElement(l.Modal.Content,null,o().createElement(kn,{items:e.items})),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:S.t("Common.buttons.done"),onClick:e.onClose,primary:!0})))};jn.defaultProps={open:void 0};var Pn=jn,In=["useCurrentRefinements"];function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Dn=function Dn(e){var t,a=e.useCurrentRefinements,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,In),c=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return An(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?An(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1],f=a(l).items,p=(0,r.useMemo)((function(){return i().flatten(i().map(f,(function(e){return i().map(e.refinements,(function(t){return{label:"".concat(e.label,": ").concat(t.label),onClick:function onClick(){return e.refine(t)}}}))})))}),[f]),d=(0,r.useMemo)((function(){return i().filter(p,(function(e,t){return!l.limit||t<l.limit}))}),[p,l.limit]);return i().isEmpty(p)?null:o().createElement(o().Fragment,null,o().createElement(kn,{count:p.length,items:d,onShowMore:function onShowMore(){return u(!0)}}),o().createElement(Pn,{items:p,open:s,onClose:function onClose(){return u(!1)}}))};Dn.defaultProps={limit:void 0};var xn=Dn,Tn=function Tn(e){return o().createElement("div",{className:"column-resize",onMouseDown:e.onMouseDown.bind(void 0),role:"presentation"},"")},Mn=__webpack_require__("../../node_modules/react-dnd/dist/esm/index.js");function Rn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ln="vertical",Bn=function Bn(e){var t=e.index,n=e.id,a=e.direction,i=void 0===a?Ln:a,c=(0,r.useRef)(null),s=Rn((0,Mn.useDrop)({accept:"any",hover:function hover(n,r){if(c.current){var o=n.index,a=t;if(o!==a){var l,s,u=c.current.getBoundingClientRect(),f=r.getClientOffset();l=i===Ln?(u.bottom-u.top)/2:(u.right-u.left)/2,s=i===Ln?f.y-u.top:f.x-u.left,o<a&&s<l||o>a&&s>l||(e.onDrag(o,a),n.index=a)}}}}),2)[1],u=Rn((0,Mn.useDrag)({item:{type:"any",id:n,index:t},begin:function begin(){return e.onDragStart&&e.onDragStart()},end:function end(){return e.onDragEnd&&e.onDragEnd()},collect:function collect(e){return{isDragging:e.isDragging()}}}),2),f=u[0].isDragging;return(0,u[1])(s(c)),c&&c.current&&(c.current.style.opacity=f?0:1),o().createElement(l.Ref,{innerRef:c},e.children)};function zn(e){return zn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},zn(e)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t){return qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qn(e,t)}function $n(e){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$n(e)}function Kn(e){return Kn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Kn(e)}function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xn(e,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xn(e,t)}function Zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},er(e)}var tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xn(e,t)}(u,e);var t,n,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=er(a);if(c){var n=er(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function Jn(e,t){if(t&&("object"===Kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zn(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={resize:null,activePanel:null},t.initializeColumnRefs(),t.onClick=t.onPreventClick.bind(Zn(t)),t.onMouseMove=t.onColumnResize.bind(Zn(t)),t.onMouseUp=t.afterColumnResize.bind(Zn(t)),t}return t=u,(n=[{key:"afterColumnResize",value:function value(){this.state.resize&&y.Browser.isBrowser()&&(document.addEventListener("click",this.onClick,!0),this.setState({resize:void 0}))}},{key:"initializeColumnRefs",value:function value(){var e=this;this.columnRefs={},i().each(this.props.columns,(function(t){e.columnRefs[t.name]=(0,r.createRef)()}))}},{key:"componentDidMount",value:function value(){y.Browser.isBrowser()&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"componentDidUpdate",value:function value(e){y.Object.isEqual(e.columns,this.props.columns)||this.initializeColumnRefs()}},{key:"componentWillUnmount",value:function value(){y.Browser.isBrowser()&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))}},{key:"getColumnCount",value:function value(){var e=this.props.columns.length;return this.props.actions&&this.props.actions.length&&(e+=1),e}},{key:"onColumnResize",value:function value(e){var t=this.state.resize;if(t){var n=t.columnRef,r=t.offset;n.current.style.width="".concat(r+e.pageX,"px")}}},{key:"onPreventClick",value:function value(e){e.stopPropagation(),y.Browser.isBrowser()&&document.removeEventListener("click",this.onClick,!0)}},{key:"onSelectAll",value:function value(e){var t,n;t=e?function(e){if(Array.isArray(e))return Wn(e)}(n=this.props.items||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():i().reject(this.props.items,this.props.isRowSelected.bind(this)),i().each(t,this.props.onRowSelect&&this.props.onRowSelect.bind(this))}},{key:"render",value:function value(){return o().createElement(l.Table,Qn({className:"data-table"},this.props.tableProps),o().createElement(l.Table.Header,null,o().createElement(l.Table.Row,null,this.renderSelectHeader(),this.props.columns.map(this.renderHeaderCell.bind(this)),this.renderActionsHeader())),o().createElement(l.Table.Body,null,this.props.items&&this.props.items.map(this.renderItem.bind(this)),this.renderEmptyTableRow(),this.renderLoading()))}},{key:"renderActionButton",value:function value(e,t,n){if(n.render)return n.render(e,t);var r=o().createElement(l.Button,{"aria-label":n.name,basic:!0,compact:!0,color:n.color,icon:n.icon,key:"".concat(n.name,"-").concat(t),onClick:n.onClick&&n.onClick.bind(this,e),title:n.title});if(n.popup){var a=n.popup,i=a.content,c=a.title;return o().createElement(l.Popup,{content:i,header:c,hideOnScroll:!0,mouseEnterDelay:500,position:"top right",trigger:r})}return r}},{key:"renderActions",value:function value(e,t){if(!this.props.actions||!this.props.actions.length)return null;var n=this.props.actions.filter((function(t){return!t.accept||t.accept(e)})).map((function(e){var t={};return"edit"===e.name?t={popup:{title:S.t("DataTable.actions.edit.title"),content:S.t("DataTable.actions.edit.content")}}:"copy"===e.name?t={popup:{title:S.t("DataTable.actions.copy.title"),content:S.t("DataTable.actions.copy.content")}}:"delete"===e.name&&(t={popup:{title:S.t("DataTable.actions.delete.title"),content:S.t("DataTable.actions.delete.content")}}),i().defaults(e,t)}));return o().createElement(l.Table.Cell,{className:"actions-cell",key:t},n.map(this.renderActionButton.bind(this,e,t)))}},{key:"renderActionsHeader",value:function value(){return this.props.actions&&this.props.actions.length?o().createElement(l.Table.HeaderCell,null,S.t("DataTable.columns.actions")):null}},{key:"renderCell",value:function value(e,t){return t.hidden?null:(n=t.render?t.render(e):t.resolve?t.resolve(e):e[t.name],o().createElement(l.Table.Cell,{key:"".concat(e.id,"-").concat(t.name),className:t.className},n));var n}},{key:"renderEmptyTableRow",value:function value(){return this.props.loading||this.props.items&&this.props.items.length?null:this.props.renderEmptyRow?this.props.renderEmptyRow():o().createElement(l.Table.Row,null,o().createElement(l.Table.Cell,{colSpan:this.getColumnCount(),textAlign:"center"},o().createElement("div",{className:"empty-container"},this.props.renderEmptyMessage())))}},{key:"renderHeaderCell",value:function value(e){var t=this;return e.hidden?null:e.renderHeader?e.renderHeader():o().createElement(l.Ref,{innerRef:this.columnRefs[e.name]},o().createElement(l.Table.HeaderCell,{key:e.name,sorted:this.props.sortColumn===e.name?this.props.sortDirection:null,onClick:function onClick(){return t.props.onColumnClick(e)}},e.label,o().createElement(Tn,{onMouseDown:function onMouseDown(n){var r=t.columnRefs[e.name],o=r.current.offsetWidth-n.pageX;t.setState({resize:{columnRef:r,offset:o}})}})))}},{key:"renderItem",value:function value(e,t){var n=this,r=[this.renderSelectCheckbox(e,t),this.props.columns.map(this.renderCell.bind(this,e)),this.renderActions(e,t)];return this.props.renderItem?this.props.renderItem(e,t,r):o().createElement(o().Fragment,null,o().createElement(l.Table.Row,{key:t,onClick:this.props.expandableRows?function(t){"TD"===t.target.nodeName&&n.setState((function(t){return{activePanel:t.activePanel===e.id?"":e.id}}))}:function(){},className:this.props.expandableRows?"expandable":""},r),this.props.expandableRows&&o().createElement(l.Table.Row,{className:this.state.activePanel===e.id?"expanded-panel":"hidden"},this.props.expandPanel&&this.props.expandPanel(e,this.state.activePanel)))}},{key:"renderLoading",value:function value(){return this.props.loading?o().createElement(l.Table.Row,null,o().createElement(l.Table.Cell,{colSpan:this.getColumnCount(),textAlign:"center"},o().createElement(l.Loader,{active:!0,content:S.t("DataTable.loading"),inline:!0}))):null}},{key:"renderSelectCheckbox",value:function value(e,t){return this.props.selectable&&this.props.onRowSelect&&this.props.isRowSelected?o().createElement(l.Table.Cell,{className:"select-cell",key:"select-cell-".concat(t)},o().createElement(l.Checkbox,{onClick:this.props.onRowSelect.bind(this,e),checked:this.props.isRowSelected(e)})):null}},{key:"renderSelectHeader",value:function value(){if(!this.props.selectable)return null;var e=this.props.items&&this.props.items.length&&i().every(this.props.items,this.props.isRowSelected.bind(this));return o().createElement(l.Table.HeaderCell,{className:"select-cell"},o().createElement(l.Checkbox,{onClick:this.onSelectAll.bind(this,e),checked:e}))}}])&&function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Component);tr.defaultProps={actions:void 0,addButton:{location:"top",color:"green"},buttons:[],count:0,className:"",expandableRows:!1,expandPanel:void 0,filters:void 0,items:[],loading:!1,modal:void 0,page:1,pages:1,onColumnClick:function onColumnClick(){},onCopy:void 0,onPageChange:function onPageChange(){},renderDeleteModal:void 0,renderEmptyRow:void 0,renderSearch:void 0,renderItem:void 0,showRecordCount:!1,sortColumn:void 0,sortDirection:void 0};var or,ar,nr=(or=Ie(tr),ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qn(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=$n(r);if(a){var n=$n(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function Vn(e,t){if(t&&("object"===zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={columns:e.columns},t}return t=s,(n=[{key:"componentDidUpdate",value:function value(e){y.Object.isEqual(e.columns,this.props.columns)||this.setState({columns:this.props.columns})}},{key:"onColumnCheckbox",value:function value(e){this.setState((function(t){return{columns:i().map(t.columns,(function(t){return t.name===e.name?Un(Un({},t),{},{hidden:!t.hidden}):t}))}}))}},{key:"onDrag",value:function value(e,t){this.setState((function(n){var r=[],o=[];i().each(n.columns,(function(e,t){e.label&&e.label.length?r.push(e):o.push({index:t,column:e})}));var a=r[e];return r.splice(e,1),r.splice(t,0,a),i().each(o,(function(e){return r.splice(e.index,0,e.column)})),{columns:r}}))}},{key:"render",value:function value(){return o().createElement(or,Fn({},this.props,{className:"data-table-column-selector ".concat(this.props.className),columns:this.state.columns,renderListHeader:this.renderHeader.bind(this)}))}},{key:"renderHeader",value:function value(){var e=this;return o().createElement(o().Fragment,null,this.props.renderListHeader&&this.props.renderListHeader(),o().createElement(l.Dropdown,{"aria-label":"Select Columns",basic:!0,button:!0,icon:"cog",className:"icon configure-button open-right",closeOnBlur:!1},o().createElement(l.Dropdown.Menu,null,this.state.columns.filter((function(e){return e.label&&e.label.length})).map((function(t,n){return o().createElement(Bn,{id:t.name,index:n,key:t.name,onDrag:e.onDrag.bind(e)},o().createElement(l.Dropdown.Item,{"aria-dropeffect":"move",onClick:function onClick(e){return e.stopPropagation()}},o().createElement(l.Icon,{name:"bars"}),o().createElement(l.Checkbox,{"aria-label":"Select Column",checked:!t.hidden,label:t.label,onClick:e.onColumnCheckbox.bind(e,t)})))})))))}}])&&function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component),ar.defaultProps={className:""},ar),rr=__webpack_require__("../../node_modules/axios/index.js"),ir=n.n(rr);function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lr.apply(this,arguments)}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sr=function sr(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return cr(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cr(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1],s=(0,r.useRef)(),u=(0,r.useCallback)((function(){return c(!0)}),[]),f=(0,r.useCallback)((function(){return c(!1)}),[]);return(0,r.useEffect)((function(){return s.current&&(s.current.addEventListener("mouseenter",u),s.current.addEventListener("mouseleave",f)),function(){s.current&&(s.current.removeEventListener("mouseenter",u),s.current.removeEventListener("mouseleave",f))}}),[s]),(0,r.useEffect)((function(){s.current&&e.role&&s.current.setAttribute("role",e.role)}),[s,e.role]),o().createElement(l.Ref,{innerRef:s},o().createElement(l.Dropdown,lr({},e,{open:i,onClick:function onClick(){e.onClick&&e.onClick(),c(!1)}}),o().createElement(l.Dropdown.Menu,null,e.children)))};sr.defaultProps={onClick:void 0};var ur=sr,fr=["header","items"];function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}var dr=function dr(e){var t=e.header,n=e.items,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,fr),c=(0,r.useCallback)((function(e,t){return o().createElement(l.Dropdown.Item,pr({key:t},e))}),[]),s=(0,r.useCallback)((function(e,t){return o().createElement(l.Menu.Item,pr({key:t},e))}),[]),u=(0,r.useCallback)((function(e,t){return o().createElement(ur,{"aria-label":e.content,item:!0,key:t,role:"group",text:e.content},i().map(e.items,(function(e){return e.items?u(e):c(e)})))}),[]),f=(0,r.useCallback)((function(e){return e.items?u(e):s(e)}),[]);return o().createElement(l.Menu,pr({},a,{className:"menu-bar"}),o().createElement(l.Menu.Item,pr({},t,{header:!0})),i().map(n,(function(e){return f(e)})))},mr=["contextRef","header","items"];function hr(){return hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hr.apply(this,arguments)}var yr=function yr(e){var t=e.contextRef,n=e.header,a=e.items,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,mr),s=(0,r.useCallback)((function(e,t){return o().createElement(l.Menu.Item,{key:t},o().createElement(l.Menu.Header,e),o().createElement(l.Menu.Menu,null,i().map(e.items,(function(e){return f(e)}))))}),[]),u=(0,r.useCallback)((function(e,t){return o().createElement(l.Menu.Item,hr({key:t},e))}),[]),f=(0,r.useCallback)((function(e){return e.items?s(e):u(e)}),[]);return o().createElement(l.Ref,{innerRef:t},o().createElement(l.Menu,hr({},c,{fixed:"left",vertical:!0}),o().createElement(l.Menu.Item,null,o().createElement(l.Header,n)),i().map(a,(function(e){return f(e)}))))};function br(e){return function(e){if(Array.isArray(e))return Cr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Sr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(){return vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vr.apply(this,arguments)}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||Sr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kr=z((function(e){var t=Or((0,r.useState)(),2),n=t[0],a=t[1],l=(0,r.useCallback)((function(e){var t=Er({},e);n&&n.value===e.value&&(t.direction=n.direction===B?L:B),a(t)}),[e.sorts,n]);return(0,r.useEffect)((function(){n&&e.onSort(n.value,n.direction,e.page)}),[n]),(0,r.useEffect)((function(){var t=e.page,n=e.sortColumn,r=void 0===n?"":n,o=e.sortDirection,a=void 0===o?L:o;if(!r){var l=i().first(e.sort);l&&(r=l.value,l.direction&&(a=l.direction))}e.onSort(r,a,t)}),[]),o().createElement(nr,vr({},e,{renderListHeader:function renderListHeader(){return e.sorts&&o().createElement(U,{basic:!0,icon:n&&n.direction===B?"sort alphabet down":"sort alphabet up",onChange:function onChange(){},options:i().map(e.sorts,(function(e){return{key:e.value,value:e.value,text:e.label,onClick:function onClick(){return l(e)}}})),text:n?S.t("DataView.labels.sortBy",{column:n.label}):S.t("DataView.labels.noSort"),value:n&&n.value})},tableProps:Er(Er({},e.tableProps||{}),{},{celled:!0})}))})),jr=function jr(e){var t=Or((0,r.useState)(),2),n=t[0],a=t[1],c=Or((0,r.useState)(),2),s=c[0],u=c[1],f=Or((0,r.useState)([]),2),p=f[0],d=f[1],m=Or((0,r.useState)([]),2),h=m[0],y=m[1],b=Or((0,r.useState)(),2),v=b[0],g=b[1],E=Or((0,r.useState)(),2),w=E[0],O=E[1],C=(0,r.useRef)(),k=(0,r.useMemo)((function(){var e="";return n&&(e=n.url.substr(n.url.lastIndexOf("/")+1,n.url.length)),e}),[n]),j=(0,r.useCallback)((function(t){if(!n)return[];var r=i().chain(t).map((function(e){return i().keys(e)})).flatten().uniq().value(),o=i().map(r,(function(t,r){var o=i().findWhere(n.columns,{name:t})||{},a={name:t,label:t.trim().replace(/^\w/,(function(e){return e.toUpperCase()})).replaceAll("_"," "),sortable:!1,resolve:function resolve(e){return A(e,t)},hidden:r>e.columnCount,index:r};return i().extend(a,o)}));return o=[].concat(br(o),br(i().reject(n.columns,(function(e){return i().contains(r,e.name)})))),i().sortBy(o,"index")}),[n]),P=(0,r.useCallback)((function(e){n&&ir().get("".concat(n.url,"/").concat(e.id)).then((function(e){var t=e.data,n=i().first(i().keys(t));u(t[n])})).catch((function(){u(e)}))}),[n]),I=(0,r.useCallback)((function(e){return n?ir().get(n.url,{params:e}).then((function(e){var t=e.data[k];return d(j(t)),e})):Promise.resolve()}),[n]),A=(0,r.useCallback)((function(e,t){var n=e[t];return i().isArray(n)?n=i().size(n):i().isBoolean(n)?n=Boolean(n).toString():i().isObject(n)&&(n=n[i().first(i().keys(n))]),n}),[]);return(0,r.useEffect)((function(){if(i().every(e.items,(function(e){return!!e.group}))){var t=i().groupBy(e.items,"group"),r=i().keys(t);y(i().map(r,(function(e){return{content:e,items:i().map(t[e],(function(e){return{active:n&&n.id===e.id,content:e.label,onClick:function onClick(){return a(e)}}}))}})))}else y(e.items)}),[n,e.items]),(0,r.useEffect)((function(){e.items&&e.items.length&&a(i().first(e.items))}),[e.items]),(0,r.useEffect)((function(){"left"===e.layout&&C&&C.current&&g(C.current.offsetWidth)}),[C,e.layout]),(0,r.useEffect)((function(){var e=[];n&&e.push(n.id),p&&p.length&&e.push.apply(e,br(i().pluck(p,"name"))),O(e.join(""))}),[n,p]),o().createElement("div",{className:"data-view"},"top"===e.layout&&o().createElement(dr,{header:{content:e.title},items:h}),"left"===e.layout&&o().createElement(yr,{contextRef:C,header:{content:e.title},items:h}),o().createElement("div",{style:{marginLeft:v}},n&&o().createElement(kr,{actions:[{name:"details",icon:"info",onClick:P}],collectionName:k,columns:p,key:w,onLoad:I,perPageOptions:[10,25,50,100],searchable:!0,sorts:n.sorts})),s&&o().createElement(ee.Consumer,null,(function(e){return o().createElement(l.Modal,{as:l.Form,centered:!1,className:"data-view-modal",closeIcon:!0,mountNode:e,onClose:function onClose(){return u(null)},open:!0},o().createElement(l.Modal.Header,{content:S.t("DataView.labels.details")}),o().createElement(l.Modal.Content,null,o().createElement(l.Grid,{columns:3,doubling:!0},i().map(j([s]),(function(e){return o().createElement(l.Grid.Column,{as:l.Form.Field,key:e.name},o().createElement("span",{className:"label"},e.label),A(s,e.name))})))))})))};jr.defaultProps={columnCount:5,layout:"left"};var Pr=jr;function Ir(){return Ir=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ir.apply(this,arguments)}var Ar=z((function(e){var t=y.Hooks.usePrevious(e.columns),n=function n(t){if(t.sortable){var n=t.name,r=L;t.name===e.sortColumn?r=e.sortDirection===L?B:L:t.sortDirection&&(r=t.sortDirection),e.onSort(n,r)}};return(0,r.useEffect)((function(){if(!y.Object.isEqual(e.columns,t)){var r=e.page,o=e.defaultSort,a=e.defaultSortDirection,l=void 0===a?L:a;if(o)e.onSort(o,l,r);else{var c=i().findWhere(e.columns,{sortable:!0});c?n(c):e.onInit()}}}),[e.columns]),o().createElement(nr,Ir({},e,{onColumnClick:n.bind(void 0)}))}));Ar.defaultProps={configurable:!0,tableProps:{celled:!0,sortable:!0}};var Dr=Ar;function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lr=function Lr(e){var t=Rr((0,r.useState)([]),2),n=t[0],a=t[1],l=Rr((0,r.useState)(),2),c=l[0],s=l[1],u=Rr((0,r.useState)([]),2),f=u[0],p=u[1],d=(0,r.useRef)(),m=(0,r.useMemo)((function(){return{getColumns:function getColumns(t){return ir().get("".concat(e.url,"/api/columns"),{params:t})},getData:function getData(t){return ir().post("".concat(e.url,"/api/search"),t)},getTables:function getTables(){return ir().get("".concat(e.url,"/api/tables"))}}}),[e.url]),h=(0,r.useCallback)((function(e,t){var n=t[e.column_name],r=e.data_type;return n&&"timestamp without time zone"===r&&(n=new Date(n).toLocaleDateString()),n}),[]);(0,r.useEffect)((function(){m&&m.getTables().then((function(e){var t=e.data;p(t),s(i().first(t))}))}),[m]),(0,r.useEffect)((function(){c&&m.getColumns({table_name:c.table_name}).then((function(e){var t=e.data;return a(t)}))}),[c,m]);var y=(0,r.useMemo)((function(){return i().map(n,(function(t,n){return{name:t.column_name,label:t.column_name,resolve:h.bind(void 0,t),sortable:!0,hidden:n>e.columnCount}}))}),[n,h,e.columnCount]);return o().createElement("div",{className:"database-view"},o().createElement(yr,{contextRef:d,header:{content:e.title,inverted:!0},inverted:!0,items:[{items:i().map(f,(function(e){return{active:c===e,content:e.table_name,onClick:function onClick(){return s(e)}}}))}],style:{overflow:"auto",width:"250px"}}),o().createElement("div",{style:{marginLeft:"250px"}},c&&o().createElement(Dr,{collectionName:"items",columns:y,onLoad:function onLoad(e){return m.getData(Tr(Tr({},e),{},{table_name:c.table_name}))},perPageOptions:[10,25,50,100],searchable:!0})))};Lr.defaultProps={columnCount:Number.MAX_SAFE_INTEGER};var Br=Lr,zr=__webpack_require__("../../node_modules/react-calendar/dist/esm/index.js"),Fr=n.n(zr);function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ur=function Ur(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return _r(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_r(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1],s=(0,r.useRef)(null),u=function u(e){var t=s.current;t&&!t.contains(e.target)&&c(!1)};return(0,r.useEffect)((function(){return document.addEventListener("mousedown",u),function(){return document.removeEventListener("mousedown",u)}}),[s]),o().createElement(o().Fragment,null,o().createElement(Z,{formatOptions:e.formatOptions,locale:e.locale,onChange:e.onChange.bind(void 0),onClick:function onClick(){return c(!0)},value:e.value}),o().createElement(l.Transition,{visible:i},o().createElement("div",{ref:s,style:{position:"absolute",zIndex:"999"}},o().createElement(Fr(),{locale:e.locale,onChange:function onChange(t){e.onChange(t),e.closeOnSelection&&c(!1)},next2AriaLabel:"Next Year",next2Label:o().createElement(l.Icon,{name:"angle double right"}),nextAriaLabel:"Next Month",nextLabel:o().createElement(l.Icon,{name:"chevron right"}),prev2AriaLabel:"Previous Year",prev2Label:o().createElement(l.Icon,{name:"angle double left"}),prevAriaLabel:"Previous Month",prevLabel:o().createElement(l.Icon,{name:"chevron left"}),value:e.value}))))};Ur.defaultProps={closeOnSelection:!0};var Hr=Ur,Gr=function Gr(e){return o().createElement(l.Popup,{className:e.className,content:e.popupContent,hoverable:!0,mouseEnterDelay:e.delayInterval,trigger:e.renderPopup?e.renderPopup():o().createElement("span",{className:"text"},e.content),wide:!0})};Gr.defaultProps={delayInterval:1e3,renderPopup:void 0,popupContent:void 0};var qr=Gr;function Vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $r=function $r(e){var t=(0,r.useMemo)((function(){var t,n=["ui","button"];return e.basic&&n.push("basic"),e.className&&n.push.apply(n,function(e){if(Array.isArray(e))return Vr(e)}(t=e.className.split(" "))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vr(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e.color&&n.push(e.color),e.compact&&n.push("compact"),e.primary&&n.push("primary"),e.secondary&&n.push("secondary"),e.size&&n.push(e.size),n.join(" ")}),[e.basic,e.color]);return o().createElement("a",{className:t,download:e.filename||v()(),href:e.url},o().createElement(l.Icon,{name:"cloud download"}),S.t("Common.buttons.download"))},Kr=function Kr(e){return o().createElement(l.Button,{onClick:e.onClick.bind(void 0),primary:!0,size:"medium",type:"submit"},S.t("Common.buttons.save"),e.saving&&o().createElement(l.Loader,{active:!0,className:"saving",inline:!0,size:"tiny"}))};function Qr(e){return Qr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Qr(e)}function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}function Xr(e,t){return Xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xr(e,t)}function Zr(e){return Zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zr(e)}var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Zr(r);if(a){var n=Zr(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function Jr(e,t){if(t&&("object"===Qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={currentTab:"",showToaster:!1},t}return t=s,(n=[{key:"componentDidMount",value:function value(){if(this.props.menu){var e=i().first(this.props.menu.items);this.setState({currentTab:e&&e.key})}}},{key:"componentDidUpdate",value:function value(e){i().isEmpty(this.props.errors)||i().isEmpty(e.errors)||e.errors===this.props.errors||this.setState({showToaster:!0})}},{key:"onSave",value:function value(){return this.setState({showToaster:!0}),this.props.onSave()}},{key:"render",value:function value(){return o().createElement(l.Dimmer.Dimmable,{as:"div",className:"edit-page ".concat(this.props.className||"")},this.renderLoading(),o().createElement(l.Form,{noValidate:!0},this.renderMenu(),this.renderButtons(),this.renderComponent(),this.renderToaster()))}},{key:"renderButtons",value:function value(){return this.props.menu?null:o().createElement("div",{className:"button-container"},o().createElement(Kr,{onClick:this.onSave.bind(this),saving:this.props.saving}),o().createElement(mn,{disabled:this.props.saving,onClick:this.props.onClose.bind(this)}))}},{key:"renderComponent",value:function value(){var e=this.props.component;return o().createElement(e,Wr({},this.props,{currentTab:this.state.currentTab}))}},{key:"renderLoading",value:function value(){return this.props.showLoading&&this.props.loading?o().createElement(l.Dimmer,{active:this.props.loading,inverted:!0},o().createElement(l.Loader,{content:S.t("Common.messages.loading")})):null}},{key:"renderMenu",value:function value(){var e=this;return this.props.menu?o().createElement(l.Menu,i().omit(this.props.menu,"items"),this.props.menu&&i().map(this.props.menu.items,(function(t){return o().createElement(l.Menu.Item,{active:t.key===e.state.currentTab,key:t.key,name:t.name,onClick:function onClick(){return e.setState({currentTab:t.key})}})})),o().createElement(l.Menu.Menu,{position:"right"},o().createElement(l.Menu.Item,null,o().createElement(Kr,{onClick:this.onSave.bind(this),saving:this.props.saving}),o().createElement(mn,{disabled:this.props.saving,onClick:this.props.onClose.bind(this)})))):null}},{key:"renderToaster",value:function value(){var e=this;return this.state.showToaster&&this.props.errors&&this.props.errors.length?o().createElement(j,{onDismiss:function onDismiss(){return e.setState({showToaster:!1})},timeout:0,type:j.MessageTypes.negative},o().createElement(l.Message.Header,{content:S.t("Common.messages.error.header")}),o().createElement(l.Message.List,{items:this.props.errors})):null}}])&&function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);eo.defaultProps={showLoading:!0};var to=(0,y.useEditContainer)(eo);function no(e){return no="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},no(e)}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(this,arguments)}function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function co(e,t){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},co(e,t)}function uo(e){return uo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},uo(e)}var fo="ascending",po="descending",mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&co(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=uo(r);if(a){var n=uo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function so(e,t){if(t&&("object"===no(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={sortColumn:null,sortDirection:null},t}return t=s,n=[{key:"componentDidMount",value:function value(){var e;(e=this.props.defaultSort?i().findWhere(this.props.columns,{name:this.props.defaultSort}):i().find(this.props.columns,(function(e){return!1!==e.sortable})))&&this.onColumnClick(e,this.props.defaultSortDirection)}},{key:"getItems",value:function value(){var e=this.props.items,t=this.state,n=t.sortColumn,r=t.sortDirection;return i().orderBy(i().filter(e,(function(e){return!e._destroy})),n,r)}},{key:"onColumnClick",value:function value(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fo;if(!this.props.onDrag&&!1!==e.sortable){var n=e.name,r=t||fo;e.name===this.state.sortColumn&&(r=this.state.sortDirection===fo?po:fo),this.setState({sortColumn:n,sortDirection:r})}}},{key:"onDelete",value:function value(e){return this.props.onDelete(e),Promise.resolve()}},{key:"onSave",value:function value(e){var t=e.uid?e.uid:v()();return this.props.onSave&&this.props.onSave(ao(ao({},e),{},{uid:t})),Promise.resolve()}},{key:"render",value:function value(){return o().createElement(nr,ro({},this.props,{actions:this.props.actions,addButton:this.props.addButton,buttons:this.props.buttons,className:"embedded-list ".concat(this.props.className?this.props.className:""),configurable:this.props.configurable,columns:this.props.columns,count:this.props.items.length,items:this.getItems(),modal:this.props.modal,onColumnClick:this.onColumnClick.bind(this),onCopy:this.props.onCopy,onDrag:this.props.onDrag,onDelete:this.onDelete.bind(this),onSave:this.onSave.bind(this),renderDeleteModal:this.props.renderDeleteModal,renderEmptyRow:this.props.renderEmptyRow,renderItem:this.renderItem.bind(this),sortColumn:this.state.sortColumn,sortDirection:this.state.sortDirection,tableProps:{celled:!0,sortable:!this.props.onDrag},selectable:this.props.selectable,onRowSelect:this.props.onRowSelect,selectedRows:this.props.selectedRows,showRecordCount:this.props.showRecordCount}))}},{key:"renderItem",value:function value(e,t,n){if(this.props.onDrag){var r=e.id||e.uid;return o().createElement(Bn,{id:r,index:t,item:e,key:r,onDrag:this.props.onDrag.bind(this)},o().createElement(l.Table.Row,null,n))}return o().createElement(l.Table.Row,{key:t},n)}}],n&&function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);i().mixin({orderBy:function orderBy(e,t,n){if(!t)return e;var r=i().property(t.split(".")),o=i().sortBy(e,(function(e){return r(e)}));return n===po&&(o=o.reverse()),o}}),mo.defaultProps={items:[],addButton:{location:"top"},buttons:[],className:"",configurable:!0,modal:void 0,onCopy:void 0,onDrag:void 0,onSave:function onSave(){},renderDeleteModal:void 0,renderEmptyRow:void 0};var ho=mo;function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bo=function bo(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(e.defaultActive))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return yo(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return o().createElement(o().Fragment,null,o().createElement(l.Accordion,{className:"facet"},o().createElement(l.Accordion.Title,{active:i,index:0,onClick:function onClick(){return c((function(e){return!e}))}},o().createElement("div",{className:"facet-title"},o().createElement(l.Header,{content:e.title,size:"tiny"}),o().createElement(l.Icon,{name:"dropdown"}))),o().createElement(l.Accordion.Content,{active:i},e.children)),e.divided&&o().createElement(l.Divider,null))};bo.defaultProps={children:void 0,defaultActive:!0,divided:!1};var vo=bo,go=["useClearRefinements"];function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(this,arguments)}var wo=function wo(e){var t=e.useClearRefinements,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,go),r=t(n),a=r.refine,i=r.canRefine;return o().createElement(l.Button,Eo({},n,{disabled:!i,onClick:function onClick(){return a()}}))},Oo=function Oo(e){return o().createElement(l.Button,{basic:!0,className:"link-button",compact:!0,content:e.content,onClick:e.onClick.bind(void 0),type:"button"})},So=["useRefinementList"];function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ko=function ko(e){var t,a=e.useRefinementList,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,So),s=a(c),u=s.items,f=s.refine,p=s.canToggleShowMore,d=s.isShowingMore,m=s.searchForItems,h=s.toggleShowMore,b=(0,r.useRef)(),v=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return Co(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Co(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=v[0],E=v[1],w=(0,r.useCallback)((function(){E(""),m();var e=b.current;e&&e.focus()}),[]),O=(0,r.useCallback)((function(){return m(g)}),[g,m]);return(0,r.useEffect)((function(){c.defaultValue&&f(c.defaultValue)}),[c.defaultValue]),(0,r.useEffect)((function(){g&&m(g)}),[u]),i().isEmpty(u)&&i().isEmpty(g)?null:o().createElement(vo,{defaultActive:c.defaultActive,divided:c.divided,title:c.title},c.searchable&&o().createElement(l.Input,{icon:g&&o().createElement(l.Icon,{link:!0,name:"times",onClick:w}),fluid:!0,onChange:function onChange(e,t){var n=t.value;return E(n)},onKeyDown:function onKeyDown(){return y.Timer.clearSearchTimer()},onKeyUp:function onKeyUp(){return y.Timer.setSearchTimer(O)},placeholder:S.t("FacetList.labels.search"),ref:b,value:g}),o().createElement(l.List,{className:"facet-list"},i().map(u,(function(e,t){return o().createElement(l.List.Item,{key:t},o().createElement(l.Checkbox,{checked:e.isRefined,label:{children:o().createElement(o().Fragment,null,o().createElement("span",null,e.label),o().createElement(l.Label,{circular:!0,content:e.count,size:"small"}))},onClick:function onClick(){return f(e.value)}}))}))),p&&o().createElement(o().Fragment,null,o().createElement(l.Icon,{name:d?"angle up":"angle down"}),o().createElement(Oo,{content:d?S.t("FacetList.buttons.showLess"):S.t("FacetList.buttons.showMore"),onClick:function onClick(){return h()}})))};ko.defaultProps=vo.defaultProps;var jo=ko,Po=__webpack_require__("../../node_modules/rc-slider/es/index.js"),Io=n.n(Po);__webpack_require__("../../node_modules/rc-slider/assets/index.css");var Ao=["useRangeSlider"];function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xo=function xo(e){var t,a=e.useRangeSlider,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ao),c=a(i),s=c.start,u=c.range,f=c.refine,p=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)([u.min,u.max]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return Do(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=p[0],m=p[1];return(0,r.useEffect)((function(){s[0]<=u.min&&s[1]>=u.max&&m([u.min,u.max])}),[u,s]),0===u.min&&0===u.max?null:o().createElement(vo,{defaultActive:i.defaultActive,divided:i.divided,title:i.title},o().createElement("div",{className:"facet-slider"},o().createElement("div",{className:"range-container"},o().createElement(Io(),{allowCross:!1,defaultValue:s,max:u.max,min:u.min,onAfterChange:function onAfterChange(e){return f(e)},onChange:function onChange(e){return m(e)},range:!0,value:d})),o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,null,d[0]),o().createElement(l.Grid.Column,{textAlign:"right"},d[1]))))};xo.defaultProps=vo.defaultProps;var To=xo,Mo=["useToggleRefinement"],Ro=function Ro(e){var t=e.useToggleRefinement,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Mo),r=t(n),a=r.value,i=a.isRefined,c=a.count,s=r.refine;return c?o().createElement(vo,{defaultActive:n.defaultActive,divided:n.divided,title:n.title},o().createElement(l.Checkbox,{checked:i,label:{children:o().createElement(l.Label,{circular:!0,content:c,size:"small"})},onClick:function onClick(){return s({isRefined:i})},toggle:!0})):null};Ro.defaultProps=vo.defaultProps;var No=Ro,Lo=["onSelection","multiple"];function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bo.apply(this,arguments)}var zo=function zo(e){var t=e.onSelection,n=e.multiple,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Lo),i=(0,r.useRef)();return o().createElement(o().Fragment,null,o().createElement(l.Button,Bo({},a,{onClick:function onClick(){return i.current&&i.current.click()}})),o().createElement("input",{ref:i,type:"file",multiple:n,onChange:function onChange(e){return t(function(e){for(var t=[],n=0;n<e.length;n+=1)t.push(e.item(n));return t}(e.target.files))},style:{display:"none"}}))};zo.defaultProps={multiple:!1};var Fo=zo;function _o(e){return _o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},_o(e)}function Ho(e,t){return Ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ho(e,t)}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(e)}var $o,Ko,Qo,Vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ho(e,t)}(u,e);var t,n,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qo(a);if(c){var n=qo(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function Go(e,t){if(t&&("object"===_o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={errors:null},t.fileInput=(0,r.createRef)(),t.filePattern=t.props.fileTypes&&new RegExp("(.*?)\\.".concat(t.props.fileTypes.join("|"),"$")),t}return t=u,(n=[{key:"onClickDropzone",value:function value(){this.fileInput.current.click()}},{key:"onDropFiles",value:function value(e){e.preventDefault();var t=this.toArray(e.dataTransfer.files);this.validate(t).length===t.length&&this.props.onFilesAdded(t)}},{key:"onFilesAdded",value:function value(e){e.preventDefault();var t=this.toArray(e.target.files);this.validate(t).length===t.length&&this.props.onFilesAdded(t)}},{key:"render",value:function value(){var e=this;return o().createElement("div",{className:"file-upload"},o().createElement(l.Message,{error:!0,header:S.t("Common.errors.title"),hidden:!(this.state.errors&&this.state.errors.length),visible:this.state.errors&&this.state.errors.length,onDismiss:function onDismiss(){return e.setState({errors:null})},list:this.state.errors}),o().createElement("div",{className:"file-dropzone",onClick:this.onClickDropzone.bind(this),onDragLeave:function onDragLeave(e){e.preventDefault()},onDragOver:function onDragOver(e){e.preventDefault()},onDrop:this.onDropFiles.bind(this),onKeyDown:function onKeyDown(){},role:"button",tabIndex:-1},o().createElement(l.Icon,{color:"blue",name:"cloud upload",size:"large"}),o().createElement("div",{className:"file-dropzone-text"},o().createElement(F.Trans,{i18nKey:"FileUpload.add"},o().createElement("span",{className:"link-text"},"Add files"),"or drop files here")),o().createElement("input",{ref:this.fileInput,className:"file-input",type:"file",multiple:!0,onChange:this.onFilesAdded.bind(this)})))}},{key:"toArray",value:function value(e){for(var t=[],n=0;n<e.length;n+=1)t.push(e.item(n));return t}},{key:"validate",value:function value(e){var t=this;if(!this.props.maxSize&&!this.props.fileTypes)return e;var n=[],r=[];return i().each(e,(function(e){var o=!0;t.props.maxSize&&e.size>t.props.maxSize&&(o=!1,r.push(S.t("FileUpload.errors.maxSize",{name:e.name}))),t.filePattern&&!e.name.match(t.filePattern)&&(o=!1,r.push(S.t("FileUpload.errors.fileType",{name:e.name,type:/[^.]+$/.exec(e.name)}))),o&&n.push(e)})),this.setState({errors:r}),n}}])&&function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Component);function Wo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yo="pending",Xo="processing",Jo="complete",Zo="error",ea=(Wo($o={},Xo,"black"),Wo($o,Jo,"green"),Wo($o,Zo,"red"),$o),ta=(Wo(Ko={},Yo,"clock outline"),Wo(Ko,Jo,"checkmark"),Wo(Ko,Zo,"warning circle"),Ko),na=(Wo(Qo={},Yo,"Pending"),Wo(Qo,Xo,"Processing"),Wo(Qo,Jo,"Complete"),Wo(Qo,Zo,"Error"),Qo),ra=function ra(e){var t=e.status,n=void 0===t?Yo:t,a=(0,r.useMemo)((function(){return ea[n]}),[n]),i=(0,r.useMemo)((function(){return ta[n]}),[n]),c=(0,r.useMemo)((function(){return na[n]}),[n]);return o().createElement(l.Label,{className:"file-upload-status",color:a},n===Xo&&o().createElement(l.Loader,{active:!0,inline:!0,inverted:!0,size:"mini"}),i&&o().createElement(l.Icon,{name:i}),c)},oa=function oa(e){var t=(0,r.useMemo)((function(){return e.completed>0&&e.completed===e.total}),[e.completed,e.total]),n=(0,r.useMemo)((function(){return e.total>0?e.completed/e.total:0}),[e.completed,e.total]),a=(0,r.useMemo)((function(){return Number(n).toLocaleString(void 0,{style:"percent",minimumFractionDigits:0})}),[n]);return o().createElement("div",{className:"file-upload-progress"},o().createElement(l.Icon,{color:"blue",name:"cloud upload",size:"big"}),o().createElement("div",{className:"progress-container"},o().createElement(l.Header,null,o().createElement(l.Header.Content,{content:a}),o().createElement(l.Header.Subheader,null,!(e.uploading||t)&&"Getting Started",e.uploading&&"Uploading...",t&&"Completed")),o().createElement(l.Progress,{color:"blue",percent:100*n})))};function aa(e){return aa="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},aa(e)}var ia=void 0;function la(){la=function la(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function l(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return{value:void 0,done:!0}}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var l=E(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u={};function f(){}function p(){}function d(){}var m={};l(m,o,(function(){return this}));var h=Object.getPrototypeOf,y=h&&h(h(C([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=d.prototype=f.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==aa(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=d,l(b,"constructor",d),l(d,"constructor",p),p.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(g.prototype),l(g.prototype,a,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new g(c(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function stop(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function abrupt(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function complete(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function finish(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),u}},catch:function _catch(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ca(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e){return function(e){if(Array.isArray(e))return ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ha(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||ha(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){if(e){if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ba="batch",Ea=function Ea(e){var t=ma((0,r.useState)([]),2),n=t[0],a=t[1],c=ma((0,r.useState)(0),2),s=c[0],u=c[1],f=ma((0,r.useState)(!1),2),p=f[0],d=f[1],m=ma((0,r.useState)({}),2),h=m[0],y=m[1],b=(0,r.useMemo)((function(){return!!i().find(n,(function(e){return!i().isEmpty(e.errors)}))}),[n]),v=(0,r.useMemo)((function(){return!!i().find(i().values(h),(function(e){return"error"===e}))}),[h]),g=(0,r.useCallback)((function(t){return a((function(n){return[].concat(da(n),da(i().map(t,e.onAddFile)))}))}),[]),E=(0,r.useCallback)((function(e,t,n,r){return a((function(o){return i().map(o,(function(o){var a;return o!==e?o:fa(fa({},o),{},(pa(a={},t,r.id),pa(a,n,r),pa(a,"errors",i().without(e.errors,t)),a))}))}))}),[]),w=(0,r.useCallback)((function(){return e.onSave(n).then((function(){return u(1)}))}),[n]),O=(0,r.useCallback)((function(){d(!1),e.closeOnComplete&&e.onClose()}),[e.closeOnComplete,e.onClose]),C=(0,r.useCallback)((function(e){return a((function(t){return i().filter(t,(function(t){return t!==e}))}))}),[]),k=(0,r.useCallback)((function(e,t){return y((function(n){return fa(fa({},n),{},pa({},e,t))}))})),j=(0,r.useCallback)(function sa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ca(a,r,o,i,l,"next",e)}function l(e){ca(a,r,o,i,l,"throw",e)}i(void 0)}))}}(la().mark((function t(){var r,o,a;return la().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=18;break}return o=n[r],k(r,"processing"),a=void 0,t.prev=5,t.next=8,e.onSave(o);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),a=t.t0;case 13:k(r,a?"error":"complete"),u((function(e){return e+1}));case 15:r+=1,t.next=1;break;case 18:return t.abrupt("return",Promise.resolve());case 19:case"end":return t.stop()}}),t,null,[[5,10]])}))),[n,e.onSave]),P=(0,r.useCallback)((function(e,t){return a((function(n){return i().map(n,(function(n){return n!==e?n:fa(fa(fa({},n),t),{},{errors:[]})}))}))}),[]),I=(0,r.useCallback)((function(e,t,n,r){var o=r.value;return a((function(n){return i().map(n,(function(n){var r;return n!==e?n:fa(fa({},n),{},(pa(r={},t,o),pa(r,"errors",i().without(e.errors,t)),r))}))}))}),[]),A=(0,r.useCallback)((function(e,t){return a((function(n){return i().map(n,(function(n){return n!==e?n:fa(fa({},n),t)}))}))}),[]),D=(0,r.useCallback)((function(t){var n=[];return i().each(i().keys(e.required),(function(e){var r=t[e];(i().isNumber(r)?i().isEmpty(r.toString()):i().isEmpty(r))&&n.push(e)})),fa(fa({},t),{},{errors:n})}),[e.required]),x=(0,r.useCallback)((function(){return new Promise((function(e,t){var r=!1,o=i().map(n,(function(e){var t=D(e);return i().isEmpty(t.errors)||(r=!0),t}));a(o),r?t():e()}))}),[n]),T=(0,r.useCallback)((function(){d(!0),x().then((function(){return e.strategy===ba?w():j()})).finally(O)}),[w,O,j,x,e.strategy]),M=(0,r.useCallback)((function(t,n){if(i().isEmpty(t.errors))return null;var r=i().isEmpty(t.name)?n:t.name,a=i().map(t.errors,(function(t){return e.required[t]})).join(", ");return o().createElement(l.Message.Item,{content:S.t("FileUploadModal.errors.required",{filename:r,fields:a}),key:n})}),[]),R=(0,r.useCallback)((function(t){return"single"!==e.strategy?null:o().createElement(ra,{status:h[t]})}),[h,e.strategy]),N=(0,r.useMemo)((function(){return e.headerComponent}),[e.headerComponent]),L=(0,r.useMemo)((function(){return e.itemComponent}),[e.itemComponent]);return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"serial-upload-modal",mountNode:t,open:!0},e.showPageLoader&&o().createElement(l.Dimmer,{active:p,inverted:!0},o().createElement(l.Loader,{content:S.t("FileUploadModal.loader")})),o().createElement(l.Modal.Header,null,e.strategy===ba&&S.t("FileUploadModal.title"),"single"===e.strategy&&o().createElement(oa,{completed:s,total:n.length,uploading:p})),o().createElement(l.Modal.Content,{scrolling:!0},b&&o().createElement(l.Message,{error:!0},o().createElement(l.Message.Header,{content:S.t("FileUploadModal.errors.header")}),o().createElement(l.Message.List,null,i().map(n,M))),v&&o().createElement(l.Message,{content:S.t("FileUploadModal.errors.upload.content"),header:S.t("FileUploadModal.errors.upload.header"),error:!0}),o().createElement(Vo,{onFilesAdded:g}),N&&o().createElement(N,{items:n,onSetItems:a,uploading:p}),o().createElement(l.Item.Group,{as:l.Form,divided:!0,noValidate:!0,relaxed:"very"},i().map(n,(function(t,n){return o().createElement(L,{isError:function isError(e){return i().contains(t.errors,e)},isRequired:function isRequired(t){return!(!e.required||!e.required[t])},item:t,key:n,onAssociationInputChange:E.bind(ia,t),onDelete:C.bind(ia,t),onSetState:P.bind(ia,t),onTextInputChange:I.bind(ia,t),onUpdate:A.bind(ia,t),renderStatus:R.bind(ia,n)})})))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:S.t("Common.buttons.upload"),disabled:p||s>0||i().isEmpty(n),icon:"cloud upload",loading:p&&!e.showPageLoader,onClick:T,primary:!0}),o().createElement(l.Button,{content:s>0?S.t("Common.buttons.close"):S.t("Common.buttons.cancel"),disabled:p,onClick:e.onClose})))}))};Ea.defaultProps={closeOnComplete:!0,strategy:ba,showPageLoader:!0};var wa=Ea,Oa=__webpack_require__("../../node_modules/@react-google-maps/api/dist/esm.js");function Sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ca(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ca(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ka=function ka(e){var t=y.Map.getPosition(e.position),n=Sa((0,r.useState)(t||e.defaultCenter),2),a=n[0],i=n[1],l=Sa((0,r.useState)(),2),c=l[0],s=l[1],u=(0,r.useMemo)((function(){return t?12:e.defaultZoom?e.defaultZoom:1}),[t,e.defaultZoom]),f=(0,r.useCallback)((function(t){var n=t.latLng;e.onDragEnd&&e.onDragEnd({lat:n.lat(),lng:n.lng()})}),[e.onDragEnd]),p=(0,r.useCallback)((function(e){return s(e)}),[]);return(0,r.useEffect)((function(){if(c&&t){var e=c.getBounds();e&&!e.contains(t)&&i(t)}}),[e.position]),o().createElement(Oa.GoogleMap,{center:a,mapContainerClassName:e.className,mapContainerStyle:e.containerStyle,onClick:f,onLoad:p,zoom:u},t&&o().createElement(Oa.Marker,{draggable:!!e.onDragEnd,onDragEnd:f,position:t,visible:!0}))};ka.defaultProps={containerStyle:{height:"400px"},defaultCenter:{lat:0,lng:0}};var ja=ka;function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ia=function Ia(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return Pa(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pa(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1],s=(0,r.useCallback)((function(){if(l){var t=i().first(l.getPlaces()),n=t.geometry.location,r=t.formatted_address,o=n.lat(),a=n.lng();e.onLocationSelection({name:r,lat:o,lng:a,result:t})}}),[l,e.onLocationSelection]);return o().createElement(Oa.StandaloneSearchBox,{onLoad:function onLoad(e){return c(e)},onPlacesChanged:s},e.children)},Aa=void 0;function Da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta=function Ta(e){var t=Da((0,r.useState)(0),2),n=t[0],a=t[1],c=Da((0,r.useState)(0),2),s=c[0],u=c[1],f=Da((0,r.useState)(0),2),p=f[0],d=f[1],m=Da((0,r.useState)(0),2),h=m[0],y=m[1],b=(0,r.useRef)(),v=(0,r.useMemo)((function(){return{flex:"0 0 ".concat(s/e.perPage-n,"px")}}),[s,n,e.perPage]),g=(0,r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];return t&&n.push(t),e&&n.push(e),n.join(" ")}),[]),E=(0,r.useCallback)((function(e){var t=b.current;if(t){var n=t.clientWidth,r=t.scrollWidth;u(n),y(Math.ceil(r/n)),e||d(0);var o=t.firstChild;if(o){var i=window.getComputedStyle(o),l=parseFloat(i.marginLeft)||0,c=parseFloat(i.marginRight)||0;a(l+c)}}}),[b,e.items]),w=(0,r.useCallback)((function(e){var t=p+e;t<0?t=h:t>=h&&(t=0),d(t)}),[p,h]);(0,r.useEffect)((function(){return window.addEventListener("resize",E),function(){return window.removeEventListener("resize",E)}}),[]),(0,r.useEffect)((function(){return E()}),[E,e.items]),(0,r.useEffect)((function(){var e=b.current;if(e){var t=e.scrollWidth;y(Math.ceil(t/s))}}),[s]),(0,r.useEffect)((function(){var e=b.current;e&&e.scrollTo({left:p*s,behavior:"smooth"})}),[p,s]);var O=(0,r.useCallback)((function(t){var n=e.renderImage(t);return i().isString(n)||!n?o().createElement(l.Image,{alt:t.alt,className:"image-placeholder",src:n,style:{objectFit:"cover"}}):n}),[e.renderImage]);return o().createElement("div",{className:g(e.className,"horizontal-cards")},o().createElement(l.Ref,{innerRef:b},o().createElement(l.Card.Group,{className:g(e.cardsClassName)},i().map(e.items,function(t,n){var r=o().createElement(l.Card,{className:g(e.cardClassName),link:!0,onClick:e.onClick&&e.onClick.bind(Aa,t,n),style:v},!e.inlineImage&&O(t),(e.renderHeader||e.renderMeta||e.renderDescription)&&o().createElement(l.Card.Content,null,e.inlineImage&&O(t),e.renderHeader&&o().createElement(l.Card.Header,{as:l.Header,size:"small"},e.renderHeader(t)),e.renderMeta&&o().createElement(l.Card.Meta,null,e.renderMeta(t)),e.renderDescription&&o().createElement(l.Card.Description,null,e.renderDescription(t))),e.renderExtra&&o().createElement(l.Card.Content,{extra:!0},e.renderExtra(t)));if(e.onDrag){var a=t.id||t.uid;r=o().createElement(Bn,{direction:"horizontal",id:a,index:n,item:t,key:a,onDrag:e.onDrag},r)}return r}.bind(Aa)))),o().createElement("div",{className:"button-container"},h>1&&o().createElement("div",{className:"pagination"},o().createElement(l.Button,{"aria-label":"Left",basic:!0,circular:!0,icon:"angle left",onClick:w.bind(Aa,-1)}),o().createElement(l.Button,{"aria-label":"Right",basic:!0,circular:!0,icon:"angle right",onClick:w.bind(Aa,1)}))))};Ta.defaultProps={perPage:4};var Ma=Ta,Ra=["onClose"],Na=function Na(e){var t=e.onClose,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ra);return o().createElement(l.Modal,{centered:!1,closeIcon:!0,onClose:t,open:!0},o().createElement(l.Modal.Content,null,o().createElement(y.IIIFViewer,n)))};function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ba(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var za=function za(e){var t=La((0,r.useState)(0),2),n=t[0],a=t[1],i=La((0,r.useState)(!0),2),c=i[0],s=i[1],u=(0,r.useMemo)((function(){var t;return e.images&&e.images.length>n&&(t=e.images[n]),t}),[n,e.images]),f=(0,r.useCallback)((function(t){var r=n+t;r>=0&&r<e.images.length&&(a(r),s(!1))}),[n,e.images]);return(0,r.useEffect)((function(){return document.body&&(document.body.style.overflow="hidden"),function(){document.body&&(document.body.style.overflow="auto")}}),[]),o().createElement(l.Dimmer,{active:!0,className:"image-carousel",page:!0},o().createElement(l.Grid,{padded:!0},o().createElement(l.Grid.Row,null,o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(l.Button,{icon:"times",onClick:e.onClose,size:"huge"}))),o().createElement(l.Grid.Row,{className:"image-content"},o().createElement(l.Grid.Column,null,e.images&&e.images.length>1&&o().createElement(l.Button,{disabled:0===n,icon:"chevron left",onClick:function onClick(){return f(-1)},size:"massive"})),o().createElement(l.Grid.Column,{className:"image-container"},!c&&o().createElement(l.Loader,{active:!0}),o().createElement(l.Transition,{animation:"fade",duration:500,visible:c},o().createElement(l.Image,{src:null==u?void 0:u.src,onLoad:function onLoad(){return s(!0)}}))),o().createElement(l.Grid.Column,null,e.images&&e.images.length>1&&o().createElement(l.Button,{disabled:n===e.images.length-1,icon:"chevron right",onClick:function onClick(){return f(1)},size:"massive"}))),o().createElement(l.Grid.Row,null,o().createElement(l.Grid.Column,{textAlign:"center"},null==u?void 0:u.caption))))};function Fa(e){return Fa="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Fa(e)}function _a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(n),!0).forEach((function(t){Ha(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ga.apply(this,arguments)}function Va(e,t){return Va=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Va(e,t)}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ka(e)}var Qa={list:0,grid:1};function Wa(e){return Wa="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Wa(e)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}function Za(e,t){return Za=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Za(e,t)}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ti(e)}var ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Za(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ti(r);if(a){var n=ti(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function ei(e,t){if(t&&("object"===Wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function Xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),c.apply(this,arguments)}return t=s,(n=[{key:"getActions",value:function value(e){return this.props.actions.filter((function(t){return!t.accept||t.accept(e)})).map((function(e){var t={};return"edit"===e.name?t={basic:!0,label:S.t("ItemList.actions.edit")}:"copy"===e.name?t={basic:!0,label:S.t("ItemList.actions.copy")}:"delete"===e.name&&(t={basic:!0,color:"red",label:S.t("ItemList.actions.delete")}),i().defaults(e,t)}))}},{key:"getClassName",value:function value(){var e=["item-list"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"getItemProps",value:function value(e){return this.props.asProps&&this.props.asProps(e)||{}}},{key:"isSelectable",value:function value(){return!!(this.props.selectable&&this.props.isRowSelected&&this.props.onRowSelect)}},{key:"render",value:function value(){return o().createElement("div",{className:this.getClassName()},this.renderList(),this.renderGrid(),this.renderEmptyList(),this.props.children)}},{key:"renderCard",value:function value(e,t){var n=this,r=this.getActions(e),a=o().createElement(l.Card,Ya({as:this.props.as,key:e.id||t,link:this.props.link},this.getItemProps(e)),this.props.renderImage&&this.props.renderImage(e),o().createElement(l.Card.Content,null,this.props.renderHeader&&o().createElement(l.Card.Header,null,this.props.renderHeader(e)),this.props.renderMeta&&o().createElement(l.Card.Meta,null,this.props.renderMeta(e)),this.props.renderDescription&&o().createElement(l.Card.Description,null,this.props.renderDescription(e))),this.props.renderExtra&&o().createElement(l.Card.Content,{extra:!0},this.props.renderExtra(e)),!i().isEmpty(r)&&o().createElement(l.Card.Content,{extra:!0,textAlign:"center"},i().map(r,(function(t,r){return o().createElement(l.Button,{"aria-label":t.name,basic:!0,color:t.resolveColor?t.resolveColor(e):t.color,icon:t.resolveIcon?t.resolveIcon(e):t.icon,key:r,onClick:t.onClick.bind(n,e)})})),this.isSelectable()&&o().createElement(l.Button,{"aria-label":"Select",basic:!0,color:this.props.isRowSelected&&this.props.isRowSelected(e)?"green":void 0,icon:"checkmark",onClick:this.props.onRowSelect&&this.props.onRowSelect.bind(this,e)})));return this.props.onDrag&&(a=o().createElement(Bn,{id:e.id||e.uid,index:t,item:e,key:e.id||e.uid,onDrag:this.props.onDrag.bind(this)},a)),a}},{key:"renderEmptyList",value:function value(){return this.props.loading||this.props.items&&this.props.items.length?null:this.props.renderEmptyList?this.props.renderEmptyList():o().createElement(l.Segment,{className:"empty-list",padded:"very",textAlign:"center"},o().createElement(l.Header,{icon:!0},o().createElement(l.Icon,{name:"file outline"})),this.props.renderEmptyMessage())}},{key:"renderGrid",value:function value(){return this.props.view===Qa.grid&&this.props.items&&this.props.items.length?o().createElement(l.Card.Group,null,i().map(this.props.items,this.renderCard.bind(this))):null}},{key:"renderItem",value:function value(e,t){var n=this,r=o().createElement(l.Item,Ya({as:this.props.as,key:e.id||t},this.getItemProps(e)),this.props.renderImage&&o().createElement(l.Item.Image,null,this.props.renderImage(e)),o().createElement(l.Item.Content,{className:"primary-content"},this.props.renderHeader&&o().createElement(l.Item.Header,null,this.props.renderHeader(e)),this.props.renderMeta&&o().createElement(l.Item.Meta,null,this.props.renderMeta(e)),this.props.renderDescription&&o().createElement(l.Item.Description,null,this.props.renderDescription(e)),this.props.renderExtra&&o().createElement(l.Item.Extra,null,this.props.renderExtra(e)),i().map(this.getActions(e),(function(t,r){return o().createElement(l.Button,{basic:t.basic,color:t.resolveColor?t.resolveColor(e):t.color,content:t.resolveName?t.resolveName(e):t.label,key:r,icon:t.resolveIcon?t.resolveIcon(e):t.icon,onClick:t.onClick.bind(n,e)})}))),this.props.renderAdditionalContent&&this.props.renderAdditionalContent(e),this.isSelectable()&&o().createElement("div",{className:"checkbox-container"},o().createElement(l.Checkbox,{checked:this.props.isRowSelected&&this.props.isRowSelected(e),onChange:this.props.onRowSelect&&this.props.onRowSelect.bind(this,e)})));return this.props.onDrag&&(r=o().createElement(Bn,{id:e.id||e.uid,index:t,item:e,key:e.id||e.uid,onDrag:this.props.onDrag.bind(this)},r)),r}},{key:"renderList",value:function value(){return this.props.view===Qa.list&&this.props.items&&this.props.items.length?o().createElement(l.Item.Group,{divided:!0,link:this.props.link,relaxed:"very"},i().map(this.props.items,this.renderItem.bind(this))):null}}])&&function Ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);ni.defaultProps={actions:[]};var ri=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Va(e,t)}(u,t);var n,r,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ka(a);if(c){var n=Ka(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function $a(e,t){if(t&&("object"===Fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={view:e.defaultView||Qa.list},t}return n=u,(r=[{key:"getSortValue",value:function value(){var e=i().find(this.props.sort,{value:this.props.sortColumn});return e&&e.text}},{key:"onSort",value:function value(e){var t;this.props.onSort&&(e.value!==this.props.sortColumn&&(t=e.direction),this.props.onSort(e.value,t))}},{key:"render",value:function value(){var t=this.props.hideToggle?void 0:this.renderHeader.bind(this);return o().createElement(e,Ga({},this.props,{renderListHeader:t,view:this.state.view}))}},{key:"renderHeader",value:function value(){var e=this;return this.props.hideToggle?null:o().createElement(o().Fragment,null,o().createElement(l.Button,{active:this.state.view===Qa.list,"aria-label":"List View",basic:!0,icon:"list",onClick:function onClick(){return e.setState({view:Qa.list})}}),o().createElement(l.Button,{active:this.state.view===Qa.grid,"aria-label":"Grid View",basic:!0,icon:"grid layout",onClick:function onClick(){return e.setState({view:Qa.grid})}}),this.props.sort&&this.props.sort.length>1&&this.props.onSort&&o().createElement(l.Button.Group,{basic:!0,style:{fontSize:"inherit"}},o().createElement(l.Button,{"aria-label":"Sort by",content:this.getSortValue(),icon:this.props.sortDirection===L?"sort alphabet up":"sort alphabet down",onClick:function onClick(t){return e.sortDropdown.handleClick(t)}}),o().createElement(l.Dropdown,{"aria-label":"Sort",className:"button icon",floating:!0,options:i().map(this.props.sort,(function(t){return Ua(Ua({},t),{},{onClick:e.onSort.bind(e,t)})})),ref:function ref(t){e.sortDropdown=t},trigger:o().createElement(o().Fragment,null),value:this.props.sortColumn})))}}])&&function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),u}(r.Component),t.defaultProps={hideToggle:!1,sort:[]},t}(Ie(ni));function oi(e){return oi="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},oi(e)}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ai.apply(this,arguments)}function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e,t){return ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ui(e,t)}function pi(e){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pi(e)}var di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ui(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pi(r);if(a){var n=pi(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function fi(e,t){if(t&&("object"===oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={page:1},t}return t=s,(n=[{key:"getClassName",value:function value(){var e=["item-collection"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"getItems",value:function value(){var e=this.state.page*this.props.perPage,t=this.props.items&&this.props.items.slice(0,e)||[];return i().filter(t,(function(e){return!e._destroy}))}},{key:"onBottomReached",value:function value(){var e=this;this.props.loading||this.setState((function(e){return{page:e.page+1}}),(function(){e.props.onBottomReached&&e.props.onBottomReached(e.state.page)}))}},{key:"onDelete",value:function value(e){return this.props.onDelete(e),Promise.resolve()}},{key:"onSave",value:function value(e){if(this.props.onSave){var t=e.uid?e.uid:v()();this.props.onSave(li(li({},e),{},{uid:t}))}return Promise.resolve()}},{key:"render",value:function value(){return o().createElement(y.InfiniteScroll,{context:this.props.context,offset:this.props.scrollOffset,onBottomReached:this.onBottomReached.bind(this)},o().createElement(ri,ai({},this.props,{items:this.getItems(),className:this.getClassName(),onDelete:this.onDelete.bind(this),onSave:this.onSave.bind(this)}),o().createElement(l.Loader,{active:this.props.loading,content:S.t("Common.messages.loading")})))}}])&&function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);di.defaultProps={addButton:{location:"top"},buttons:[],className:"",configurable:!0,modal:void 0,onCopy:void 0,onDrag:void 0,onSave:function onSave(){},perPage:Number.MAX_SAFE_INTEGER,renderDeleteModal:void 0,renderEmptyRow:void 0,scrollOffset:0};var mi=di,hi=void 0;function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yi.apply(this,arguments)}function bi(e){return function(e){if(Array.isArray(e))return vi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gi=z((function(e){(0,r.useEffect)((function(){var t=e.page,n=e.sortColumn,r=void 0===n?"":n,o=e.sortDirection,a=void 0===o?L:o;if(!r){var l=i().first(e.sort);l&&(r=l.value,l.direction&&(a=l.direction))}e.onSort(r,a,t)}),[]);var t=(0,r.useMemo)((function(){return e.isRowSelected&&e.items&&e.items.length&&i().every(e.items,e.isRowSelected.bind(hi))}),[e.items,e.isRowSelected]),n=(0,r.useCallback)((function(){var n;e.items&&e.isRowSelected&&e.onRowSelect&&(n=t?bi(e.items):i().reject(e.items,e.isRowSelected.bind(hi)),i().each(n,e.onRowSelect.bind(hi)))}),[t,e.isRowSelected,e.items,e.onRowSelect]);return o().createElement(o().Fragment,null,o().createElement(l.Dimmer,{active:e.loading,inverted:!0},o().createElement(l.Loader,{content:S.t("Common.messages.loading")})),o().createElement(ri,yi({},e,{buttons:[].concat(bi(e.buttons||[]),[{accept:function accept(){return e.selectable},color:"green",content:t?S.t("ItemList.buttons.deselectAll"):S.t("ItemList.buttons.selectAll"),icon:"checkmark",onClick:n.bind(hi)}])})))}));gi.defaultProps={filters:{},searchable:!0};var Ei=gi,wi=function wi(e){return o().createElement(o().Fragment,null,o().createElement("label",{className:"link-label",htmlFor:e.htmlFor},e.label),o().createElement(Oo,{content:e.content,onClick:e.onClick.bind(void 0)}))};function Oi(e){return Oi="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Oi(e)}function Ci(e,t){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ci(e,t)}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ji(e)}var Pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ci(e,t)}(c,e);var t,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ji(r);if(a){var n=ji(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function ki(e,t){if(t&&("object"===Oi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={showKeyboard:!1},t}return t=c,(n=[{key:"componentDidUpdate",value:function value(e){e.visible&&!this.props.visible&&this.setState({showKeyboard:!1})}},{key:"onInputChange",value:function value(e,t){this.props.onChange(e,t)}},{key:"onKeyboardChange",value:function value(e){this.props.onChange(null,{value:e})}},{key:"render",value:function value(){return o().createElement(l.Form.Field,{className:"keyboard-field"},o().createElement(l.Form.Input,{autoFocus:this.props.autoFocus,className:this.props.className,error:this.props.error,id:this.props.id,input:{"aria-label":this.props.name},label:this.renderLabel(),name:this.props.name,onChange:this.onInputChange.bind(this),required:this.props.required,value:this.props.value},this.props.children),o().createElement(l.Transition,{duration:{hide:50,show:500},visible:this.state.showKeyboard},o().createElement(l.Segment,null,o().createElement(y.Keyboard,{layout:this.props.layout,onChange:this.onKeyboardChange.bind(this),value:this.props.value,keyboardClass:this.props.name}))))}},{key:"renderLabel",value:function value(){var e=this;return o().createElement(wi,{content:this.state.showKeyboard?S.t("KeyboardField.labels.hideKeyboard"):S.t("KeyboardField.labels.showKeyboard"),htmlFor:this.props.name,label:this.props.label,onClick:function onClick(){return e.setState((function(e){return{showKeyboard:!e.showKeyboard}}))}})}}])&&function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component);Pi.defaultProps={autoFocus:!1,className:"",error:!1,id:""};var Ii=Pi;function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ri=function Ri(e){return function(t){var n=(0,r.useCallback)((function(){var e;t.onChange([].concat(function(e){if(Array.isArray(e))return Mi(e)}(e=t.items)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{}]))}),[t.items]),a=(0,r.useCallback)((function(e){t.onChange(i().reject(t.items,(function(t,n){return n===e})))}),[t.items]),l=(0,r.useCallback)((function(e,n,r,o){var a=o.value;t.onChange(i().map(t.items,(function(t,r){return r!==e?t:xi(xi({},t),{},Ti({},n,a))})))}),[t.items]);return o().createElement(e,Ai({},t,{onAddItem:n,onRemoveItem:a,onUpdateItem:l}))}},Ni=void 0,Li=Ri((function(e){return o().createElement("div",null,o().createElement(l.Button,{basic:!0,content:S.t("Common.buttons.add"),icon:"plus",onClick:e.onAddItem.bind(Ni),type:"button"}),o().createElement(l.Grid,{padded:"vertically"},i().map(e.items,(function(t,n){return o().createElement(l.Grid.Row,{columns:3},o().createElement(l.Grid.Column,{width:8},o().createElement(l.Input,{fluid:!0,onChange:e.onUpdateItem.bind(Ni,n,"key"),placeholder:S.t("KeyValuePairs.labels.key"),value:t.key})),o().createElement(l.Grid.Column,{width:7},o().createElement(l.Input,{fluid:!0,onChange:e.onUpdateItem.bind(Ni,n,"value"),placeholder:S.t("KeyValuePairs.labels.value"),value:t.value})),o().createElement(l.Grid.Column,{width:1},o().createElement(l.Button,{color:"red",icon:"trash",onClick:e.onRemoveItem.bind(Ni,n)})))})),i().isEmpty(e.items)&&o().createElement(l.Grid.Row,{columns:1},o().createElement(l.Grid.Column,null,S.t("Common.labels.noRecords")))))})),Bi=function Bi(e){return o().createElement(l.Image,{className:"lazy-loader",size:e.size},o().createElement(l.Loader,{active:e.active}))};Bi.defaultProps={active:!1,size:"small"};var zi=Bi;function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fi.apply(this,arguments)}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ui(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hi=function Hi(e){var t=_i((0,r.useState)(!1),2),n=t[0],a=t[1],i=_i((0,r.useState)(!1),2),c=i[0],s=i[1],u=_i((0,r.useState)(!e.preview),2),f=u[0],p=u[1],d=_i((0,r.useState)(!1),2),m=d[0],h=d[1],y=_i((0,r.useState)(!1),2),b=y[0],v=y[1];return b?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-audio",compact:!0,onBlur:function onBlur(){return a(!1)},onMouseEnter:function onMouseEnter(){return a(!0)},onMouseLeave:function onMouseLeave(){return a(!1)}},!f&&o().createElement(zi,{active:!0,size:e.size}),!c&&e.preview&&o().createElement(l.Image,Fi({},e.image,{onError:function onError(){s(!0),p(!0)},onLoad:function onLoad(){s(!1),p(!0)},size:e.size,src:e.preview})),(c||!e.preview)&&o().createElement(l.Image,Fi({},e.image,{className:"placeholder-image",size:e.size}),o().createElement(l.Icon,{name:"file audio outline",size:"big"})),(e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.src&&o().createElement(l.Button,{content:S.t("LazyAudio.buttons.play"),icon:"play circle outline",onClick:function onClick(){return h(!0)},primary:!0}),e.download&&o().createElement($r,{color:"green",filename:e.name,url:e.download}),e.children)))),e.src&&o().createElement(ft,{onClose:function onClose(){return h(!1)},open:m,size:"large",src:e.src})):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return v(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};Hi.defaultProps={dimmable:!0,duration:1e3,preview:void 0,size:"medium",src:void 0};var Gi=Hi,qi=__webpack_require__("../../node_modules/react-pdf/dist/esm/index.js");function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vi.apply(this,arguments)}function $i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ki(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}__webpack_require__("../../node_modules/react-pdf/dist/esm/Page/AnnotationLayer.css"),__webpack_require__("../../node_modules/react-pdf/dist/esm/Page/TextLayer.css"),qi.pdfjs.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(qi.pdfjs.version,"/build/pdf.worker.min.js");var Qi=function Qi(e){var t=$i((0,r.useState)(!1),2),n=t[0],a=t[1],i=$i((0,r.useState)(!1),2),c=i[0],s=i[1],u=$i((0,r.useState)(!e.preview),2),f=u[0],p=u[1],d=$i((0,r.useState)(!1),2),m=d[0],h=d[1],y=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return e&&t.push(e),f||t.push("hidden"),t.join(" ")}),[f]);return m?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-document",compact:!0,onBlur:function onBlur(){return a(!1)},onMouseEnter:function onMouseEnter(){return a(!0)},onMouseLeave:function onMouseLeave(){return a(!1)}},!f&&o().createElement(zi,{active:!0,size:e.size}),!c&&e.preview&&o().createElement(l.Image,Vi({},e.image,{className:y(),onError:function onError(){s(!0),p(!0)},onLoad:function onLoad(){s(!1),p(!0)},src:e.preview,size:e.size})),!c&&f&&!e.preview&&e.src&&e.pdf&&o().createElement(l.Image,Vi({},e.image,{className:y(),size:e.size}),o().createElement(qi.Document,{file:e.src,onLoadError:function onLoadError(e){return console.log(e.message)}},o().createElement(qi.Page,{pageNumber:1}))),(c||!e.preview&&!(e.src&&e.pdf))&&o().createElement(l.Image,Vi({},e.image,{className:y("placeholder-image"),size:e.size}),o().createElement(l.Icon,{name:"file alternate outline",size:"big"})),(e.download||e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.download&&o().createElement($r,{primary:!0,url:e.download||e.src}),e.children))))):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return h(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};Qi.defaultProps={dimmable:!0,duration:1e3,pdf:!1,preview:void 0,size:"medium",src:void 0};var Wi=Qi;function Yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xi=function Xi(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return Yi(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yi(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"photo-viewer",closeIcon:!0,mountNode:t,onClose:e.onClose.bind(void 0),open:e.open,size:e.size},o().createElement(l.Modal.Content,null,i&&o().createElement(l.Message,{content:S.t("PhotoViewer.errors.path.content",{path:e.image}),header:S.t("PhotoViewer.errors.path.header"),icon:"exclamation circle"}),!i&&o().createElement(l.Image,{alt:e.alt,fluid:!0,onError:function onError(){return c(!0)},src:e.image})))}))};Xi.defaultProps={size:"small"};var Ji=Xi;function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(this,arguments)}function el(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nl=function nl(e){var t=el((0,r.useState)(!1),2),n=t[0],a=t[1],i=el((0,r.useState)(!1),2),c=i[0],s=i[1],u=el((0,r.useState)(!(e.src||e.preview)),2),f=u[0],p=u[1],d=el((0,r.useState)(!1),2),m=d[0],h=d[1],y=el((0,r.useState)(!1),2),b=y[0],v=y[1],g=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return e&&t.push(e),f||t.push("hidden"),t.join(" ")}),[f]);return b?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-image",compact:!0,onBlur:function onBlur(){return a(!1)},onMouseEnter:function onMouseEnter(){return a(!0)},onMouseLeave:function onMouseLeave(){return a(!1)}},!f&&o().createElement(zi,{active:!0,size:e.size}),!c&&(e.preview||e.src)&&o().createElement(l.Image,Zi({},e.image,{className:g(),onError:function onError(){s(!0),p(!0)},onLoad:function onLoad(){s(!1),p(!0)},size:e.size,src:e.preview||e.src})),(c||!(e.preview||e.src))&&o().createElement(l.Image,Zi({},e.image,{className:g("placeholder-image"),size:e.size}),o().createElement(l.Icon,{name:"image",size:"big"})),(e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.src&&o().createElement(l.Button,{content:S.t("LazyImage.buttons.view"),icon:"photo",onClick:function onClick(){return h(!0)},primary:!0}),e.download&&o().createElement($r,{color:"green",filename:e.name,url:e.download}),e.children)))),e.src&&o().createElement(Ji,{image:e.src,onClose:function onClose(){return h(!1)},open:m,size:"large"})):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return v(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};nl.defaultProps={dimmable:!0,duration:1e3,size:"medium"};var rl=nl;function ol(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var al=function al(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return ol(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ol(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1],s=(0,r.useRef)();return(0,r.useEffect)((function(){if(s&&s.current&&e.placeholderAlt){var t=s.current.querySelector(".placeholder");t&&t.setAttribute("alt",e.placeholderAlt)}}),[s,e.placeholderAlt]),o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"video-player",closeIcon:!0,mountNode:t,onClose:e.onClose.bind(void 0),open:e.open,size:e.size},o().createElement(l.Modal.Content,null,i&&o().createElement(l.Message,{content:S.t("VideoPlayer.errors.path.content",{path:e.video}),header:S.t("VideoPlayer.errors.path.header"),icon:"exclamation circle"}),e.embedded&&o().createElement(l.Ref,{innerRef:s},o().createElement(l.Embed,{active:e.autoPlay,icon:e.icon,iframe:e.autoPlay?{allow:"autoplay"}:void 0,placeholder:e.placeholder,url:"".concat(e.video).concat(e.autoPlay?"?autoplay=true":"")})),!e.embedded&&o().createElement("video",{autoPlay:e.autoPlay,controls:!0,onError:function onError(){return c(!0)},src:e.video})))}))};al.defaultProps={autoPlay:!1,embedded:!1,icon:"right circle arrow",size:"small"};var il=al;function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ll.apply(this,arguments)}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ul=function ul(e){var t=cl((0,r.useState)(!1),2),n=t[0],a=t[1],i=cl((0,r.useState)(!1),2),c=i[0],s=i[1],u=cl((0,r.useState)(!(e.preview||e.src)),2),f=u[0],p=u[1],d=cl((0,r.useState)(!1),2),m=d[0],h=d[1],y=cl((0,r.useState)(!1),2),b=y[0],v=y[1],g=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];return e&&t.push(e),f||t.push("hidden"),t.join(" ")}),[f]);return b?o().createElement(o().Fragment,null,o().createElement(l.Transition,{duration:e.duration,visible:!0},o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"lazy-video",compact:!0,onBlur:function onBlur(){return a(!1)},onMouseEnter:function onMouseEnter(){return a(!0)},onMouseLeave:function onMouseLeave(){return a(!1)}},!f&&o().createElement(zi,{active:!0,size:e.size}),!c&&e.preview&&o().createElement(l.Image,ll({},e.image,{className:g(),onError:function onError(){s(!0),p(!0)},onLoad:function onLoad(){s(!1),p(!0)},src:e.preview,size:e.size})),!c&&!e.preview&&e.src&&o().createElement(l.Image,ll({},e.image,{className:g(),size:e.size}),o().createElement("video",{onError:function onError(){s(!0),p(!0)},onLoadedData:function onLoadedData(){s(!1),p(!0)},src:e.src})),(c||!e.preview&&!e.src)&&o().createElement(l.Image,ll({},e.image,{className:g("placeholder-image"),size:e.size}),o().createElement(l.Icon,{name:"image",size:"big"})),(e.src||e.children)&&e.dimmable&&o().createElement(l.Dimmer,{active:n},o().createElement("div",{className:"buttons"},e.src&&o().createElement(l.Button,{content:S.t("LazyVideo.buttons.play"),icon:"video",onClick:function onClick(){return h(!0)},primary:!0}),e.download&&o().createElement($r,{color:"green",filename:e.name,url:e.download}),e.children)))),e.src&&o().createElement(il,{autoPlay:e.autoPlay,embedded:e.embedded,icon:e.icon,onClose:function onClose(){return h(!1)},open:m,placeholder:e.preview,size:"large",video:e.src})):o().createElement(l.Visibility,{as:"span",fireOnMount:!0,onTopVisible:function onTopVisible(){return v(!0)}},o().createElement(l.Loader,{active:!0,inline:"centered",size:e.size}))};ul.defaultProps={autoPlay:!1,dimmable:!0,duration:1e3,embedded:!1,icon:"right circle arrow",size:"medium"};var fl=ul;function pl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hl="application/pdf",yl=["image/png","image/jpeg","image/gif","image/webp","image/bmp","video/m4v","video/mp4"],bl=function bl(e){var t=pl((0,r.useState)(e.contentType||""),2),n=t[0],a=t[1],c=pl((0,r.useState)(e.name),2),s=c[0],u=c[1],f=pl((0,r.useState)(e.preview),2),p=f[0],d=f[1],m=pl((0,r.useState)(e.src),2),h=m[0],y=m[1],b=(0,r.useMemo)((function(){var e;return s&&(e=(e=s.split(".").pop())&&e.toUpperCase()),e}),[s]),v=(0,r.useCallback)((function(t){var n=i().first(t);a(n.type),u(n.name),d(null),i().contains(yl,n.type)||n.type.startsWith("audio")||n.type===hl?y(URL.createObjectURL(n)):y(null),e.onUpload(n)}),[e.onUpload]),g=(0,r.useCallback)((function(){return o().createElement(o().Fragment,null,e.onUpload&&o().createElement(Fo,{color:"orange",content:S.t("Common.buttons.upload"),icon:"cloud upload",onSelection:v}),e.children)})),E=(0,r.useCallback)((function(){return n.startsWith("image")?o().createElement(rl,{dimmable:e.dimmable,download:e.downloadUrl,preview:p,src:h,size:e.size},g()):n.startsWith("video")?o().createElement(fl,{dimmable:e.dimmable,download:e.downloadUrl,preview:p,src:h,size:e.size},g()):n.startsWith("audio")?o().createElement(Gi,{dimmable:e.dimmable,download:e.downloadUrl,preview:p,src:h,size:e.size},g()):o().createElement(Wi,{dimmable:e.dimmable,download:e.downloadUrl,pdf:n===hl,preview:p,src:h,size:e.size},g())}),[n,p,h,e.dimmable,e.downloadUrl,e.size]),w=(0,r.useCallback)((function(){return b?o().createElement("div",null,o().createElement(l.Icon,{name:"info circle"}),o().createElement("span",null,o().createElement(F.Trans,{components:{bold:o().createElement("strong",null)},default:"Your <bold>{{type}}</bold> has been received",i18n:S,i18nKey:"LazyMedia.messages.uploaded",values:{type:b}}))):null}),[b]);return(0,r.useEffect)((function(){e.contentType&&a(e.contentType),e.name&&u(e.name),e.preview&&d(e.preview),e.src?y(e.src):y(null)}),[e.contentType,e.name,e.preview,e.src]),o().createElement("div",{className:"lazy-media"},E(),w())};bl.defaultProps={dimmable:!0,size:"medium"};var vl=bl,gl=["manifest","options"];function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wl=function wl(e){var t,a=e.manifest,c=e.options,s=void 0===c?{}:c,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,gl),f=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return El(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?El(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],d=f[1];return o().createElement(o().Fragment,null,o().createElement(vl,u,a&&o().createElement(l.Button,{color:u.color,content:u.content||S.t("Common.buttons.iiif"),icon:"images outline",onClick:function onClick(){return d(!0)}}),u.children),p&&o().createElement(Na,{manifestId:a,onClose:function onClose(){return d(!1)},options:i().defaults(s,{showIIIFBadge:!1})}))},Ol=function Ol(e){return o().createElement(l.Dimmer.Dimmable,{as:l.Segment,className:"listLoader",dimmed:e.active,style:{opacity:e.active?"0.8":"0"}},o().createElement(l.Dimmer,{active:e.active,inverted:!0},o().createElement(l.Loader,{content:S.t("Common.messages.loading")})))},Sl=void 0,Cl=function Cl(e){return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{as:l.Form,className:"login-modal",error:e.loginFailed,mountNode:t,open:e.open,size:"small",trigger:e.trigger},o().createElement(l.Header,{icon:"user circle",content:S.t("LoginModal.header")}),o().createElement(l.Message,{error:!0,header:S.t("LoginModal.loginErrorHeader"),content:S.t("LoginModal.loginErrorContent")}),o().createElement(l.Grid,{padded:"vertically",textAlign:"center"},o().createElement(l.Grid.Column,null,o().createElement(l.Grid.Row,null,o().createElement(l.Input,{autoFocus:!0,className:"form-field",icon:o().createElement(l.Icon,{name:"at"}),onChange:e.onUsernameChange.bind(Sl),placeholder:e.placeholder,size:"huge"})),o().createElement(l.Grid.Row,{className:"row"},o().createElement(l.Input,{className:"form-field",icon:o().createElement(l.Icon,{name:"lock"}),onChange:e.onPasswordChange.bind(Sl),placeholder:S.t("LoginModal.password"),size:"huge",type:"password"})))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{disabled:e.disabled,onClick:e.onLogin.bind(Sl),primary:!0,size:"large",type:"submit"},S.t("LoginModal.buttonLogin")),e.onClose&&o().createElement(l.Button,{basic:!0,onClick:e.onClose.bind(Sl),size:"large"},S.t("LoginModal.buttonCancel"))))}))};Cl.defaultProps={placeholder:S.t("LoginModal.email")};var kl=Cl;function jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Il=function Il(e){for(var t={},n=[],r=0;r<e.columns;r+=1)t["column".concat(r)]=[];for(var a=0;a<e.children.length;a+=1){var i=a%e.columns;t["column".concat(i)].push(o().createElement("div",{className:"itemContainer",key:a,style:{marginBottom:"".concat(e.gap,"px")}},e.children[a]))}for(var l=0;l<e.columns;l+=1)n.push(o().createElement("div",{className:"column",key:l,style:{marginLeft:"".concat(l>0?e.gap:0,"px")}},t["column".concat(l)]));return o().createElement("div",{className:"masonryGrid"},n)},Al=function Al(e){var t=jl((0,r.useState)(!1),2),n=t[0],a=t[1],i=jl((0,r.useState)(0),2),c=i[0],s=i[1];return(0,r.useEffect)((function(){s(175+Math.ceil(350*Math.random()))}),[]),o().createElement(l.Dimmer.Dimmable,{className:"item",dimmed:n,onClick:function onClick(){return e.onClick&&e.onClick(e.item)},onMouseEnter:function onMouseEnter(){return a(!0)},onMouseLeave:function onMouseLeave(){return a(!1)},style:{cursor:e.onClick?"pointer":void 0,height:"".concat(c,"px")}},o().createElement(l.Transition,{duration:800,visible:n},o().createElement(l.Dimmer.Inner,{active:n},o().createElement(l.Header,{content:e.item.title,inverted:!0,subheader:e.item.subtitle}),e.item.extra&&o().createElement("div",{className:"extraContainer"},e.item.extra))),o().createElement(l.Image,{alt:e.item.alt,className:"image",src:e.item.image}),e.renderContent&&e.renderContent(e.item))},Dl=function Dl(e){return o().createElement("div",{className:"masonry-grid"},o().createElement(l.Loader,{active:e.loading}),o().createElement("div",null,o().createElement(Il,{columns:e.columns,gap:e.gap},i().map(e.items,(function(t,n){return o().createElement(Al,{key:n,item:t,onClick:e.onClick,renderContent:e.renderContent})}))),e.pages>1&&e.onPageChange&&o().createElement(l.Segment,{basic:!0,textAlign:"center"},o().createElement(l.Pagination,{activePage:e.page,firstItem:null,lastItem:null,onPageChange:function onPageChange(t,n){var r=n.activePage;return e.onPageChange&&e.onPageChange(r)},totalPages:e.pages,size:"small"}))),!e.loading&&!(e.items&&e.items.length)&&e.renderEmpty&&e.renderEmpty())},xl=function xl(e){return o().createElement(l.Button,{className:"play-button",color:"black",icon:"play",onClick:function onClick(t){e.onClick&&(t.stopPropagation(),e.onClick())},size:e.size,style:e.style})};xl.defaultProps={onClick:void 0,size:"massive",style:void 0};var Tl=xl,Ml=function Ml(){return o().createElement("div",{className:"icon video-player-button"},o().createElement("div",null,o().createElement(Tl,null)))};function Rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nl=function Nl(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return Rl(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rl(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return o().createElement(l.Dimmer,{active:e.visible,className:"media-gallery mediaGallery",page:!0},e.loading&&o().createElement(l.Loader,{active:!0,size:"big"}),e.item&&o().createElement(o().Fragment,null,o().createElement(l.Transition,{animation:"fade",mountOnShow:!1},o().createElement("div",{className:"imageContainer"},o().createElement(l.Image,{src:e.item.image,style:{objectFit:"contain"}}),"video"===e.item.type&&o().createElement(Tl,{onClick:function onClick(){return c(!0)},style:{position:"absolute",top:"50%"}}))),e.renderContent&&e.renderContent(),e.onClose&&o().createElement("div",{className:"controls top right"},o().createElement(l.Button,{basic:!0,circular:!0,icon:"times",inverted:!0,onClick:e.onClose,size:"large"})),e.label&&o().createElement("div",{className:"controls top left"},o().createElement(l.Button,{basic:!0,content:e.label,inverted:!0,size:"large"})),e.onPrevious&&o().createElement("div",{className:"controls middle left"},o().createElement(l.Button,{basic:!0,disabled:!e.onPrevious,inverted:!0,icon:"angle left",onClick:e.onPrevious,size:"huge"})),e.onNext&&o().createElement("div",{className:"controls middle right"},o().createElement(l.Button,{basic:!0,disabled:!e.onNext,inverted:!0,icon:"angle right",onClick:e.onNext,size:"huge"})),e.item.src&&o().createElement(il,{autoPlay:!0,embedded:e.item.embedded,icon:o().createElement(Ml,null),onClose:function onClose(){return c(!1)},open:i,placeholder:e.item.preview,size:"huge",video:e.item.src})))};function Ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bl=function Bl(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return Ll(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ll(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],s=a[1];return(0,r.useEffect)((function(){for(var t=[],n=0;n<e.items.length&&t.length<5;n+=1)i().isEmpty(e.items[n].image)||t.push(e.items[n]);s(t)}),[e.items]),i().isEmpty(e.items)?null:o().createElement("div",{className:"mediaGrid"},o().createElement(l.Loader,{active:e.loading}),o().createElement("div",{className:"grid".concat(c.length)},i().map(c,(function(t,n){return o().createElement("div",{className:"mediaImage",key:n},o().createElement(l.Image,{onClick:function onClick(){return e.onClick&&e.onClick(t)},src:t.image,style:{cursor:e.onClick?"pointer":void 0,objectFit:"cover",width:"100%"}}))}))))},zl=function zl(e){return o().createElement(y.InfiniteScroll,{offset:100,onBottomReached:e.onBottomReached},o().createElement(Ol,{active:e.loading||!1}),o().createElement(l.Card.Group,{doubling:!0,stackable:!0},i().map(e.items,(function(t,n){return o().createElement(l.Card,{onClick:e.onClick.bind(void 0,t,n)},o().createElement(l.Image,{alt:t.alt,src:t.image,style:{objectFit:"cover"}}),"video"===t.type&&o().createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},o().createElement(Tl,null)),(e.renderMeta||e.renderHeader||e.renderDescription)&&o().createElement(l.Card.Content,null,e.renderHeader&&o().createElement(l.Card.Header,{content:e.renderHeader(t),textAlign:e.textAlign}),e.renderMeta&&o().createElement(l.Card.Meta,{content:e.renderMeta(t),textAlign:e.textAlign}),e.renderDescription&&o().createElement(l.Card.Description,{content:e.renderDescription(t),textAlign:e.textAlign})),e.renderExtra&&o().createElement(l.Card.Content,{content:e.renderExtra(t),extra:!0,textAlign:e.textAlign}))}))))};function Fl(e){return Fl="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Fl(e)}function Ul(e,t){return Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ul(e,t)}function Gl(e){return Gl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gl(e)}var ql=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ul(e,t)}(c,e);var t,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gl(r);if(a){var n=Gl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function Hl(e,t){if(t&&("object"===Fl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={modalVisible:!1},t}return t=c,(n=[{key:"onClose",value:function value(){this.setState({modalVisible:!1})}},{key:"render",value:function value(){var e=this;return o().createElement(o().Fragment,null,o().createElement(l.Dropdown,{className:"modal-dropdown",onClick:function onClick(){return e.setState({modalVisible:!0})},onSearchChange:function onSearchChange(){},open:!1,search:!0,searchInput:{"aria-label":"Search"},selection:!0,searchQuery:this.props.searchQuery||""}),o().createElement(l.Button.Group,null,o().createElement(l.Button,{basic:!0,content:S.t("Common.buttons.clear"),icon:"times",onClick:this.props.onClear.bind(this),type:"button"})),this.renderModal())}},{key:"renderModal",value:function value(){return this.props.renderModal({onClose:this.onClose.bind(this),open:this.state.modalVisible})}}])&&function _l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(r.Component),Vl=(0,F.withTranslation)()(ql);function $l(e){return $l="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},$l(e)}function Kl(e){return function(e){if(Array.isArray(e))return Ql(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ql(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yl(e,t){return Yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yl(e,t)}function Jl(e){return Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jl(e)}var Zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yl(e,t)}(u,e);var t,n,a,c,s=(a=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Jl(a);if(c){var n=Jl(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function Xl(e,t){if(t&&("object"===$l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=s.call(this,e)).state={loading:!1,options:[],page:1,pages:1,search:""},t.dropdown=(0,r.createRef)(),t}return t=u,(n=[{key:"componentDidMount",value:function value(){this.onReset()}},{key:"componentDidUpdate",value:function value(e){this.props.value!==e.value&&this.setState({page:1,pages:1,search:""},this.onSearch.bind(this))}},{key:"getClassNames",value:function value(){var e=["remote-dropdown"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"getValues",value:function value(){var e=[],t=this.props.value;return t&&t.length&&(e=Array.isArray(t)?t:[t]),e}},{key:"getOption",value:function value(e){return{key:e,text:e,value:e}}},{key:"getOptions",value:function value(){var e=this,t=Kl(this.state.options);i().each(this.getValues(),(function(n){i().findWhere(t,{value:n})||t.push(e.getOption(n))}));var n=this.state.search;return this.props.allowAdditions&&n&&!i().findWhere(t,{text:n})&&t.push({key:"add",value:"add",text:this.renderAddOption(),onClick:this.onAddItem.bind(this)}),this.state.page<this.state.pages&&t.push({key:"more",value:"more",text:this.renderLoadMoreOption(),onClick:function onClick(){return e.setState((function(e){return{page:e.page+1}}),e.onSearch.bind(e))}}),t}},{key:"getSearchOptions",value:function value(){var e=this;return i().filter(this.getOptions(),(function(t){return!e.getValues().includes(t.value)}))}},{key:"onAddItem",value:function value(e){var t=this;return this.props.onAddItem&&this.props.onAddItem(this.state.search).then((function(){var n=t.state.search;t.props.multiple&&(n=[].concat(Kl(t.props.value),[t.state.search])),t.onOptionSelection(e,{value:n}),t.props.multiple||t.dropdown.current.close()}))}},{key:"onOptionSelection",value:function value(e,t){var n=t.value;this.props.onSelection(n)}},{key:"onReset",value:function value(){this.setState({options:i().map(this.getValues(),this.getOption.bind(this)),page:1,pages:1,search:""})}},{key:"onSearch",value:function value(){var e=this,t=this.state,n=t.page,r=t.search;this.setState({loading:!0},(function(){e.props.onLoad({page:n,search:r}).then((function(t){var r=t.data,o=i().map(r[e.props.collectionName],e.props.renderOption.bind(e)),a=r.list.pages;e.setState((function(e){return{loading:!1,options:[].concat(Kl(n>1&&e.options||[]),Kl(o)),page:n,pages:a}}))}))}))}},{key:"onSearchChange",value:function value(e,t){var n=t.searchQuery;this.setState({page:1,pages:1,search:n})}},{key:"render",value:function value(){var e=this;return o().createElement(l.Dropdown,{className:this.getClassNames(),clearable:!0,fluid:this.props.fluid,loading:this.state.loading,multiple:this.props.multiple,onBlur:this.onReset.bind(this),onClose:this.onReset.bind(this),onChange:this.onOptionSelection.bind(this),onOpen:this.onSearch.bind(this),onSearchChange:this.onSearchChange.bind(this),options:this.getOptions(),placeholder:this.props.placeholder,ref:this.dropdown,scrolling:!0,search:function search(){return e.getSearchOptions()},searchInput:{"aria-label":"Search",className:"remote-dropdown-search-input",onKeyDown:y.Timer.clearSearchTimer.bind(this),onKeyUp:y.Timer.setSearchTimer.bind(this,this.onSearch.bind(this))},searchQuery:this.state.search,selectOnBlur:!1,selection:!0,value:this.props.value})}},{key:"renderAddOption",value:function value(){return o().createElement("div",{className:"extra-option"},o().createElement(l.Icon,{name:"plus circle"}),"".concat(S.t("RemoteDropdown.labels.add")," ").concat(this.state.search))}},{key:"renderLoadMoreOption",value:function value(){return o().createElement("div",{className:"extra-option"},o().createElement(l.Icon,{name:"refresh"}),S.t("RemoteDropdown.labels.loadMore"))}}])&&function Wl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Component);Zl.defaultProps={allowAdditions:!1,className:"",fluid:!1,multiple:!1,onAddItem:void 0,placeholder:null};var ec=Zl,tc=["useSearchBox"];function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(this,arguments)}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oc=function oc(e){var t,a=e.useSearchBox,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tc),s=a(c),u=s.query,f=s.refine,p=s.clear,d=s.isSearchStalled,m=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(u))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return rc(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rc(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=m[0],b=m[1],v=(0,r.useRef)(),g=(0,r.useCallback)((function(){b(""),p();var e=v.current;e&&e.focus()}),[p]),E=(0,r.useCallback)((function(){return f(h)}),[f,h]);return o().createElement(l.Input,nc({},c,{"aria-label":"Search",icon:o().createElement(l.Icon,{link:!i().isEmpty(u),name:i().isEmpty(u)?"search":"times",onClick:g}),input:{"aria-label":"search"},loading:d,onChange:function onChange(e,t){var n=t.value;return b(n)},onKeyDown:function onKeyDown(){return y.Timer.clearSearchTimer()},onKeyUp:function onKeyUp(){return y.Timer.setSearchTimer(E)},ref:v,type:"text",value:h}))},ac=["usePagination"],ic=function ic(e){var t=e.usePagination,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ac),a=t(n),i=a.currentRefinement,c=a.nbPages,s=a.refine,u=(0,r.useCallback)((function(e,t){var n=t.activePage;return s(n-1)}),[s]);return(0,r.useEffect)((function(){n.scrollToTop&&window.scroll({top:0,behavior:"smooth"})}),[i,n.scrollToTop]),0===c?null:o().createElement(l.Pagination,{activePage:i+1,onPageChange:u,totalPages:c})};ic.defaultProps={scrollToTop:!1};var lc=ic,cc=["useHits"],sc=function sc(e){var t=e.useHits,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,cc),r=t(n).hits,a=n.as,i=n.asProps,l=n.link,c=n.renderDescription,s=n.renderEmptyList,u=n.renderExtra,f=n.renderHeader,p=n.renderImage,d=n.renderMeta;return o().createElement(mi,{as:a,asProps:i,hideToggle:!0,items:r,link:l,renderDescription:c,renderEmptyList:s,renderExtra:u,renderHeader:f,renderImage:p,renderMeta:d})};sc.defaultProps={as:void 0,asProps:void 0,link:void 0,renderDescription:void 0,renderEmptyList:void 0,renderExtra:void 0,renderHeader:void 0,renderImage:void 0,renderMeta:void 0};var uc=sc,fc=function fc(e){var t=e.useHitsPerPage,n=e.options,r=t({items:i().map(n,(function(e,t){return{label:e,value:e,default:0===t}}))}),a=r.items,l=r.refine,c=i().findWhere(a,{isRefined:!0}).value;return o().createElement(U,{basic:!0,icon:"list",onChange:function onChange(e,t){return l(t.value)},options:i().map(a,(function(e){return{key:e.value,value:e.value,text:e.label}})),text:S.t("SearchResultsPerPage.labels.show",{value:c}),value:c})},pc=["useStats"],dc=function dc(e){var t=(0,e.useStats)(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,pc)),n=t.nbHits,r=(t.processingTimeMS/1e3).toFixed(2);return o().createElement("div",null,S.t("SearchStats.labels.results",{count:n,seconds:r}))},mc=function mc(e){return e.visible?o().createElement("div",{className:"section"},e.header&&o().createElement(l.Header,{content:e.header}),e.children,o().createElement(l.Divider,{hidden:!e.divided})):null};mc.defaultProps={divided:!0,header:void 0,visible:!0};var hc=mc,yc=void 0;function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(this,arguments)}function vc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||gc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gc(e,t){if(e){if("string"==typeof e)return Ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ec(e,t):void 0}}function Ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wc=z(Ie((function(e){(0,r.useEffect)((function(){e.onInit&&e.onInit()}),[]);var t=(0,r.useCallback)((function(t){return e.isSelected(t)?o().createElement(l.Icon,{color:"green",name:"check"}):null}),[e.selectedItems]),n=(0,r.useCallback)((function(){return i().isEmpty(e.items)?null:e.renderItems?e.renderItems({isSelected:e.isSelected,items:e.items,onSelect:e.onSelect}):o().createElement(l.Table,{basic:!0,padded:!0,selectable:!0},o().createElement(l.Table.Body,null,i().map(e.items,(function(n,r){return o().createElement(l.Table.Row,{key:r,onClick:e.onSelect.bind(yc,n)},o().createElement(l.Table.Cell,null,e.renderItem(n)),o().createElement(l.Table.Cell,null,t(n)))}))))}),[t,e.items,e.onSelect,e.renderItem]),a=(0,r.useCallback)((function(){return e.items&&e.items.length||e.loading?null:o().createElement(l.Grid,{className:"empty",padded:"vertically"},o().createElement(l.Grid.Column,{textAlign:"center"},o().createElement(l.Grid.Row,null,o().createElement(l.Icon,{name:"search",size:"huge"})),o().createElement(l.Grid.Row,null,S.t("Selectize.messages.noRecords"))))}),[e.items,e.loading]);return o().createElement(l.Grid,null,o().createElement(l.Grid.Column,{textAlign:"center"},e.renderHeader?e.renderHeader({onItemClick:e.onItemSelection.bind(yc),selectedItem:e.selectedItem,selectedItems:e.selectedItems}):o().createElement(Qe,{isSelected:function isSelected(t){return e.selectedItem===t},items:e.selectedItems,onItemClick:e.onItemSelection.bind(yc),renderItem:e.renderItem.bind(yc)}),n(),a()))}))),Oc=function Oc(e){var t=vc((0,r.useState)(!1),2),n=t[0],a=t[1],c=vc((0,r.useState)(),2),s=c[0],u=c[1],f=vc((0,r.useState)(e.selectedItems||[]),2),p=f[0],d=f[1],m=(0,r.useMemo)((function(){return!!e.multiple}),[e.multiple]),h=(0,r.useMemo)((function(){return i().isNumber(e.multiple)?e.multiple:Number.MAX_SAFE_INTEGER}),[e.multiple]),y=(0,r.useCallback)((function(e){return!!i().findWhere(p,{id:e.id},[p])})),b=(0,r.useCallback)((function(e){y(e)?d((function(t){return i().filter(t,(function(t){return t.id!==e.id}))})):m?p.length>=h?a(!0):d((function(t){return[].concat(function(e){if(Array.isArray(e))return Ec(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||gc(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]);var n})):d([e])}),[y,e.multiple]),v=(0,r.useCallback)((function(e){s===e?(u(null),b(e)):u(e)}),[s,b]),g=(0,r.useCallback)((function(t){return e.modal&&e.modal.onSave?e.modal.onSave(t).then((function(e){return b(e)})):Promise.resolve()}),[b,e.modal]);return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{as:l.Form,centered:e.centered,className:"selectize",mountNode:t,noValidate:!0,open:!0,size:"small"},o().createElement(l.Modal.Header,{content:e.title}),o().createElement(l.Modal.Content,null,o().createElement(l.Message,{content:S.t("Selectize.messages.maxSelected.content"),error:!0,header:S.t("Selectize.messages.maxSelected.header"),onDismiss:function onDismiss(){return a(!1)},visible:n}),o().createElement(wc,bc({},e,{actions:[],isSelected:y,onDelete:function onDelete(){return Promise.resolve()},onDeleteAll:function onDeleteAll(){return Promise.resolve()},onItemSelection:v,onSave:g,onSelect:b,selectedItem:s,selectedItems:p}))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{onClick:e.onSave.bind(yc,p),primary:!0,size:"medium",type:"submit"},S.t("Common.buttons.save")),o().createElement(l.Button,{basic:!0,onClick:e.onClose.bind(yc),size:"medium",type:"button"},S.t("Common.buttons.cancel"))))}))};Oc.defaultProps={centered:!1,modal:void 0,multiple:!0,searchable:!0,selectedItems:[]};var Sc=Oc;function kc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pc=function Pc(e){return o().createElement(l.Card,{raised:e.selected,link:!0,onClick:e.onClick},e.image&&i().isString(e.image)&&o().createElement(l.Image,{size:"small",src:e.image}),!!e.image&&!i().isString(e.image)&&e.image,!e.image&&o().createElement(l.Segment,{placeholder:!0},o().createElement(l.Icon,{name:"image",size:"large"})),o().createElement(l.Card.Content,null,e.header&&o().createElement(l.Card.Header,null,o().createElement(l.Header,{as:"h6",content:e.header})),e.meta&&o().createElement(l.Card.Meta,{content:e.meta}),e.description&&o().createElement(l.Card.Description,{content:e.description})),e.extra&&o().createElement(l.Card.Content,{extra:!0},e.extra),e.selected&&o().createElement(l.Card.Content,{extra:!0},o().createElement(l.Button,{basic:!0,circular:!0,compact:!0,icon:"times",onClick:e.onDelete})))};Pc.defaultProps={header:void 0,image:void 0,meta:void 0,renderExtra:void 0};var Ic=function Ic(e){var t=kc((0,r.useState)(1),2),n=t[0],a=t[1],c=kc((0,r.useState)(0),2),s=c[0],u=c[1],f=kc((0,r.useState)(!1),2),p=f[0],d=f[1],m=(0,r.useMemo)((function(){var t=null;if(n&&e.selectedItems&&e.selectedItems.length){var r=(n-1)*(e.perPage||5),o=r+(e.perPage||5);t=e.selectedItems.slice(r,o)}return t}),[n,e.perPage,e.selectedItems]),h=(0,r.useMemo)((function(){var t=(n-1)*(e.perPage||5),r=t+(e.perPage||5),o=e.selectedItems.length;return"".concat(t+1," - ").concat(Math.min(r,o)," of ").concat(o)}),[n,e.perPage,e.selectedItems]),y=(0,r.useCallback)((function(e){var t=n+e;t<1?t=s:t>s&&(t=1),a(t)}),[n,s]);return(0,r.useEffect)((function(){e.perPage&&e.selectedItems&&u(Math.ceil(e.selectedItems.length/e.perPage))}),[e.perPage,e.selectedItems]),(0,r.useEffect)((function(){(!m||!m.length)&&e.selectedItems&&e.selectedItems.length&&n>1&&a(n-1)}),[m,n,e.selectedItems]),i().isEmpty(m)?null:o().createElement(l.Segment,{className:"selectize-image-header"},o().createElement(l.Transition,{visible:!p},o().createElement("div",null,o().createElement("div",{className:"container"},o().createElement(l.Button,{basic:!0,circular:!0,disabled:s<=1,icon:"arrow left",onClick:y.bind(undefined,-1)}),o().createElement(l.Card.Group,{itemsPerRow:e.perPage},i().map(m,(function(t){return o().createElement(Pc,{description:e.renderDescription&&e.renderDescription(t),extra:e.renderExtra&&e.renderExtra(t),header:e.renderHeader&&e.renderHeader(t),image:e.renderImage&&e.renderImage(t),meta:e.renderMeta&&e.renderMeta(t),key:t.id,onClick:function onClick(){return e.selectedItem===t?e.onItemClick(null):e.onItemClick(t)},onDelete:function onDelete(){return e.onItemClick(t)},selected:t===e.selectedItem})}))),o().createElement(l.Button,{basic:!0,circular:!0,disabled:s<=1,icon:"arrow right",onClick:y.bind(undefined,1)})))),o().createElement("div",{className:"bottom-container"},o().createElement("div",null),o().createElement("div",null,h),o().createElement("div",null,e.collapsable&&o().createElement(l.Button,{as:"a",basic:!0,circular:!0,className:"link",compact:!0,content:p?S.t("Common.buttons.show"):S.t("Common.buttons.hide"),onClick:function onClick(){return d((function(e){return!e}))}}))))};Ic.defaultProps={collapsable:!0,onItemClick:function onItemClick(){},perPage:5,renderExtra:void 0};var Ac=Ic;function Dc(e){return Dc="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},Dc(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xc.apply(this,arguments)}function Mc(e,t){return Mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mc(e,t)}function Nc(e){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nc(e)}var Lc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mc(e,t)}(s,e);var t,n,r,a,c=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nc(r);if(a){var n=Nc(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function Rc(e,t){if(t&&("object"===Dc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={tab:null},t}return t=s,(n=[{key:"componentDidMount",value:function value(){var e=i().first(y.Element.findByType(this.props.children,s.Tab));this.setState({tab:e.props.name})}},{key:"getHeaderClasses",value:function value(){var e=["modal-header"];return this.props.inlineTabs&&e.push("inline-header"),e.join(" ")}},{key:"getModalClasses",value:function value(){var e=["tabbed-modal"];return this.props.className&&e.push(this.props.className),e.join(" ")}},{key:"render",value:function value(){var e=this,t=y.Element.findByType(this.props.children,s.Tab),n=i().find(t,(function(t){return t.props.name===e.state.tab}));return o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,xc({className:e.getModalClasses(),mountNode:t},i().omit(e.props,"header","renderHeader","inlineTabs","className")),o().createElement(l.Modal.Header,{className:e.getHeaderClasses()},e.renderHeader(),o().createElement(l.Menu,{float:"right",secondary:!0},i().map(y.Element.findByType(e.props.children,s.Tab),e.renderTab.bind(e)))),o().createElement(l.Modal.Content,null,n&&o().createElement("div",{key:n.props.name},n.props.children)),y.Element.findByType(e.props.children,l.Modal.Actions))}))}},{key:"renderHeader",value:function value(){return this.props.renderHeader?this.props.renderHeader():o().createElement(l.Header,{content:this.props.header})}},{key:"renderTab",value:function value(e){var t=this,n=e.props.name;return o().createElement(l.Menu.Item,{active:this.state.tab===n,key:n,name:n,onClick:function onClick(){return t.setState({tab:n})}},n)}}])&&function Tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component),Bc=function Bc(e){return e.children};Bc.displayName="Tab",Lc.Tab=Bc,Lc.defaultProps={className:void 0,inlineTabs:!0,renderHeader:void 0};var zc=Lc,Fc=function Fc(e){return o().createElement(l.Menu,{pointing:!0,secondary:!0},i().map(i().where(e.tabs,{visible:!0}),(function(t){return o().createElement(l.Menu.Item,{active:t.active,key:t.key,name:t.label,onClick:e.onTabClick.bind(void 0,t)})})))},_c=function _c(e){return o().createElement("div",{className:"tags-list"},i().map(e.tags||[],(function(t){return o().createElement(l.Label,{style:{backgroundColor:e.config&&e.config[t]&&e.config[t].background,color:e.config&&e.config[t]&&e.config[t].color,marginRight:"10px"}},t,e.onDelete&&o().createElement(l.Icon,{name:"delete",onClick:e.onDelete.bind(void 0,t)}))})))};function Uc(){return Uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uc.apply(this,arguments)}function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach((function(t){qc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $c=function $c(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return Vc(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1];return(0,r.useEffect)((function(){i||c(!0)}),[e.src]),o().createElement("div",null,o().createElement(l.Loader,{active:e.src&&i}),e.src&&o().createElement(l.Image,Uc({},e,{onLoad:function onLoad(){return c(!1)},style:Gc(Gc({},e.style),{},{visibility:i?"hidden":"visible"})})),!e.src&&o().createElement(rl,null))};$c.defaultProps={style:{}};var Kc=$c;function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qc.apply(this,arguments)}function Wc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xc=function Xc(e){var t=Wc((0,r.useState)(0),2),n=t[0],a=t[1],i=Wc((0,r.useState)(e.defaultInterval),2),c=i[0],s=i[1],u=Wc((0,r.useState)(0),2),f=u[0],p=u[1],d=Wc((0,r.useState)(!1),2),m=d[0],h=d[1],b=(0,r.useRef)(null);return(0,r.useEffect)((function(){b.current&&(b.current.currentTime=f)}),[f]),o().createElement(o().Fragment,null,o().createElement(l.Button,Qc({},e.button,{onClick:function onClick(){return h(!0)}})),o().createElement(ee.Consumer,null,(function(t){return o().createElement(l.Modal,{centered:!1,className:"video-frame-selector",mountNode:t,open:m,size:"small"},o().createElement(l.Modal.Header,{content:e.title}),o().createElement(l.Modal.Content,null,o().createElement(l.Segment,null,o().createElement("video",{crossOrigin:"anonymous",onLoadedMetadata:function onLoadedMetadata(){return b.current&&a(b.current.duration)},ref:b,src:e.src})),o().createElement(l.Grid,{columns:2},o().createElement(l.Grid.Column,null,o().createElement("div",null,o().createElement(l.Label,{content:S.t("VideoFrameSelector.labels.interval",{count:c})})),o().createElement(l.Input,{"aria-label":"Interval Selector",min:1,max:300,name:"duration",onChange:function onChange(e,t){var n=t.value;return s(Number(n))},step:1,type:"range",value:c})),o().createElement(l.Grid.Column,{textAlign:"right"},o().createElement(l.Button,{"aria-label":"Previous Frame",basic:!0,disabled:0===f,icon:"arrow left",onClick:function onClick(){return p(Math.max(f-c,0))}}),o().createElement(l.Button,{"aria-label":"Next Frame",basic:!0,disabled:f===n,icon:"arrow right",onClick:function onClick(){return p(Math.min(f+c,n))}})))),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{content:S.t("Common.buttons.ok"),primary:!0,onClick:function onClick(){var t=b.current;if(t&&y.Browser.isBrowser()){var n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0,n.width,n.height),n.toBlob((function(t){var n=new File([t],"test.png",{lastModified:(new Date).getTime(),type:t.type});e.onSelect(n),h(!1)}))}}}),o().createElement(l.Button,{basic:!0,content:S.t("Common.buttons.cancel"),onClick:function onClick(){return h(!1)}})))})))};Xc.defaultProps={button:{basic:!0,content:S.t("VideoFrameSelector.buttons.select"),icon:"image"},defaultInterval:15,title:S.t("VideoFrameSelector.title")};var Jc=(0,F.withTranslation)()(Xc),Zc=__webpack_require__("../../node_modules/react-syntax-highlighter/dist/esm/index.js"),es=n.n(Zc);function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(this,arguments)}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rs=function rs(e){var t,a=(2,function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),2!==a.length);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t)||function(e,t){if(e){if("string"==typeof e)return ns(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ns(e,2):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],c=a[1],s=e.opener.component,u=e.opener.props;return o().createElement(ee.Consumer,null,(function(t){return o().createElement(o().Fragment,null,o().createElement(s,ts({},u,{className:"view-xml-trigger",onClick:function onClick(){return c(!0)}})),o().createElement(l.Modal,{className:"view-xml-modal",closeIcon:!0,centered:!1,mountNode:t,open:i,onClose:function onClose(){return c(!1)}},o().createElement(l.Modal.Header,{content:S.t("ViewXML.title")}),o().createElement(l.Modal.Content,null,o().createElement(es(),{language:"xml",style:e.highlighter},e.xml)),o().createElement(l.Modal.Actions,null,o().createElement(l.Button,{basic:!0,content:S.t("Common.buttons.close"),onClick:function onClick(){return c(!1)}}))))}))};rs.defaultProps={opener:{component:l.Button,props:{content:S.t("ViewXML.buttons.view")}},style:{maxHeight:"70vh"}};var os=rs}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=function(t,n,o,a){if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var _e$u=_slicedToArray(e[u],3),l=(n=_e$u[0],o=_e$u[1],a=_e$u[2],!0),c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0,44:0};r.O.j=function(t){return 0===e[t]};var t=function t(_t2,n){var o,a,_n2=_slicedToArray(n,3),i=_n2[0],l=_n2[1],c=_n2[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var u=c(r)}for(_t2&&_t2(n);s<i.length;s++)a=i[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self.webpackChunk_performant_software_semantic_components=self.webpackChunk_performant_software_semantic_components||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[44],(function(){return r(562)}));o=r.O(o),module.exports=o}()},"?6bca":()=>{},"?a1ca":()=>{},"?8821":()=>{},"?23a8":()=>{},"?553e":()=>{},"?55b5":()=>{}}]);