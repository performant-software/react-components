import{r as a,j as g}from"./iframe-vd5jUnmh.js";import{r as u}from"./index.es28-C-vUsR_k.js";import{D as d}from"./Dropdown-C6akRp4P.js";import{_ as S}from"./index-default-C0I3bBxV.js";const b=[{isDefault:!1,name:"apa",title:"American Psychological Association 7th edition"},{isDefault:!1,name:"chicago-note-bibliography",title:"Chicago Manual of Style 17th edition (note)"},{isDefault:!0,name:"modern-language-association",title:"Modern Language Association 9th edition"},{isDefault:!1,name:"turabian-fullnote-bibliography",title:"Turabian 8th edition (full note)"}],x={coreCitationStyles:b},C=s=>{const[e,n]=a.useState(),[l,r]=a.useState({}),[o,p]=a.useState(),[m,f]=a.useState(),i=a.useMemo(()=>x.coreCitationStyles,[]),h=a.useCallback(t=>{const c=u.findWhere(i,{name:t});n(t),p(c?.title)},[i]),y=a.useMemo(()=>({name:e,title:o,xml:m}),[e,o,m]);return a.useEffect(()=>{if(!e){let t;s?t=u.findWhere(i,{name:s}):t=u.findWhere(i,{isDefault:!0}),h(t?.name)}},[i,s]),a.useEffect(()=>{e&&(u.has(l,e)?f(l[e]):fetch(`https://www.zotero.org/styles/${e}`).then(t=>t.text()).then(t=>{f(t),r(c=>({...c,[e]:t}))}))},[e,l]),{onStyleChange:h,style:y,styles:i}},w=s=>{const{onStyleChange:e,style:n,styles:l}=C(s.value);return a.useEffect(()=>{n?.name&&n?.xml&&s.onChange(n.name,n.xml)},[n]),g.jsx(d,{onChange:(r,{value:o})=>e(o),options:S.map(l,({name:r,title:o})=>({key:r,value:r,text:o})),search:!0,searchInput:{"aria-label":"Search styles"},selectOnBlur:!1,selection:!0,text:n?.title,value:n?.name||""})};w.__docgenInfo={description:"This component can be used, along with the `useCitationStyles` hook, to display a list of bibliographic styles\nsupported by Zotero.",methods:[],displayName:"StyleSelector",props:{onChange:{required:!0,flowType:{name:"signature",type:"function",raw:"(name: string, xml: string) => void",signature:{arguments:[{name:"name",type:{name:"string"}},{name:"xml",type:{name:"string"}}],return:{name:"void"}}},description:"Callback fired when the style selector is changed."},value:{required:!1,flowType:{name:"string"},description:"Default style value."}}};export{w as S};
