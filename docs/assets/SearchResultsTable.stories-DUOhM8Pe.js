import{j as x}from"./jsx-runtime-BTCK_S7S.js";import{r as v,a as Ra,R as U}from"./index-CBqU2yxZ.js";import{a as Pa,b as wa,c as _a}from"./react-icons.esm-C2HnYYYP.js";import{c as Ht}from"./clsx-B-dksMZM.js";import{_ as B}from"./extends-CCbyfPlC.js";import{$ as ni,h as $a,e as ii,a as Et,d as k,c as ai,g as Oa,i as ja,b as xa,j as Fa}from"./index-BOVMYYdP.js";import{$ as Ea,a as Ia,b as Lr}from"./index-DRE-Fy6J.js";import{c as si,$ as oi,d as Ta,e as Aa,l as Ca,g as Da,h as Na,i as Ha,a as Ua,j as La,b as Ma,f as Wa}from"./Combination-Cz09LwNY.js";import{h as Qa}from"./component-DZ72w8lP.js";import{g as Rr}from"./_commonjsHelpers-BosuxZz1.js";import{i as ka}from"./i18next-Sc0HEOoc.js";import{T as Ba,h as Pr}from"./TypesenseInstantsearchAdapter-DaLJenDz.js";import{E as Jt}from"./Environment-CqI-rGGB.js";import"./index-DZGZymok.js";import"./floating-ui.react-dom-CacSY337.js";import"./index-mmsaDusg.js";import"./toPropertyKey-hKuLU48H.js";import"./defineProperty-CCxoMnQV.js";import"./inherits-D5wXBZoG.js";import"./assertThisInitialized-B9jnkVVz.js";import"./setPrototypeOf-DgZC2w_0.js";import"./createClass-D2z1h_eG.js";import"./getPrototypeOf-BYVhAdwF.js";import"./defineProperty-CGC-R-Bs.js";import"./createClass-CyHhwgEe.js";import"./index-B7gOQl76.js";import"./___vite-browser-external_commonjs-proxy-DRaEfepn.js";import"./slicedToArray-w19uMldN.js";import"./unsupportedIterableToArray-CIVywHS6.js";import"./toConsumableArray-DevfzeUX.js";const Xt="7.15.3";function q(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var wr=q;q.prototype._events=void 0;q.prototype._maxListeners=void 0;q.defaultMaxListeners=10;q.prototype.setMaxListeners=function(e){if(!qa(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};q.prototype.emit=function(e){var t,r,n,i,a,s;if(this._events||(this._events={}),e==="error"&&(!this._events.error||Je(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(r=this._events[e],ci(r))return!1;if(ge(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Je(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};q.prototype.addListener=function(e,t){var r;if(!ge(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,ge(t.listener)?t.listener:t),this._events[e]?Je(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Je(this._events[e])&&!this._events[e].warned&&(ci(this._maxListeners)?r=q.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};q.prototype.on=q.prototype.addListener;q.prototype.once=function(e,t){if(!ge(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this};q.prototype.removeListener=function(e,t){var r,n,i,a;if(!ge(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||ge(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Je(r)){for(a=i;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};q.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],ge(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};q.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:ge(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};q.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(ge(t))return 1;if(t)return t.length}return 0};q.listenerCount=function(e,t){return e.listenerCount(t)};function ge(e){return typeof e=="function"}function qa(e){return typeof e=="number"}function Je(e){return typeof e=="object"&&e!==null}function ci(e){return e===void 0}const Va=Rr(wr);function Ka(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var ui=Ka,za=wr,Ga=ui;function pt(e,t,r){this.main=e,this.fn=t,this.recommendFn=r,this.lastResults=null,this.lastRecommendResults=null}Ga(pt,za);pt.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};pt.prototype.getModifiedState=function(e){return this.fn(e)};pt.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)};var Ja=pt;function Xa(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function Ya(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var _r={escapeFacetValue:Xa,unescapeFacetValue:Ya};function Za(e){return typeof e=="object"&&e!==null?$r(Array.isArray(e)?[]:{},e):e}function xt(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function $r(e,t){if(e===t)return e;for(var r in t)if(!(!Object.prototype.hasOwnProperty.call(t,r)||r==="__proto__"||r==="constructor")){var n=t[r],i=e[r];typeof i<"u"&&typeof n>"u"||(xt(i)&&xt(n)?e[r]=$r(i,n):e[r]=Za(n))}return e}function es(e){xt(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];xt(n)&&$r(e,n)}return e}var Or=es;function ts(e){return e&&Object.keys(e).length>0}var jr=ts;function rs(e,t){if(e===null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var xr=rs;function ke(e){e=e||{},this.params=e.params||[]}ke.prototype={constructor:ke,addParams:function(e){var t=this.params.slice();return t.push(e),new ke({params:t})},removeParams:function(e){return new ke({params:this.params.filter(function(t){return t.$$id!==e})})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter(function(r){return t[r.$$id]===void 0}).map(function(r){var n=Object.assign({},r,{indexName:e,threshold:r.threshold||0});return delete n.$$id,n})}};var li=ke;function Yt(e,t){this._state=e,this._rawResults={};var r=this;e.params.forEach(function(n){var i=n.$$id;r[i]=t[i],r._rawResults[i]=t[i]})}Yt.prototype={constructor:Yt};var fi=Yt,Pt=Or;function wt(e){return Object.keys(e).sort().reduce(function(t,r){return t[r]=e[r],t},{})}var M={_getQueries:function(t,r){var n=[];return n.push({indexName:t,params:M._getHitsSearchParams(r)}),r.getRefinedDisjunctiveFacets().forEach(function(i){n.push({indexName:t,params:M._getDisjunctiveFacetSearchParams(r,i)})}),r.getRefinedHierarchicalFacets().forEach(function(i){var a=r.getHierarchicalFacetByName(i),s=r.getHierarchicalRefinement(i),c=r._getHierarchicalFacetSeparator(a);if(s.length>0&&s[0].split(c).length>1){var u=s[0].split(c).slice(0,-1).reduce(function(l,f,h){return l.concat({attribute:a.attributes[h],value:h===0?f:[l[l.length-1].value,f].join(c)})},[]);u.forEach(function(o,l){var f=M._getDisjunctiveFacetSearchParams(r,o.attribute,l===0);function h(d){return a.attributes.some(function(g){return g===d.split(":")[0]})}var p=(f.facetFilters||[]).reduce(function(d,g){if(Array.isArray(g)){var y=g.filter(function(b){return!h(b)});y.length>0&&d.push(y)}return typeof g=="string"&&!h(g)&&d.push(g),d},[]),m=u[l-1];l>0?f.facetFilters=p.concat(m.attribute+":"+m.value):p.length>0?f.facetFilters=p:delete f.facetFilters,n.push({indexName:t,params:f})})}}),n},_getCompositionQueries:function(t){return[{compositionID:t.index,requestBody:{params:M._getCompositionHitsSearchParams(t)}}]},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(M._getHitsHierarchicalFacetsAttributes(e)).sort(),r=M._getFacetFilters(e),n=M._getNumericFilters(e),i=M._getTagFilters(e),a={};return t.length>0&&(a.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n),wt(Pt({},e.getQueryParams(),a))},_getCompositionHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets.map(function(c){return"disjunctive("+c+")"})).concat(M._getHitsHierarchicalFacetsAttributes(e)).sort(),r=M._getFacetFilters(e),n=M._getNumericFilters(e),i=M._getTagFilters(e),a={};t.length>0&&(a.facets=t.indexOf("*")>-1?["*"]:t),i.length>0&&(a.tagFilters=i),r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n);var s=e.getQueryParams();return delete s.highlightPreTag,delete s.highlightPostTag,delete s.index,wt(Pt({},s,a))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=M._getFacetFilters(e,t,r),i=M._getNumericFilters(e,t),a=M._getTagFilters(e),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var c=e.getHierarchicalFacetByName(t);return c?s.facets=M._getDisjunctiveHierarchicalFacetAttribute(e,c,r):s.facets=t,i.length>0&&(s.numericFilters=i),n.length>0&&(s.facetFilters=n),wt(Pt({},e.getQueryParams(),s))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];t!==n&&s.forEach(function(c){if(Array.isArray(c)){var u=c.map(function(o){return n+a+o});r.push(u)}else r.push(n+a+c)})})}),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach(function(u){var o=i[u]||[];o.slice().sort().forEach(function(l){n.push(u+":"+l)})});var a=e.facetsExcludes||{};Object.keys(a).sort().forEach(function(u){var o=a[u]||[];o.sort().forEach(function(l){n.push(u+":-"+l)})});var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).sort().forEach(function(u){var o=s[u]||[];if(!(u===t||!o||o.length===0)){var l=[];o.slice().sort().forEach(function(f){l.push(u+":"+f)}),n.push(l)}});var c=e.hierarchicalFacetsRefinements||{};return Object.keys(c).sort().forEach(function(u){var o=c[u]||[],l=o[0];if(l!==void 0){var f=e.getHierarchicalFacetByName(u),h=e._getHierarchicalFacetSeparator(f),p=e._getHierarchicalRootPath(f),m,d;if(t===u){if(l.indexOf(h)===-1||!p&&r===!0||p&&p.split(h).length===l.split(h).length)return;p?(d=p.split(h).length-1,l=p):(d=l.split(h).length-2,l=l.slice(0,l.lastIndexOf(h))),m=f.attributes[d]}else d=l.split(h).length-1,m=f.attributes[d];m&&n.push([m+":"+l])}}),n},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(n,i){var a=e.getHierarchicalRefinement(i.name)[0];if(!a)return n.push(i.attributes[0]),n;var s=e._getHierarchicalFacetSeparator(i),c=a.split(s).length,u=i.attributes.slice(0,c+1);return n.concat(u)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(r===!0){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var s=e.getHierarchicalRefinement(t.name)[0]||"",c=s.split(n).length-1;return t.attributes.slice(0,c+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,a={facetQuery:t,facetName:e};return typeof r=="number"&&(a.maxFacetHits=r),wt(Pt({},M._getHitsSearchParams(i),a))}},ns=M,Fr=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})},vt=function(t,r){if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}};function is(e,t){return e.filter(function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n})}var as=is;function di(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(di);throw new Error("The value should be a number, a parsable string or an array of those.")}var ss=di,os=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},cs=Fr,us=jr,ls=xr,Oe={addRefinement:function(t,r,n){if(Oe.isRefined(t,r,n))return t;var i=""+n,a=t[r]?t[r].concat(i):[i],s={};return s[r]=a,cs(s,t)},removeRefinement:function(t,r,n){if(n===void 0)return Oe.clearRefinement(t,function(a,s){return r===s});var i=""+n;return Oe.clearRefinement(t,function(a,s){return r===s&&i===a})},toggleRefinement:function(t,r,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return Oe.isRefined(t,r,n)?Oe.removeRefinement(t,r,n):Oe.addRefinement(t,r,n)},clearRefinement:function(t,r,n){if(r===void 0)return us(t)?{}:t;if(typeof r=="string")return ls(t,[r]);if(typeof r=="function"){var i=!1,a=Object.keys(t).reduce(function(s,c){var u=t[c]||[],o=u.filter(function(l){return!r(l,c,n)});return o.length!==u.length&&(i=!0),s[c]=o,s},{});return i?a:t}},isRefined:function(t,r,n){var i=!!t[r]&&t[r].length>0;if(n===void 0||!i)return i;var a=""+n;return t[r].indexOf(a)!==-1}},fs=Oe,Ut=Fr,hi=vt,Mr=as,Zt=Or,er=jr,Wr=xr,Lt=ss,ds=os,H=fs;function Er(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(r,n){return Er(t[n],r)}):e===t}function hs(e,t){return hi(e,function(r){return Er(r,t)})}function Y(e){var t=e?Y._parseNumbers(e):{};t.userToken!==void 0&&!ds(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach(function(n){var i=Y.PARAMETERS.indexOf(n)!==-1,a=t[n]!==void 0;!i&&a&&(r[n]=t[n])})}Y.PARAMETERS=Object.keys(new Y);Y._parseNumbers=function(e){if(e instanceof Y)return e;var t={},r=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(r.forEach(function(i){var a=e[i];if(typeof a=="string"){var s=parseFloat(a);t[i]=isNaN(s)?a:s}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach(function(i){var a=e.numericRefinements[i]||{};n[i]={},Object.keys(a).forEach(function(s){var c=a[s],u=c.map(function(o){return Array.isArray(o)?o.map(function(l){return typeof l=="string"?parseFloat(l):l}):typeof o=="string"?parseFloat(o):o});n[i][s]=u})}),t.numericRefinements=n}return Zt(e,t)};Y.make=function(t){var r=new Y(t),n=t.hierarchicalFacets||[];return n.forEach(function(i){if(i.rootPath){var a=r.getHierarchicalRefinement(i.name);a.length>0&&a[0].indexOf(i.rootPath)!==0&&(r=r.clearRefinements(i.name)),a=r.getHierarchicalRefinement(i.name),a.length===0&&(r=r.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),r};Y.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&er(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):er(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Y.prototype={constructor:Y,clearRefinements:function(t){var r={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:H.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:H.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:H.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:H.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,r){var n=Lt(r);if(this.isNumericRefined(e,t,n))return this;var i=Zt({},this.numericRefinements);return i[e]=Zt({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,r){var n=r;return n!==void 0?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===e&&i.op===t&&Er(i.val,Lt(n))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===e&&i.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,a){return a===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return er(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return Wr(this.numericRefinements,[t]);if(typeof t=="function"){var r=!1,n=this.numericRefinements,i=Object.keys(n).reduce(function(a,s){var c=n[s],u={};return c=c||{},Object.keys(c).forEach(function(o){var l=c[o]||[],f=[];l.forEach(function(h){var p=t({val:h,op:o},s,"numeric");p||f.push(h)}),f.length!==l.length&&(r=!0),u[o]=f}),a[s]=u,a},{});return r?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return H.isRefined(this.facetsRefinements,t,r)?this:this.setQueryParameters({facetsRefinements:H.addRefinement(this.facetsRefinements,t,r)})},addExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return H.isRefined(this.facetsExcludes,t,r)?this:this.setQueryParameters({facetsExcludes:H.addRefinement(this.facetsExcludes,t,r)})},addDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return H.isRefined(this.disjunctiveFacetsRefinements,t,r)?this:this.setQueryParameters({disjunctiveFacetsRefinements:H.addRefinement(this.disjunctiveFacetsRefinements,t,r)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(r)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(r){return r!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(r){return r!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(r){return r.name!==t})}):this},removeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return H.isRefined(this.facetsRefinements,t,r)?this.setQueryParameters({facetsRefinements:H.removeRefinement(this.facetsRefinements,t,r)}):this},removeExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return H.isRefined(this.facetsExcludes,t,r)?this.setQueryParameters({facetsExcludes:H.removeRefinement(this.facetsExcludes,t,r)}):this},removeDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return H.isRefined(this.disjunctiveFacetsRefinements,t,r)?this.setQueryParameters({disjunctiveFacetsRefinements:H.removeRefinement(this.disjunctiveFacetsRefinements,t,r)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.filter(function(n){return n!==t})};return this.setQueryParameters(r)},toggleRefinement:function(t,r){return this.toggleFacetRefinement(t,r)},toggleFacetRefinement:function(t,r){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,r);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,r);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,r);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:H.toggleRefinement(this.facetsRefinements,t,r)})},toggleExcludeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:H.toggleRefinement(this.facetsExcludes,t,r)})},toggleDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:H.toggleRefinement(this.disjunctiveFacetsRefinements,t,r)})},toggleHierarchicalFacetRefinement:function(t,r){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},a=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===r||this.hierarchicalFacetsRefinements[t][0].indexOf(r+n)===0);return a?r.indexOf(n)===-1?i[t]=[]:i[t]=[r.slice(0,r.lastIndexOf(n))]:i[t]=[r],this.setQueryParameters({hierarchicalFacetsRefinements:Ut(i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Ut(r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Ut(t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,r){return this.isConjunctiveFacet(t)?H.isRefined(this.facetsRefinements,t,r):!1},isExcludeRefined:function(t,r){return this.isConjunctiveFacet(t)?H.isRefined(this.facetsExcludes,t,r):!1},isDisjunctiveFacetRefined:function(t,r){return this.isDisjunctiveFacet(t)?H.isRefined(this.disjunctiveFacetsRefinements,t,r):!1},isHierarchicalFacetRefined:function(t,r){if(!this.isHierarchicalFacet(t))return!1;var n=this.getHierarchicalRefinement(t);return r?n.indexOf(r)!==-1:n.length>0},isNumericRefined:function(t,r,n){if(n===void 0&&r===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][r]!==void 0;if(n===void 0||!i)return i;var a=Lt(n),s=hs(this.numericRefinements[t][r],a)!==void 0;return i&&s},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,r=Mr(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(t.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return t.disjunctiveFacetsRefinements[n].length>0}).concat(r).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var t=this;return Mr(this.hierarchicalFacets.map(function(r){return r.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(r){return t.hierarchicalFacetsRefinements[r].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,r={},n=this;return Object.keys(this).forEach(function(i){var a=n[i];t.indexOf(i)===-1&&a!==void 0&&(r[i]=a)}),r},setQueryParameter:function(t,r){if(this[t]===r)return this;var n={};return n[t]=r,this.setQueryParameters(n)},setQueryParameters:function(t){if(!t)return this;var r=Y.validate(this,t);if(r)throw r;var n=this,i=Y._parseNumbers(t),a=Object.keys(this).reduce(function(c,u){return c[u]=n[u],c},{}),s=Object.keys(i).reduce(function(c,u){var o=c[u]!==void 0,l=i[u]!==void 0;return o&&!l?Wr(c,[u]):(l&&(c[u]=i[u]),c)},a);return new this.constructor(s)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return hi(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n=t.split(r);return n.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var mi=Y,ms=function(t){return Array.isArray(t)?t.filter(Boolean):[]},ps=function(t,r){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(r(t[n]))return n;return-1},vs=vt,pi=function(t,r){var n=(r||[]).map(function(i){return i.split(":")});return t.reduce(function(a,s){var c=s.split(":"),u=vs(n,function(o){return o[0]===c[0]});return c.length>1||!u?(a[0].push(c[0]),a[1].push(c[1]),a):(a[0].push(u[0]),a[1].push(u[1]),a)},[[],[]])};function gs(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(t,r){return Object.keys(Object(r)).forEach(function(n){var i=typeof t[n]=="number"?t[n]:0,a=r[n];a!==void 0&&a>=i&&(t[n]!==void 0&&delete t[n],t[n]=a)}),t},{})}var ys=gs;function bs(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=t!==void 0,a=t===null;if(!a&&e>t||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}function Ss(e,t,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var n=e.map(function(i,a){return{criteria:t.map(function(s){return i[s]}),index:a,value:i}});return n.sort(function(a,s){for(var c=-1;++c<a.criteria.length;){var u=bs(a.criteria[c],s.criteria[c]);if(u)return c>=r.length?u:r[c]==="desc"?-u:u}return a.index-s.index}),n.map(function(i){return i.value})}var vi=Ss,Rs=js,gi=_r,Ps=vt,ws=pi,_s=vi,$s=gi.escapeFacetValue,Os=gi.unescapeFacetValue;function js(e){return function(r,n){var i=e.hierarchicalFacets[n],a=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",s=e._getHierarchicalFacetSeparator(i),c=e._getHierarchicalRootPath(i),u=e._getHierarchicalShowParentLevel(i),o=ws(e._getHierarchicalFacetSortBy(i)),l=r.every(function(p){return p.exhaustive}),f=xs(o,s,c,u,a),h=r;return c&&(h=r.slice(c.split(s).length)),h.reduce(f,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:l,data:null})}}function xs(e,t,r,n,i){return function(s,c,u){var o=s;if(u>0){var l=0;for(o=s;l<u;){var f=o&&Array.isArray(o.data)?o.data:[];o=Ps(f,function(p){return p.isRefined}),l++}}if(o){var h=Object.keys(c.data).map(function(p){return[p,c.data[p]]}).filter(function(p){var m=p[0];return Fs(m,o.path||r,i,t,r,n)});o.data=_s(h.map(function(p){var m=p[0],d=p[1];return Es(d,m,t,Os(i),c.exhaustive)}),e[0],e[1])}return s}}function Fs(e,t,r,n,i,a){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(n)===-1||i&&e.split(n).length-i.split(n).length===1||e.indexOf(n)===-1&&r.indexOf(n)===-1||r.indexOf(e)===0||e.indexOf(t+n)===0&&(a||e.indexOf(r)===0)}function Es(e,t,r,n,i){var a=t.split(r);return{name:a[a.length-1].trim(),path:t,escapedValue:$s(t),count:e,isRefined:n===t||n.indexOf(t+r)===0,exhaustive:i,data:null}}var Mt=ms,ze=Fr,yi=_r,oe=vt,He=ps,Is=pi,Qr=ys,bi=vi,kr=yi.escapeFacetValue,Si=yi.unescapeFacetValue,Ts=Rs;function Br(e){var t={};return e.forEach(function(r,n){t[r]=n}),t}function Wt(e,t,r){t&&t[r]&&(e.stats=t[r])}function As(e,t){return oe(e,function(n){var i=n.attributes||[];return i.indexOf(t)>-1})}function Re(e,t,r){var n=t[0]||{};this._rawResults=t;var i=this;Object.keys(n).forEach(function(f){i[f]=n[f]});var a=ze(r,{persistHierarchicalRootCount:!1});Object.keys(a).forEach(function(f){i[f]=a[f]}),this.processingTimeMS=t.reduce(function(f,h){return h.processingTimeMS===void 0?f:f+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var s=e.getRefinedDisjunctiveFacets(),c=Br(e.facets),u=Br(e.disjunctiveFacets),o=1,l=n.facets||{};Object.keys(l).forEach(function(f){var h=l[f],p=As(e.hierarchicalFacets,f);if(p){var m=p.attributes.indexOf(f),d=He(e.hierarchicalFacets,function(P){return P.name===p.name});i.hierarchicalFacets[d][m]={attribute:f,data:h,exhaustive:n.exhaustiveFacetsCount}}else{var g=e.disjunctiveFacets.indexOf(f)!==-1,y=e.facets.indexOf(f)!==-1,b;g&&(b=u[f],i.disjunctiveFacets[b]={name:f,data:h,exhaustive:n.exhaustiveFacetsCount},Wt(i.disjunctiveFacets[b],n.facets_stats,f)),y&&(b=c[f],i.facets[b]={name:f,data:h,exhaustive:n.exhaustiveFacetsCount},Wt(i.facets[b],n.facets_stats,f))}}),this.hierarchicalFacets=Mt(this.hierarchicalFacets),s.forEach(function(f){var h=t[o],p=h&&h.facets?h.facets:{},m=e.getHierarchicalFacetByName(f);Object.keys(p).forEach(function(d){var g=p[d],y;if(m){y=He(e.hierarchicalFacets,function(R){return R.name===m.name});var b=He(i.hierarchicalFacets[y],function(R){return R.attribute===d});if(b===-1)return;i.hierarchicalFacets[y][b].data=i.persistHierarchicalRootCount?Qr(i.hierarchicalFacets[y][b].data,g):ze(g,i.hierarchicalFacets[y][b].data)}else{y=u[d];var P=n.facets&&n.facets[d]||{};i.disjunctiveFacets[y]={name:d,data:Qr(P,g),exhaustive:h.exhaustiveFacetsCount},Wt(i.disjunctiveFacets[y],h.facets_stats,d),e.disjunctiveFacetsRefinements[d]&&e.disjunctiveFacetsRefinements[d].forEach(function(R){!i.disjunctiveFacets[y].data[R]&&e.disjunctiveFacetsRefinements[d].indexOf(Si(R))>-1&&(i.disjunctiveFacets[y].data[R]=0)})}}),o++}),e.getRefinedHierarchicalFacets().forEach(function(f){var h=e.getHierarchicalFacetByName(f),p=e._getHierarchicalFacetSeparator(h),m=e.getHierarchicalRefinement(f);m.length===0||m[0].split(p).length<2||t.slice(o).forEach(function(d){var g=d&&d.facets?d.facets:{};Object.keys(g).forEach(function(y){var b=g[y],P=He(e.hierarchicalFacets,function(_){return _.name===h.name}),R=He(i.hierarchicalFacets[P],function(_){return _.attribute===y});if(R!==-1){var w={};if(m.length>0&&!i.persistHierarchicalRootCount){var j=m[0].split(p)[0];w[j]=i.hierarchicalFacets[P][R].data[j]}i.hierarchicalFacets[P][R].data=ze(w,b,i.hierarchicalFacets[P][R].data)}}),o++})}),Object.keys(e.facetsExcludes).forEach(function(f){var h=e.facetsExcludes[f],p=c[f];i.facets[p]={name:f,data:l[f],exhaustive:n.exhaustiveFacetsCount},h.forEach(function(m){i.facets[p]=i.facets[p]||{name:f},i.facets[p].data=i.facets[p].data||{},i.facets[p].data[m]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(Ts(e)),this.facets=Mt(this.facets),this.disjunctiveFacets=Mt(this.disjunctiveFacets),this._state=e}Re.prototype.getFacetByName=function(e){function t(r){return r.name===e}return oe(this.facets,t)||oe(this.disjunctiveFacets,t)||oe(this.hierarchicalFacets,t)};function Cs(e,t){function r(l){return l.name===t}if(e._state.isConjunctiveFacet(t)){var n=oe(e.facets,r);return n?Object.keys(n.data).map(function(l){var f=kr(l);return{name:l,escapedValue:f,count:n.data[l],isRefined:e._state.isFacetRefined(t,f),isExcluded:e._state.isExcludeRefined(t,l)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=oe(e.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(l){var f=kr(l);return{name:l,escapedValue:f,count:i.data[l],isRefined:e._state.isDisjunctiveFacetRefined(t,f)}}):[]}else if(e._state.isHierarchicalFacet(t)){var a=oe(e.hierarchicalFacets,r);if(!a)return a;var s=e._state.getHierarchicalFacetByName(t),c=e._state._getHierarchicalFacetSeparator(s),u=Si(e._state.getHierarchicalRefinement(t)[0]||"");u.indexOf(s.rootPath)===0&&(u=u.replace(s.rootPath+c,""));var o=u.split(c);return o.unshift(t),Ri(a,o,0),a}}function Ri(e,t,r){e.isRefined=e.name===(t[r]&&t[r].trim()),e.data&&e.data.forEach(function(n){Ri(n,t,r+1)})}function Pi(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(c){return Pi(e,c,r,n+1)}),a=e(i,r[n]),s=ze({data:a},t);return s}Re.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function Ds(e,t){return t.sort(e)}function Ns(e,t){var r=[],n=[],i=t.hide||[],a=t.order||[],s=a.reduce(function(o,l,f){return o[l]=f,o},{});e.forEach(function(o){var l=o.path||o.name,f=i.indexOf(l)>-1;!f&&s[l]!==void 0?r[s[l]]=o:f||n.push(o)}),r=r.filter(function(o){return o});var c=t.sortRemainingBy,u;return c==="hidden"?r:(c==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],r.concat(bi(n,u[0],u[1])))}function Hs(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Re.prototype.getFacetValues=function(e,t){var r=Cs(this,e);if(r){var n=ze(t,{sortBy:Re.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,a;if(Array.isArray(r))a=[e];else{var s=i._state.getHierarchicalFacetByName(r.name);a=s.attributes}return Pi(function(c,u){if(n.facetOrdering){var o=Hs(i,u);if(o)return Ns(c,o)}if(Array.isArray(n.sortBy)){var l=Is(n.sortBy,Re.DEFAULT_SORT);return bi(c,l[0],l[1])}else if(typeof n.sortBy=="function")return Ds(n.sortBy,c);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,a)}};Re.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return qr(this.facets,e);if(this._state.isDisjunctiveFacet(e))return qr(this.disjunctiveFacets,e)};function qr(e,t){var r=oe(e,function(n){return n.name===t});return r&&r.stats}Re.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach(function(n){e.facetsRefinements[n].forEach(function(i){r.push(Qt(e,"facet",n,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(n){e.facetsExcludes[n].forEach(function(i){r.push(Qt(e,"exclude",n,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(n){e.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(Qt(e,"disjunctive",n,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(n){e.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(Us(e,n,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n];Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:a})})})}),e.tagRefinements.forEach(function(n){r.push({type:"tag",attributeName:"_tags",name:n})}),r};function Qt(e,t,r,n,i){var a=oe(i,function(u){return u.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,c=a&&a.exhaustive||!1;return{type:t,attributeName:r,name:n,count:s,exhaustive:c}}function Us(e,t,r,n){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=r.split(a),c=oe(n,function(h){return h.name===t}),u=s.reduce(function(h,p){var m=h&&oe(h.data,function(d){return d.name===p});return m!==void 0?m:h},c),o=u&&u.count||0,l=u&&u.exhaustive||!1,f=u&&u.path||"";return{type:"hierarchical",attributeName:t,name:f,count:o,exhaustive:l}}var wi=Re,Ls=function(t){return t.reduce(function(r,n){return r.concat(n)},[])},Ms=vt,Ws=Ls;function Qs(e,t){var r=[];return Object.keys(e).forEach(function(n){e[n].count<2&&(e[n].indexSum+=100),r.push({objectID:n,avgOfIndices:e[n].indexSum/t})}),r.sort(function(n,i){return n.avgOfIndices>i.avgOfIndices?1:-1})}function ks(e){var t={};e.forEach(function(i){i.forEach(function(a,s){t[a.objectID]?t[a.objectID]={indexSum:t[a.objectID].indexSum+s,count:t[a.objectID].count+1}:t[a.objectID]={indexSum:s,count:1}})});var r=Qs(t,e.length),n=r.reduce(function(i,a){var s=Ms(Ws(e),function(c){return c.objectID===a.objectID});return s?i.concat(s):i},[]);return n}var Bs=ks,_i="3.24.1",qs=wr,Vs=Ja,$i=_r.escapeFacetValue,Ks=ui,zs=Or,Gs=jr,Js=xr,Oi=li,Xs=fi,we=ns,Ir=mi,tr=wi,Ys=Bs,ji=_i;function S(e,t,r,n){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+ji+")"),this.setClient(e);var i=r||{};i.index=t,this.state=Ir.make(i),this.recommendState=new Oi({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=n,this._recommendCache={}}Ks(S,qs);S.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};S.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};S.prototype.searchWithComposition=function(){return this._runComposition({onlyWithDerivedHelpers:!0}),this};S.prototype.recommend=function(){return this._recommend(),this};S.prototype.getQuery=function(){var e=this.state;return we._getHitsSearchParams(e)};S.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=we._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),t){this.client.search(n).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new tr(r,a.results),r)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(a,null,r)});return}return this.client.search(n).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new tr(r,a.results),state:r,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})};S.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=zs({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:Js(we._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(n.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(n.query,e.queryLanguages,i)};S.prototype.searchForFacetValues=function(e,t,r,n){var i=typeof this.client.searchForFacetValues=="function"&&typeof this.client.searchForFacets!="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),c=s.isDisjunctiveFacet(e),u=we.getSearchForFacetQuery(e,t,r,s);this._currentNbQueries++;var o=this,l;return i?l=this.client.searchForFacetValues([{indexName:s.index,params:u}]):a?l=this.client.initIndex(s.index).searchForFacetValues(u):(delete u.facetName,l=this.client.search([{type:"facet",facet:e,indexName:s.index,params:u}]).then(function(h){return h.results[0]})),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),l.then(function(h){return o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),h=Array.isArray(h)?h[0]:h,h.facetHits.forEach(function(p){p.escapedValue=$i(p.value),p.isRefined=c?s.isDisjunctiveFacetRefined(e,p.escapedValue):s.isFacetRefined(e,p.escapedValue)}),h},function(f){throw o._currentNbQueries--,o._currentNbQueries===0&&o.emit("searchQueueEmpty"),f})};S.prototype.searchForCompositionFacetValues=function(e,t,r,n){if(typeof this.client.searchForFacetValues!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues");var i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(e);this._currentNbQueries++;var s=this,c;return c=this.client.searchForFacetValues({compositionID:i.index,facetName:e,searchForFacetValuesRequest:{params:{query:t,maxFacetHits:r,searchQuery:we._getCompositionHitsSearchParams(i)}}}),this.emit("searchForFacetValues",{state:i,facet:e,query:t}),c.then(function(o){return s._currentNbQueries--,s._currentNbQueries===0&&s.emit("searchQueueEmpty"),o=o.results[0],o.facetHits.forEach(function(l){l.escapedValue=$i(l.value),l.isRefined=a?i.isDisjunctiveFacetRefined(e,l.escapedValue):i.isFacetRefined(e,l.escapedValue)}),o},function(u){throw s._currentNbQueries--,s._currentNbQueries===0&&s.emit("searchQueueEmpty"),u})};S.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};S.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};S.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};S.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};S.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};S.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};S.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this};S.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};S.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};S.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};S.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};S.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};S.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this};S.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this};S.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this};S.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this};S.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this};S.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this};S.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};S.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};S.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};S.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};S.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};S.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};S.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};S.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};S.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};S.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};S.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};S.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};S.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this};S.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};S.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};S.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};S.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};S.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};S.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};S.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};S.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function xi(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}S.prototype.setCurrentPage=xi;S.prototype.setPage=xi;S.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};S.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};S.prototype.setState=function(e){return this._change({state:Ir.make(e),isPageReset:!1}),this};S.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Ir(e),this};S.prototype.hasRefinements=function(e){return Gs(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};S.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};S.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};S.prototype.hasTag=function(e){return this.state.isTagRefined(e)};S.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};S.prototype.getIndex=function(){return this.state.index};function Fi(){return this.state.page}S.prototype.getCurrentPage=Fi;S.prototype.getPage=Fi;S.prototype.getTags=function(){return this.state.tagRefinements};S.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var r=this.state.getConjunctiveRefinements(e);r.forEach(function(s){t.push({value:s,type:"conjunctive"})});var n=this.state.getExcludeRefinements(e);n.forEach(function(s){t.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(s){t.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return Object.keys(a).forEach(function(s){var c=a[s];t.push({value:c,operator:s,type:"numeric"})}),t};S.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};S.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};S.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=we._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(c){var u=c.getModifiedState(t),o=u.index?we._getQueries(u.index,u):[];return r.push({state:u,queriesCount:o.length,helper:c}),c.emit("search",{state:u,results:c.lastResults}),o}),a=Array.prototype.concat.apply(n,i),s=this._queryId++;if(this._currentNbQueries++,!a.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,r,s));try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(c){this.emit("error",{error:c})}};S.prototype._runComposition=function(){var e=this.state,t=[],r=[],n=this.derivedHelpers.map(function(c){var u=c.getModifiedState(e),o=we._getCompositionQueries(u);return t.push({state:u,queriesCount:o.length,helper:c}),c.emit("search",{state:u,results:c.lastResults}),o}),i=Array.prototype.concat.apply(r,n),a=this._queryId++;if(this._currentNbQueries++,!i.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,t,a));if(i.length>1)throw new Error("Only one query is allowed when using a composition.");var s=i[0];try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,t,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(c){this.emit("error",{error:c})}};S.prototype._recommend=function(){var e=this.state,t=this.recommendState,r=this.getIndex(),n=[{state:t,index:r,helper:this}],i=t.params.map(function(o){return o.$$id});this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var a=this._recommendCache,s=this.derivedHelpers.map(function(o){var l=o.getModifiedState(e).index;if(!l)return[];var f=o.getModifiedRecommendState(new Oi);return n.push({state:f,index:l,helper:o}),i=Array.prototype.concat.apply(i,f.params.map(function(h){return h.$$id})),o.emit("fetch",{recommend:{state:f,results:o.lastRecommendResults}}),f._buildQueries(l,a)}),c=Array.prototype.concat.apply(this.recommendState._buildQueries(r,a),s);if(c.length!==0){if(c.length>0&&typeof this.client.getRecommendations>"u"){console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");return}var u=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(c).then(this._dispatchRecommendResponse.bind(this,u,n,i)).catch(this._dispatchRecommendError.bind(this,u))}catch(o){this.emit("error",{error:o})}}};S.prototype._dispatchAlgoliaResponse=function(e,t,r){var n=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=r.results.slice(),a=Object.keys(r).reduce(function(s,c){return c!=="results"&&(s[c]=r[c]),s},{});Object.keys(a).length<=0&&(a=void 0),e.forEach(function(s){var c=s.state,u=s.queriesCount,o=s.helper,l=i.splice(0,u);if(!c.index){o.emit("result",{results:null,state:c});return}o.lastResults=new tr(c,l,n._searchResultsOptions),a!==void 0&&(o.lastResults._rawContent=a),o.emit("result",{results:o.lastResults,state:c})})}};S.prototype._dispatchRecommendResponse=function(e,t,r,n){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty");var i=this._recommendCache,a={};r.filter(function(c){return i[c]===void 0}).forEach(function(c,u){a[c]||(a[c]=[]),a[c].push(u)}),Object.keys(a).forEach(function(c){var u=a[c],o=n.results[u[0]];if(u.length===1){i[c]=o;return}i[c]=Object.assign({},o,{hits:Ys(u.map(function(l){return n.results[l].hits}))})});var s={};r.forEach(function(c){s[c]=i[c]}),t.forEach(function(c){var u=c.state,o=c.helper;if(!c.index){o.emit("recommend:result",{results:null,state:u});return}o.lastRecommendResults=new Xs(u,s),o.emit("recommend:result",{recommend:{results:o.lastRecommendResults,state:u}})})}};S.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};S.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbRecommendQueries===0&&this.emit("recommendQueueEmpty"))};S.prototype.containsRefinement=function(e,t,r,n){return e||t.length!==0||r.length!==0||n.length!==0};S.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};S.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))};S.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))};S.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};S.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+ji+")"),this.client=e,this)};S.prototype.getClient=function(){return this.client};S.prototype.derive=function(e,t){var r=new Vs(this,e,t);return this.derivedHelpers.push(r),r};S.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};S.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Zs=S,Ei=Zs,eo=li,to=fi,ro=mi,no=wi;function Fe(e,t,r,n){return new Ei(e,t,r,n)}Fe.version=_i;Fe.AlgoliaSearchHelper=Ei;Fe.SearchParameters=ro;Fe.RecommendParameters=eo;Fe.SearchResults=no;Fe.RecommendResults=to;var io=Fe;const te=Rr(io);var ao=0;function so(e){e.dependsOn==="recommend"&&(e.$$id=ao++)}function re(){}function oo(e){return Object.prototype.toString.call(e).slice(8,-1)}function Tr(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(oo(e),`).

`).concat(t))}var co={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ii=/&(amp|quot|lt|gt|#39);/g,uo=RegExp(Ii.source);function lo(e){return e&&uo.test(e)?e.replace(Ii,function(t){return co[t]}):e}var ne={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Ti(e){var t=ne.highlightPreTag,r=ne.highlightPostTag;return e.map(function(n){return n.isHighlighted?t+n.value+r:n.value}).join("")}function fo(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function ee(e){return e.$$type==="ais.index"}function rr(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(ee).forEach(function(n){return rr(e,n)})}var ho=Promise.resolve();function Ue(e){var t=null,r=!1,n=function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];t===null&&(t=ho.then(function(){if(t=null,r){r=!1;return}e.apply(void 0,s)}))};return n.wait=function(){if(t===null)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){t!==null&&(r=!0)},n}function mo(e){var t=e.name,r=e.connector,n=r===void 0?!1:r;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",n?"#connector":""].join("")}function gt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(i){return mo(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(n)].filter(Boolean).join(`

`)}}function Vr(e,t){for(var r,n=0;n<e.length;n++)if(r=e[n],t(r,n,e))return r}function po(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function vo(e){if(e.appId&&e.apiKey)return[e.appId,e.apiKey];if(e.transporter){var t=e.transporter,r=t.headers||t.baseHeaders,n=t.queryParameters||t.baseQueryParameters,i="x-algolia-application-id",a="x-algolia-api-key",s=r[i]||n[i],c=r[a]||n[a];return[s,c]}else return[e.applicationID,e.apiKey]}function Ai(e){var t=ne.highlightPostTag,r=ne.highlightPreTag,n=e.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var c=s.split(t);a.push({value:c[0],isHighlighted:!0}),c[1]!==""&&a.push({value:c[1],isHighlighted:!1})}),a}var go=new RegExp(/\w/i);function yo(e,t){var r,n,i=e[t],a=((r=e[t+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=e[t-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!go.test(lo(i.value))&&s===a?s:i.isHighlighted}function It(e,t){var r=Array.isArray(t)?t:t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}function Xe(e){"@babel/helpers - typeof";return Xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(e)}function Kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kr(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bo(e,t,r){return t=So(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function So(e){var t=Ro(e,"string");return Xe(t)=="symbol"?t:String(t)}function Ro(e,t){if(Xe(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xe(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(e,t){var r=Object.keys(t).reduce(function(n,i){var a=t[i];return a.recommendResults?zr(zr({},n),a.recommendResults.results):n},{});e._recommendCache=r}function Ye(e){"@babel/helpers - typeof";return Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye(e)}function wo(e,t){return jo(e)||Oo(e,t)||$o(e,t)||_o()}function _o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $o(e,t){if(e){if(typeof e=="string")return Gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gr(e,t)}}function Gr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function jo(e){if(Array.isArray(e))return e}function Jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jr(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e,t,r){return t=xo(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xo(e){var t=Fo(e,"string");return Ye(t)=="symbol"?t:String(t)}function Fo(e,t){if(Ye(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ye(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(e,t){if(t&&!((!("transporter"in e)||e._cacheHydrated)&&(!e._useCache||typeof e.addAlgoliaAgent!="function"))){var r=[Object.keys(t).reduce(function(s,c){var u=t[c],o=u.state,l=u.requestParams,f=u.results,h=f&&o?f.map(function(p,m){return Le({indexName:o.index||p.index},l!=null&&l[m]||p.params?{params:kt((l==null?void 0:l[m])||Io(p.params))}:{})}):[];return s.concat(h)},[])],n=Object.keys(t).reduce(function(s,c){var u=t[c].results;return u?s.concat(u):s},[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search.bind(e);e.search=function(s){for(var c=arguments.length,u=new Array(c>1?c-1:0),o=1;o<c;o++)u[o-1]=arguments[o];var l=Array.isArray(s)?s.map(function(f){return Le(Le({},f),{},{params:kt(f.params)})}):kt(s.requestBody.params);return e.transporter.responsesCache.get({method:"search",args:[l].concat(u)},function(){return i.apply(void 0,[s].concat(u))})},e.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in e)){var a="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));e.cache=Le(Le({},e.cache),{},Ci({},a,JSON.stringify({results:Object.keys(t).map(function(s){return t[s].results})})))}}}function Io(e){return e.split("&").reduce(function(t,r){var n=r.split("="),i=wo(n,2),a=i[0],s=i[1];return t[a]=s?decodeURIComponent(s):"",t},{})}function kt(e){var t=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},r=function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),c=1;c<a;c++)s[c-1]=arguments[c];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(s[u++])})};return Object.keys(e).map(function(n){return r("%s=%s",n,t(e[n])?JSON.stringify(e[n]):e[n])}).join("&")}function Xr(e){return e!==Object(e)}function Di(e,t){if(e===t)return!0;if(Xr(e)||Xr(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t)||!Di(e[i],t[i]))return!1}return!0}function To(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function Ze(e){"@babel/helpers - typeof";return Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(e)}var Ao=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yr(Object(r),!0).forEach(function(n){Co(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Co(e,t,r){return t=Do(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Do(e){var t=No(e,"string");return Ze(t)=="symbol"?t:String(t)}function No(e,t){if(Ze(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ze(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ho(e,t){if(e==null)return{};var r=Uo(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uo(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Lo=function(t,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=Ho(r,Ao);return t.setQueryParameters(n)},Mo=function(t,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},t)},Wo=function(t,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},t)},Qo=function(t,r){return t.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=po(n,function(c){return c.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},t.hierarchicalFacets)})},ko=function(t,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},t)},Bo=function(t,r){return t.setQueryParameters({facetsRefinements:he(he({},t.facetsRefinements),r.facetsRefinements)})},qo=function(t,r){return t.setQueryParameters({facetsExcludes:he(he({},t.facetsExcludes),r.facetsExcludes)})},Vo=function(t,r){return t.setQueryParameters({disjunctiveFacetsRefinements:he(he({},t.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},Ko=function(t,r){return t.setQueryParameters({numericRefinements:he(he({},t.numericRefinements),r.numericRefinements)})},zo=function(t,r){return t.setQueryParameters({hierarchicalFacetsRefinements:he(he({},t.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},Go=function(t,r){var n=To([].concat(t.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},Jo=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=zo(i,a),c=Qo(s,a),u=ko(c,a),o=Ko(u,a),l=Vo(o,a),f=qo(l,a),h=Bo(f,a),p=Wo(h,a),m=Go(p,a),d=Mo(m,a);return Lo(d,a)})};function Xo(e){return tc(e)||ec(e)||Zo(e)||Yo()}function Yo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zo(e,t){if(e){if(typeof e=="string")return nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nr(e,t)}}function ec(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tc(e){if(Array.isArray(e))return nr(e)}function nr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zr(e){var t=e.start,r=t===void 0?0:t,n=e.end,i=e.step,a=i===void 0?1:i,s=a===0?1:a,c=Math.round((n-r)/s);return Xo(Array(c)).map(function(u,o){return r+o*s})}function Be(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function en(e,t,r){var n=t.getResultsForWidget(r),i=t.getHelper();return{helper:i,parent:t,instantSearchInstance:e,results:n,scopedResults:t.getScopedResults(),state:n&&"_state"in n?n._state:i.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:e.status==="stalled"},status:e.status,error:e.error}}function rc(e){for(var t=e.getParent(),r=[e.getHelper().state];t!==null;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}function et(e){"@babel/helpers - typeof";return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(e)}function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tn(Object(r),!0).forEach(function(n){nc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nc(e,t,r){return t=ic(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ic(e){var t=ac(e,"string");return et(t)=="symbol"?t:String(t)}function ac(e,t){if(et(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(et(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,r){return _t(_t({},t),{},{isHighlighted:!yo(e,r)})}):e.map(function(t){return _t(_t({},t),{},{isHighlighted:!1})})}function Se(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=t.fallback;return typeof window>"u"?r():e({window})}function ir(e){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}var rn=Object.prototype.hasOwnProperty;function Ae(e,t,r){if(r!=null&&r(e,t))return!0;var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Ae(e[i],t[i],r););return i===-1}if(!n||ir(e)==="object"){i=0;for(n in e)if(rn.call(e,n)&&++i&&!rn.call(t,n)||!(n in t)||!Ae(e[n],t[n],r))return!1;return Object.keys(t).length===i}}return e!==e&&t!==t}function nn(e){var t,r,n;return new te.SearchResults(e,[{query:(t=e.query)!==null&&t!==void 0?t:"",page:(r=e.page)!==null&&r!==void 0?r:0,hitsPerPage:(n=e.hitsPerPage)!==null&&n!==void 0?n:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function tt(e){"@babel/helpers - typeof";return tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(e)}function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?an(Object(r),!0).forEach(function(n){sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sc(e,t,r){return t=oc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oc(e){var t=cc(e,"string");return tt(t)=="symbol"?t:String(t)}function cc(e,t){if(tt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ar(e){var t=e.getHelper(),r=e.getResults()||nn(t.state),n=e.getScopedResults().map(function(i){var a=i.indexId===e.getIndexId()?r:nn(i.helper.state);return sn(sn({},i),{},{results:i.results||a})});return{results:r,scopedResults:n,recommendResults:t.lastRecommendResults}}var Hi=v.createContext(null);function Ui(e,t){if(!e)throw new Error("Invariant failed")}function Ar(){var e=v.useContext(Hi);return Ui(e!==null),e}var Li=v.createContext(null);function yt(){var e=v.useContext(Li);return Ui(e!==null),e}var uc=v.createContext(null);function Mi(){return v.useContext(uc)}var lc=v.createContext(null);function Wi(){return v.useContext(lc)}function fc(e,t){return pc(e)||mc(e,t)||hc(e,t)||dc()}function dc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hc(e,t){if(e){if(typeof e=="string")return on(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return on(e,t)}}function on(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mc(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function pc(e){if(Array.isArray(e))return e}function cn(e){var t=v.useState(function(){return e}),r=fc(t,2),n=r[0],i=r[1];return Ae(n,e)||i(e),n}var vc="use",un=Ra[vc],Qi=typeof window<"u"?v.useLayoutEffect:v.useEffect,gc=v.createContext(null);function ki(){return v.useContext(gc)}function yc(e){var t,r=e.widget,n=e.parentIndex,i=e.props,a=e.shouldSsr,s=ki(),c=v.useRef(i);v.useEffect(function(){c.current=i},[i]);var u=v.useRef(r);v.useEffect(function(){u.current=r},[r]);var o=v.useRef(null),l=a&&!n.getWidgets().includes(r),f=yt();if(Qi(function(){var p=u.current;if(!o.current)a||n.addWidgets([r]);else{clearTimeout(o.current);var m=Ae(i,c.current);m||(n.removeWidgets([p]),n.addWidgets([r]))}return function(){o.current=setTimeout(function(){f._schedule(function(){f._preventWidgetCleanup||n.removeWidgets([p])})})}},[n,r,a,f,i]),(l||(s==null||(t=s.current)===null||t===void 0?void 0:t.status)==="pending")&&n.addWidgets([r]),typeof window>"u"&&s!==null&&s!==void 0&&s.current&&r.$$type!=="ais.index"){var h;un(s.current),r.$$type!=="ais.dynamicWidgets"&&(h=f.helper)!==null&&h!==void 0&&h.lastResults&&un(s.current)}}function rt(e){"@babel/helpers - typeof";return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(e)}var bc=["instantSearchInstance","widgetParams"],Sc=["widgetParams"];function Rc(e,t){return $c(e)||_c(e,t)||wc(e,t)||Pc()}function Pc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wc(e,t){if(e){if(typeof e=="string")return ln(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ln(e,t)}}function ln(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _c(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function $c(e){if(Array.isArray(e))return e}function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fn(Object(r),!0).forEach(function(n){Oc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oc(e,t,r){return t=jc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jc(e){var t=xc(e,"string");return rt(t)=="symbol"?t:String(t)}function xc(e,t){if(rt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hn(e,t){if(e==null)return{};var r=Fc(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fc(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Cr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Mi(),i=Wi(),a=yt(),s=Ar(),c=cn(t),u=cn(r),o=v.useRef(!0),l=v.useRef(null),f=v.useRef(a.status),h=v.useMemo(function(){var y=e(function(b,P){if(P){o.current=!0;return}if(o.current){var R=b.instantSearchInstance;b.widgetParams;var w=hn(b,bc);(!Ae(w,l.current,function(j,_){return(j==null?void 0:j.constructor)===Function&&(_==null?void 0:_.constructor)===Function})||R.status!==f.current)&&(g(w),l.current=w,f.current=R.status)}},function(){o.current=!1});return dn(dn({},y(c)),u)},[e,c,u]),p=v.useState(function(){if(h.getWidgetRenderState){var y,b=s.getHelper(),P=s.getWidgetUiState({})[s.getIndexId()];b.state=((y=h.getWidgetSearchParameters)===null||y===void 0?void 0:y.call(h,b.state,{uiState:P}))||b.state;var R=ar(s),w=R.results,j=R.scopedResults,_=R.recommendResults,O=h.getWidgetRenderState({helper:b,parent:s,instantSearchInstance:a,results:h.dependsOn==="recommend"&&_&&i?_[i.recommendIdx.current++]:w,scopedResults:j,state:b.state,renderState:a.renderState,templatesConfig:a.templatesConfig,createURL:s.createURL,searchMetadata:{isSearchStalled:a.status==="stalled"},status:a.status,error:a.error});O.widgetParams;var A=hn(O,Sc);return A}return{}}),m=Rc(p,2),d=m[0],g=m[1];return yc({widget:h,parentIndex:s,props:c,shouldSsr:!!n}),d}function nt(e){"@babel/helpers - typeof";return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(e)}var Ec=["initialSearchParameters"],Ic=["initialRecommendParameters"];function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mn(Object(r),!0).forEach(function(n){Te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Te(e,t,r){return t=Tc(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tc(e){var t=Ac(e,"string");return nt(t)=="symbol"?t:String(t)}function Ac(e,t){if(nt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(e){return Hc(e)||Nc(e)||Dc(e)||Cc()}function Cc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dc(e,t){if(e){if(typeof e=="string")return sr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sr(e,t)}}function Nc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hc(e){if(Array.isArray(e))return sr(e)}function sr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qi(e,t){if(e==null)return{};var r=Uc(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uc(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Me=gt({name:"index-widget"});function Vi(e,t){var r=t.state,n=t.recommendState,i=t.isPageReset,a=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:i,_uiState:a})),n!==e.recommendState&&(e.recommendState=n)}function We(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(n,i){return ee(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,t):i.getWidgetState(n,t)},r)}function Qe(e,t){var r=t.initialSearchParameters,n=qi(t,Ec);return e.reduce(function(i,a){return!a.getWidgetSearchParameters||ee(a)?i:a.dependsOn==="search"&&a.getWidgetParameters?a.getWidgetParameters(i,n):a.getWidgetSearchParameters(i,n)},r)}function pn(e,t){var r=t.initialRecommendParameters,n=qi(t,Ic);return e.reduce(function(i,a){return!ee(a)&&a.dependsOn==="recommend"&&a.getWidgetParameters?a.getWidgetParameters(i,n):i},r)}function Ki(e){var t=e.filter(ee);t.length!==0&&t.forEach(function(r){var n=r.getHelper();Vi(n,{state:n.state.resetPage(),recommendState:n.recommendState,isPageReset:!0}),Ki(r.getWidgets())})}function zi(e){var t=e.filter(ee);return t.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(Bi(zi(n.getWidgets()))))},[])}var Lc=function(t){if(t===void 0||t.indexName===void 0)throw new Error(Me("The `indexName` option is required."));var r=t.indexName,n=t.indexId,i=n===void 0?r:n,a=[],s={},c=null,u=null,o=null,l=null,f=null,h=!1,p=!1;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return o},getResults:function(){var d;return(d=l)!==null&&d!==void 0&&d.lastResults?(l.lastResults._state=o.state,l.lastResults):null},getResultsForWidget:function(d){var g;return d.dependsOn!=="recommend"||ee(d)||d.$$id===void 0?this.getResults():(g=o)!==null&&g!==void 0&&g.lastRecommendResults?o.lastRecommendResults[d.$$id]:null},getPreviousState:function(){return f},getScopedResults:function(){var d=this.getParent(),g;return d?g=d.getWidgets():r.length===0?g=this.getWidgets():g=[this],zi(g)},getParent:function(){return u},createURL:function(d){return typeof d=="function"?c._createURL(Te({},i,d(s))):c._createURL(Te({},i,We(a,{searchParameters:d,helper:o})))},getWidgets:function(){return a},addWidgets:function(d){var g=this;if(!Array.isArray(d))throw new Error(Me("The `addWidgets` method expects an array of widgets."));if(d.some(function(y){return typeof y.init!="function"&&typeof y.render!="function"}))throw new Error(Me("The widget definition expects a `render` and/or an `init` method."));return d.forEach(function(y){ee(y)||(c&&y.dependsOn==="recommend"?c._hasRecommendWidget=!0:c?c._hasSearchWidget=!0:y.dependsOn==="recommend"?h=!0:p=!0,so(y))}),a=a.concat(d),c&&d.length&&(Vi(o,{state:Qe(a,{uiState:s,initialSearchParameters:o.state}),recommendState:pn(a,{uiState:s,initialRecommendParameters:o.recommendState}),_uiState:s}),d.forEach(function(y){if(y.getRenderState){var b=y.getRenderState(c.renderState[g.getIndexId()]||{},Be(c,g,c._initialUiState));Bt({renderState:b,instantSearchInstance:c,parent:g})}}),d.forEach(function(y){y.init&&y.init(Be(c,g,c._initialUiState))}),c.scheduleSearch()),this},removeWidgets:function(d){var g=this;if(!Array.isArray(d))throw new Error(Me("The `removeWidgets` method expects an array of widgets."));if(d.some(function(w){return typeof w.dispose!="function"}))throw new Error(Me("The widget definition expects a `dispose` method."));if(a=a.filter(function(w){return d.indexOf(w)===-1}),a.forEach(function(w){ee(w)||(c&&w.dependsOn==="recommend"?c._hasRecommendWidget=!0:c?c._hasSearchWidget=!0:w.dependsOn==="recommend"?h=!0:p=!0)}),c&&d.length){var y=d.reduce(function(w,j){var _=j.dispose({helper:o,state:w.cleanedSearchState,recommendState:w.cleanedRecommendState,parent:g});return _ instanceof te.RecommendParameters?w.cleanedRecommendState=_:_&&(w.cleanedSearchState=_),w},{cleanedSearchState:o.state,cleanedRecommendState:o.recommendState}),b=y.cleanedSearchState,P=y.cleanedRecommendState,R=c.future.preserveSharedStateOnUnmount?Qe(a,{uiState:s,initialSearchParameters:new te.SearchParameters({index:this.getIndexName()})}):Qe(a,{uiState:We(a,{searchParameters:b,helper:o}),initialSearchParameters:b});s=We(a,{searchParameters:R,helper:o}),o.setState(R),o.recommendState=P,a.length&&c.scheduleSearch()}return this},init:function(d){var g=this,y,b=d.instantSearchInstance,P=d.parent,R=d.uiState;if(o===null){c=b,u=P,s=R[i]||{};var w=b.mainHelper,j=Qe(a,{uiState:s,initialSearchParameters:new te.SearchParameters({index:r})}),_=pn(a,{uiState:s,initialRecommendParameters:new te.RecommendParameters});o=te({},j.index,j),o.recommendState=_,o.search=function(){return b.onStateChange?(b.onStateChange({uiState:b.mainIndex.getWidgetUiState({}),setUiState:function(E){return b.setUiState(E,!1)}}),w):w.search()},o.searchWithoutTriggeringOnStateChange=function(){return w.search()},o.searchForFacetValues=function(F,E,V,K){var ie=o.state.setQueryParameters(K);return w.searchForFacetValues(F,E,V,ie)},l=w.derive(function(){return Jo.apply(void 0,[w.state].concat(Bi(rc(g))))},function(){return g.getHelper().recommendState});var O=(y=b._initialResults)===null||y===void 0?void 0:y[this.getIndexId()];if(O!=null&&O.results){var A=new te.SearchResults(new te.SearchParameters(O.state),O.results);l.lastResults=A,o.lastResults=A}if(O!=null&&O.recommendResults){var D=new te.RecommendResults(new te.RecommendParameters({params:O.recommendResults.params}),O.recommendResults.results);l.lastRecommendResults=D,o.lastRecommendResults=D}o.on("change",function(F){var E=F.isPageReset;E&&Ki(a)}),l.on("search",function(){b.scheduleStalledRender()}),l.on("result",function(F){var E=F.results;b.scheduleRender(),o.lastResults=E,f=E==null?void 0:E._state}),l.on("recommend:result",function(F){var E=F.recommend;b.scheduleRender(),o.lastRecommendResults=E.results}),a.forEach(function(F){if(F.getRenderState){var E=F.getRenderState(b.renderState[g.getIndexId()]||{},Be(b,g,R));Bt({renderState:E,instantSearchInstance:b,parent:g})}}),a.forEach(function(F){F.init&&F.init(Be(b,g,R))}),o.on("change",function(F){var E=F.state,V=F._uiState;s=We(a,{searchParameters:E,helper:o},V||{}),b.onStateChange||b.onInternalStateChange()}),O&&b.scheduleRender(),h&&(b._hasRecommendWidget=!0),p&&(b._hasSearchWidget=!0)}},render:function(d){var g,y=this,b=d.instantSearchInstance;b.status==="error"&&!b.mainHelper.hasPendingRequests()&&f&&o.setState(f);var P=this.getResults()||(g=l)!==null&&g!==void 0&&g.lastRecommendResults?a:a.filter(ee);P=P.filter(function(R){return R.shouldRender?R.shouldRender({instantSearchInstance:b}):!0}),P.forEach(function(R){if(R.getRenderState){var w=R.getRenderState(b.renderState[y.getIndexId()]||{},en(b,y,R));Bt({renderState:w,instantSearchInstance:b,parent:y})}}),P.forEach(function(R){R.render&&R.render(en(b,y,R))})},dispose:function(){var d=this,g,y;a.forEach(function(b){b.dispose&&o&&b.dispose({helper:o,state:o.state,recommendState:o.recommendState,parent:d})}),c=null,u=null,(g=o)===null||g===void 0||g.removeAllListeners(),o=null,(y=l)===null||y===void 0||y.detach(),l=null},getWidgetUiState:function(d){return a.filter(ee).reduce(function(g,y){return y.getWidgetUiState(g)},de(de({},d),{},Te({},i,de(de({},d[i]),s))))},getWidgetState:function(d){return this.getWidgetUiState(d)},getWidgetSearchParameters:function(d,g){var y=g.uiState;return Qe(a,{uiState:y,initialSearchParameters:d})},refreshUiState:function(){s=We(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)},setIndexUiState:function(d){var g=typeof d=="function"?d(s):d;c.setUiState(function(y){return de(de({},y),{},Te({},i,g))})}}};function Bt(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=de(de({},r.renderState),{},Te({},i,de(de({},r.renderState[i]),t)))}function Mc(e,t){return Bc(e)||kc(e,t)||Qc(e,t)||Wc()}function Wc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qc(e,t){if(e){if(typeof e=="string")return vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vn(e,t)}}function vn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kc(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Bc(e){if(Array.isArray(e))return e}function qc(){var e=v.useReducer(function(n){return n+1},0),t=Mc(e,2),r=t[1];return r}var Vc="ais",Tt=function(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(Vc,"-").concat(t).concat(a).concat(s)}},Kc=Tt("Highlight");function zc(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=It(i._highlightResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=Kc({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(ne.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(ne.highlightPostTag,"g"),"</".concat(n,">"))}var Gc=Tt("ReverseHighlight");function Jc(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=It(i._highlightResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=Gc({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),h=Ti(Ni(Ai(l)));return h.replace(new RegExp(ne.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(ne.highlightPostTag,"g"),"</".concat(n,">"))}var Xc=Tt("Snippet");function Yc(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=It(i._snippetResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=Xc({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return l.replace(new RegExp(ne.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(ne.highlightPostTag,"g"),"</".concat(n,">"))}var Zc=Tt("ReverseSnippet");function eu(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,c=It(i._snippetResult,t),u=c||{},o=u.value,l=o===void 0?"":o,f=Zc({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),h=Ti(Ni(Ai(l)));return h.replace(new RegExp(ne.highlightPreTag,"g"),"<".concat(n,' class="').concat(f,'">')).replace(new RegExp(ne.highlightPostTag,"g"),"</".concat(n,">"))}function or(e){"@babel/helpers - typeof";return or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(e)}function tu(e){var t=e.method,r=e.payload;if(or(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=fo(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(n,'"')}function ru(e,t){return tu({method:e,payload:t})}function cr(e){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cr(e)}var nu="_ALGOLIA";function iu(e){if(!((typeof document>"u"?"undefined":cr(document))!=="object"||typeof document.cookie!="string"))for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function au(){return iu(nu)}function su(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})}function it(e){"@babel/helpers - typeof";return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(e)}function gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gn(Object(r),!0).forEach(function(n){ou(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ou(e,t,r){return t=cu(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cu(e){var t=uu(e,"string");return it(t)=="symbol"?t:String(t)}function uu(e,t){if(it(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(it(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function be(e,t){return du(e)||fu(e,t)||Gi(e,t)||lu()}function lu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fu(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function du(e){if(Array.isArray(e))return e}function hu(e){return vu(e)||pu(e)||Gi(e)||mu()}function mu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gi(e,t){if(e){if(typeof e=="string")return ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ur(e,t)}}function pu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vu(e){if(Array.isArray(e))return ur(e)}function ur(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ji="2.17.2",gu="https://cdn.jsdelivr.net/npm/search-insights@".concat(Ji,"/dist/search-insights.min.js");function yn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.insightsClient,r=e.insightsInitParams,n=e.onEvent,i=e.$$internal,a=i===void 0?!1:i,s=e.$$automatic,c=s===void 0?!1:s,u=t;!t&&t!==null&&Se(function(l){var f=l.window,h=f.AlgoliaAnalyticsObject||"aa";typeof h=="string"&&(u=f[h]),u||(f.AlgoliaAnalyticsObject=h,f[h]||(f[h]=function(){f[h].queue||(f[h].queue=[]);for(var p=arguments.length,m=new Array(p),d=0;d<p;d++)m[d]=arguments[d];f[h].queue.push(m)},f[h].version=Ji,f[h].shouldAddScript=!0),u=f[h])});var o=u||re;return function(l){var f=l.instantSearchInstance,h=f.middleware.filter(function(A){return A.instance.$$type==="ais.insights"&&A.instance.$$internal}).map(function(A){return A.creator});f.unuse.apply(f,hu(h));var p=vo(f.client),m=be(p,2),d=m[0],g=m[1],y=void 0,b=void 0,P=void 0,R=o.queue;if(Array.isArray(R)){var w=["setUserToken","init"].map(function(A){var D=Vr(R.slice().reverse(),function(V){var K=be(V,1),ie=K[0];return ie===A})||[],F=be(D,2),E=F[1];return E}),j=be(w,2);b=j[0],y=j[1]}o("getUserToken",null,function(A,D){P=Sn(D)}),(r||!bn(o))&&o("init",$e({appId:d,apiKey:g,partial:!0},r));var _,O;return{$$type:"ais.insights",$$internal:a,$$automatic:c,onStateChange:function(){},subscribe:function(){if(o.shouldAddScript){var D="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var F=document.createElement("script");F.async=!0,F.src=gu,F.onerror=function(){f.emit("error",new Error(D))},document.body.appendChild(F),o.shouldAddScript=!1}catch{o.shouldAddScript=!1,f.emit("error",new Error(D))}}},started:function(){o("addAlgoliaAgent","insights-middleware"),O=f.mainHelper;var D=o.queue;if(Array.isArray(D)){var F=["setUserToken","init"].map(function(C){var L=Vr(D.slice().reverse(),function(X){var _e=be(X,1),Sa=_e[0];return Sa===C})||[],G=be(L,2),Z=G[1];return Z}),E=be(F,2);b=E[0],y=E[1]}_=yu(f),c||O.overrideStateWithoutTriggeringChangeEvent($e($e({},O.state),{},{clickAnalytics:!0})),a||f.scheduleSearch();var V=function(L){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=Sn(L);if(!Z)return;var X=O.state.userToken;function _e(){O.overrideStateWithoutTriggeringChangeEvent($e($e({},O.state),{},{userToken:Z})),X&&X!==L&&f.scheduleSearch()}G?_e():setTimeout(_e,0)};function K(C){V(C,!0),o("setUserToken",C)}var ie=void 0,Rt=au();if(Rt)ie=Rt;else{var Nt="anonymous-".concat(su());ie=Nt}var ce,$=_.userToken;if(r!=null&&r.userToken&&(ce=r.userToken),ce)K(ce);else if($)K($);else if(P)K(P);else if(b)K(b);else if(ie){var N;if(K(ie),r!=null&&r.useCookie||(N=y)!==null&&N!==void 0&&N.useCookie){var z;bu(ie,(r==null?void 0:r.cookieDuration)||((z=y)===null||z===void 0?void 0:z.cookieDuration))}}o("onUserTokenChange",function(C){return V(C,!0)},{immediate:!0});var ae=o;bn(o)&&(ae=function(L,G){var Z={headers:{"X-Algolia-Application-Id":d,"X-Algolia-API-Key":g}};return o(L,G,Z)});var me=new Set,Ie;f.mainHelper.derivedHelpers[0].on("result",function(C){var L=C.results;L&&(!L.queryID||L.queryID!==Ie)&&(Ie=L.queryID,me.clear())}),f.sendEventToInsights=function(C){if(n)n(C,ae);else if(C.insightsMethod){if(C.insightsMethod==="viewedObjectIDs"){var L=C.payload,G=L.objectIDs.filter(function(Z){return!me.has(Z)});if(G.length===0)return;G.forEach(function(Z){return me.add(Z)}),L.objectIDs=G}C.payload.algoliaSource=["instantsearch"],c&&C.payload.algoliaSource.push("instantsearch-automatic"),C.eventModifier==="internal"&&C.payload.algoliaSource.push("instantsearch-internal"),ae(C.insightsMethod,C.payload)}}},unsubscribe:function(){o("onUserTokenChange",void 0),f.sendEventToInsights=re,O&&_&&(O.overrideStateWithoutTriggeringChangeEvent($e($e({},O.state),_)),f.scheduleSearch())}}}}function yu(e){var t,r,n=((t=e._initialResults)===null||t===void 0||(r=t[e.indexName])===null||r===void 0?void 0:r.state)||{},i=e.mainHelper.state;return{userToken:n.userToken||i.userToken,clickAnalytics:n.clickAnalytics||i.clickAnalytics}}function bu(e,t){var r=2592e6,n=new Date;n.setTime(n.getTime()+(t||r*6));var i="expires=".concat(n.toUTCString());document.cookie="_ALGOLIA=".concat(e,";").concat(i,";path=/")}function bn(e){var t=(e.version||"").split(".").map(Number),r=be(t,2),n=r[0],i=r[1],a=n>=3,s=n===2&&i>=6,c=n===1&&i>=10;return a||s||c}function Sn(e){if(e)return typeof e=="number"?e.toString():e}function Xi(e,t,r){var n=Be(t,t.mainIndex,t._initialUiState);e.forEach(function(i){var a={};if(i.getWidgetRenderState){var s=i.getWidgetRenderState(n);s&&s.widgetParams&&(a=s.widgetParams)}var c=Object.keys(a).filter(function(u){return a[u]!==void 0});r.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:c}),i.$$type==="ais.index"&&Xi(i.getWidgets(),t,r)})}function Su(){return Se(function(e){var t,r,n=e.window;return((t=n.navigator)===null||t===void 0||(r=t.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Ru(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.$$internal,r=t===void 0?!1:t;return function(n){var i=n.instantSearchInstance,a={widgets:[]},s=document.createElement("meta"),c=document.querySelector("head");return s.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:r,onStateChange:function(){},subscribe:function(){setTimeout(function(){var o=i.client;a.ua=o.transporter&&o.transporter.userAgent?o.transporter.userAgent.value:o._ua,Xi(i.mainIndex.getWidgets(),i,a),i.middleware.forEach(function(l){return a.widgets.push({middleware:!0,type:l.instance.$$type,internal:l.instance.$$internal})}),s.content=JSON.stringify(a),c.appendChild(s)},0)},started:function(){},unsubscribe:function(){s.remove()}}}}var Pu=String.prototype.replace,wu=/%20/g,qt={RFC1738:"RFC1738",RFC3986:"RFC3986"},Dr={default:qt.RFC3986,formatters:{RFC1738:function(e){return Pu.call(e,wu,"+")},RFC3986:function(e){return String(e)}},RFC1738:qt.RFC1738,RFC3986:qt.RFC3986},_u=Dr,Vt=Object.prototype.hasOwnProperty,je=Array.isArray,ue=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),$u=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(je(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},Yi=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},Ou=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(je(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Vt.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return je(t)&&!je(r)&&(i=Yi(t,n)),je(t)&&je(r)?(r.forEach(function(a,s){if(Vt.call(t,s)){var c=t[s];c&&typeof c=="object"&&a&&typeof a=="object"?t[s]=e(c,a,n):t.push(a)}else t[s]=a}),t):Object.keys(r).reduce(function(a,s){var c=r[s];return Vt.call(a,s)?a[s]=e(a[s],c,n):a[s]=c,a},i)},ju=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},xu=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Fu=function(t,r,n,i,a){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var c="",u=0;u<s.length;++u){var o=s.charCodeAt(u);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||a===_u.RFC1738&&(o===40||o===41)){c+=s.charAt(u);continue}if(o<128){c=c+ue[o];continue}if(o<2048){c=c+(ue[192|o>>6]+ue[128|o&63]);continue}if(o<55296||o>=57344){c=c+(ue[224|o>>12]+ue[128|o>>6&63]+ue[128|o&63]);continue}u+=1,o=65536+((o&1023)<<10|s.charCodeAt(u)&1023),c+=ue[240|o>>18]+ue[128|o>>12&63]+ue[128|o>>6&63]+ue[128|o&63]}return c},Eu=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],c=Object.keys(s),u=0;u<c.length;++u){var o=c[u],l=s[o];typeof l=="object"&&l!==null&&n.indexOf(l)===-1&&(r.push({obj:s,prop:o}),n.push(l))}return $u(r),t},Iu=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Tu=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Au=function(t,r){return[].concat(t,r)},Cu=function(t,r){if(je(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},Zi={arrayToObject:Yi,assign:ju,combine:Au,compact:Eu,decode:xu,encode:Fu,isBuffer:Tu,isRegExp:Iu,maybeMap:Cu,merge:Ou},lr=Zi,Ge=Dr,Du=Object.prototype.hasOwnProperty,Rn={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},xe=Array.isArray,Nu=String.prototype.split,Hu=Array.prototype.push,ea=function(e,t){Hu.apply(e,xe(t)?t:[t])},Uu=Date.prototype.toISOString,Pn=Ge.default,Q={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:lr.encode,encodeValuesOnly:!1,format:Pn,formatter:Ge.formatters[Pn],indices:!1,serializeDate:function(t){return Uu.call(t)},skipNulls:!1,strictNullHandling:!1},Lu=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Mu=function e(t,r,n,i,a,s,c,u,o,l,f,h,p,m){var d=t;if(typeof c=="function"?d=c(r,d):d instanceof Date?d=l(d):n==="comma"&&xe(d)&&(d=lr.maybeMap(d,function(F){return F instanceof Date?l(F):F})),d===null){if(i)return s&&!p?s(r,Q.encoder,m,"key",f):r;d=""}if(Lu(d)||lr.isBuffer(d)){if(s){var g=p?r:s(r,Q.encoder,m,"key",f);if(n==="comma"&&p){for(var y=Nu.call(String(d),","),b="",P=0;P<y.length;++P)b+=(P===0?"":",")+h(s(y[P],Q.encoder,m,"value",f));return[h(g)+"="+b]}return[h(g)+"="+h(s(d,Q.encoder,m,"value",f))]}return[h(r)+"="+h(String(d))]}var R=[];if(typeof d>"u")return R;var w;if(n==="comma"&&xe(d))w=[{value:d.length>0?d.join(",")||null:void 0}];else if(xe(c))w=c;else{var j=Object.keys(d);w=u?j.sort(u):j}for(var _=0;_<w.length;++_){var O=w[_],A=typeof O=="object"&&typeof O.value<"u"?O.value:d[O];if(!(a&&A===null)){var D=xe(d)?typeof n=="function"?n(r,O):r:r+(o?"."+O:"["+O+"]");ea(R,e(A,D,n,i,a,s,c,u,o,l,f,h,p,m))}}return R},Wu=function(t){if(!t)return Q;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Q.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ge.default;if(typeof t.format<"u"){if(!Du.call(Ge.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=Ge.formatters[n],a=Q.filter;return(typeof t.filter=="function"||xe(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Q.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Q.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Q.charsetSentinel,delimiter:typeof t.delimiter>"u"?Q.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Q.encode,encoder:typeof t.encoder=="function"?t.encoder:Q.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Q.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Q.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Q.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Q.strictNullHandling}},Qu=function(e,t){var r=e,n=Wu(t),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):xe(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var c;t&&t.arrayFormat in Rn?c=t.arrayFormat:t&&"indices"in t?c=t.indices?"indices":"repeat":c="indices";var u=Rn[c];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var o=0;o<i.length;++o){var l=i[o];n.skipNulls&&r[l]===null||ea(s,Mu(r[l],l,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var f=s.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),f.length>0?h+f:""},Ce=Zi,fr=Object.prototype.hasOwnProperty,ku=Array.isArray,W={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ce.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Bu=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},ta=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},qu="utf8=%26%2310003%3B",Vu="utf8=%E2%9C%93",Ku=function(t,r){var n={},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),c=-1,u,o=r.charset;if(r.charsetSentinel)for(u=0;u<s.length;++u)s[u].indexOf("utf8=")===0&&(s[u]===Vu?o="utf-8":s[u]===qu&&(o="iso-8859-1"),c=u,u=s.length);for(u=0;u<s.length;++u)if(u!==c){var l=s[u],f=l.indexOf("]="),h=f===-1?l.indexOf("="):f+1,p,m;h===-1?(p=r.decoder(l,W.decoder,o,"key"),m=r.strictNullHandling?null:""):(p=r.decoder(l.slice(0,h),W.decoder,o,"key"),m=Ce.maybeMap(ta(l.slice(h+1),r),function(d){return r.decoder(d,W.decoder,o,"value")})),m&&r.interpretNumericEntities&&o==="iso-8859-1"&&(m=Bu(m)),l.indexOf("[]=")>-1&&(m=ku(m)?[m]:m),fr.call(n,p)?n[p]=Ce.combine(n[p],m):n[p]=m}return n},zu=function(e,t,r,n){for(var i=n?t:ta(t,r),a=e.length-1;a>=0;--a){var s,c=e[a];if(c==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,o=parseInt(u,10);!r.parseArrays&&u===""?s={0:i}:!isNaN(o)&&c!==u&&String(o)===u&&o>=0&&r.parseArrays&&o<=r.arrayLimit?(s=[],s[o]=i):u!=="__proto__"&&(s[u]=i)}i=s}return i},Gu=function(t,r,n,i){if(t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,u=n.depth>0&&s.exec(a),o=u?a.slice(0,u.index):a,l=[];if(o){if(!n.plainObjects&&fr.call(Object.prototype,o)&&!n.allowPrototypes)return;l.push(o)}for(var f=0;n.depth>0&&(u=c.exec(a))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&fr.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(u[1])}return u&&l.push("["+a.slice(u.index)+"]"),zu(l,r,n,i)}},Ju=function(t){if(!t)return W;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?W.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?W.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:W.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:W.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:W.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:W.comma,decoder:typeof t.decoder=="function"?t.decoder:W.decoder,delimiter:typeof t.delimiter=="string"||Ce.isRegExp(t.delimiter)?t.delimiter:W.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:W.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:W.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:W.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:W.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:W.strictNullHandling}},Xu=function(e,t){var r=Ju(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?Ku(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var c=a[s],u=Gu(c,n[c],r,typeof e=="string");i=Ce.merge(i,u,r)}return Ce.compact(i)},Yu=Qu,Zu=Xu,el=Dr,tl={formats:el,parse:Zu,stringify:Yu};const wn=Rr(tl);function at(e){"@babel/helpers - typeof";return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(e)}function rl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ra(n.key),n)}}function nl(e,t,r){return t&&_n(e.prototype,t),r&&_n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J(e,t,r){return t=ra(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ra(e){var t=il(e,"string");return at(t)=="symbol"?t:String(t)}function il(e,t){if(at(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(at(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $n=function(t){t&&(window.document.title=t)},al=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,a=i===void 0?400:i,s=t.createURL,c=t.parseURL,u=t.getLocation,o=t.start,l=t.dispose,f=t.push,h=t.cleanUrlOnDispose;rl(this,e),J(this,"$$type","ais.browser"),J(this,"windowTitle",void 0),J(this,"writeDelay",void 0),J(this,"_createURL",void 0),J(this,"parseURL",void 0),J(this,"getLocation",void 0),J(this,"writeTimer",void 0),J(this,"_onPopState",void 0),J(this,"inPopState",!1),J(this,"isDisposed",!1),J(this,"latestAcknowledgedHistory",0),J(this,"_start",void 0),J(this,"_dispose",void 0),J(this,"_push",void 0),J(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=c,this.getLocation=u,this._start=o,this._dispose=l,this._push=f,this._cleanUrlOnDispose=typeof h>"u"?!0:h,Se(function(p){var m=p.window,d=r.windowTitle&&r.windowTitle(r.read());$n(d),r.latestAcknowledgedHistory=m.history.length})}return nl(e,[{key:"read",value:function(){return this.parseURL({qsModule:wn,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;Se(function(i){var a=i.window,s=n.createURL(r),c=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){$n(c),n.shouldWrite(s)&&(n._push?n._push(s):a.history.pushState(r,c||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._start&&this._start(function(){r(n.read())}),this._onPopState=function(){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0,r(n.read())},Se(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){var n=this._createURL({qsModule:wn,routeState:r,location:this.getLocation()});return n}},{key:"dispose",value:function(){var r=this;this._dispose&&this._dispose(),this.isDisposed=!0,Se(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(r){var n=this;return Se(function(i){var a=i.window;if(n.isDisposed&&!n._cleanUrlOnDispose)return!1;var s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),e}();function sl(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,r=t===void 0?function(m){var d=m.qsModule,g=m.routeState,y=m.location,b=y.protocol,P=y.hostname,R=y.port,w=R===void 0?"":R,j=y.pathname,_=y.hash,O=d.stringify(g),A=w===""?"":":".concat(w);return O?"".concat(b,"//").concat(P).concat(A).concat(j,"?").concat(O).concat(_):"".concat(b,"//").concat(P).concat(A).concat(j).concat(_)}:t,n=e.parseURL,i=n===void 0?function(m){var d=m.qsModule,g=m.location;return d.parse(g.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,s=a===void 0?400:a,c=e.windowTitle,u=e.getLocation,o=u===void 0?function(){return Se(function(m){var d=m.window;return d.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,l=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new al({createURL:r,parseURL:i,writeDelay:s,windowTitle:c,getLocation:o,start:l,dispose:f,push:h,cleanUrlOnDispose:p})}function st(e){"@babel/helpers - typeof";return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(e)}var ol=["configure"];function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?On(Object(r),!0).forEach(function(n){dr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dr(e,t,r){return t=cl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cl(e){var t=ul(e,"string");return st(t)=="symbol"?t:String(t)}function ul(e,t){if(st(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(st(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ll(e,t){if(e==null)return{};var r=fl(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fl(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function jn(e){e.configure;var t=ll(e,ol);return t}function dl(){return{$$type:"ais.simple",stateToRoute:function(t){return Object.keys(t).reduce(function(r,n){return $t($t({},r),{},dr({},n,jn(t[n])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(r,n){return $t($t({},r),{},dr({},n,jn(t[n])))},{})}}}function ot(e){"@babel/helpers - typeof";return ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(e)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xn(Object(r),!0).forEach(function(n){na(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function na(e,t,r){return t=hl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hl(e){var t=ml(e,"string");return ot(t)=="symbol"?t:String(t)}function ml(e,t){if(ot(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ot(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pl=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.router,n=r===void 0?sl():r,i=t.stateMapping,a=i===void 0?dl():i,s=t.$$internal,c=s===void 0?!1:s;return function(u){var o=u.instantSearchInstance;function l(p){var m=o.mainIndex.getWidgets().length===0?o._initialUiState:o.mainIndex.getWidgetUiState({}),d=Object.keys(p).reduce(function(y,b){return Ot(Ot({},y),{},na({},b,p[b]))},m),g=a.stateToRoute(d);return n.createURL(g)}o._createURL=l;var f=void 0,h=o._initialUiState;return{$$type:"ais.router({router:".concat(n.$$type||"__unknown__",", stateMapping:").concat(a.$$type||"__unknown__","})"),$$internal:c,onStateChange:function(m){var d=m.uiState,g=a.stateToRoute(d);(f===void 0||!Di(f,g))&&(n.write(g),f=g)},subscribe:function(){o._initialUiState=Ot(Ot({},h),a.routeToState(n.read())),n.onUpdate(function(m){o.mainIndex.getWidgets().length>0&&o.setUiState(a.routeToState(m))})},started:function(){var m;(m=n.start)===null||m===void 0||m.call(n)},unsubscribe:function(){n.dispose()}}}};function vl(e,t){return e.toLocaleString(t)}function ct(e){"@babel/helpers - typeof";return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(e)}function Fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fn(Object(r),!0).forEach(function(n){gl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gl(e,t,r){return t=yl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yl(e){var t=bl(e,"string");return ct(t)=="symbol"?t:String(t)}function bl(e,t){if(ct(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ct(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(e){var t=e.numberLocale;return{formatNumber:function(n,i){return vl(Number(i(n)),t)},highlight:function(n,i){try{var a=JSON.parse(n);return i(zc(pe(pe({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(Jc(pe(pe({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(Yc(pe(pe({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(eu(pe(pe({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,c=a.payload;return i(ru(s,pe({objectIDs:[this.objectID]},c)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const Rl="4.77.3";function De(e){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},De(e)}function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?En(Object(r),!0).forEach(function(n){T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ia(n.key),n)}}function wl(e,t,r){return t&&In(e.prototype,t),r&&In(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _l(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hr(e,t)}function hr(e,t){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hr(e,t)}function $l(e){var t=jl();return function(){var n=Ft(e),i;if(t){var a=Ft(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ol(this,i)}}function Ol(e,t){if(t&&(De(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ft(e)}function T(e,t,r){return t=ia(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ia(e){var t=xl(e,"string");return De(t)=="symbol"?t:String(t)}function xl(e,t){if(De(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(De(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var se=gt({name:"instantsearch"});function Fl(){return"#"}var aa={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},El=function(e){_l(r,e);var t=$l(r);function r(n){var i;Pl(this,r),i=t.call(this),T(I(i),"client",void 0),T(I(i),"indexName",void 0),T(I(i),"compositionID",void 0),T(I(i),"insightsClient",void 0),T(I(i),"onStateChange",null),T(I(i),"future",void 0),T(I(i),"helper",void 0),T(I(i),"mainHelper",void 0),T(I(i),"mainIndex",void 0),T(I(i),"started",void 0),T(I(i),"templatesConfig",void 0),T(I(i),"renderState",{}),T(I(i),"_stalledSearchDelay",void 0),T(I(i),"_searchStalledTimer",void 0),T(I(i),"_initialUiState",void 0),T(I(i),"_initialResults",void 0),T(I(i),"_createURL",void 0),T(I(i),"_searchFunction",void 0),T(I(i),"_mainHelperSearch",void 0),T(I(i),"_hasSearchWidget",!1),T(I(i),"_hasRecommendWidget",!1),T(I(i),"_insights",void 0),T(I(i),"middleware",[]),T(I(i),"sendEventToInsights",void 0),T(I(i),"status","idle"),T(I(i),"error",void 0),T(I(i),"scheduleSearch",Ue(function(){i.started&&i.mainHelper.search()})),T(I(i),"scheduleRender",Ue(function(){var E,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(E=i.mainHelper)!==null&&E!==void 0&&E.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,V&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:I(i)}),i.emit("render")})),T(I(i),"onInternalStateChange",Ue(function(){var E=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(V){var K=V.instance;K.onStateChange({uiState:E})})})),i.setMaxListeners(100);var a=n.indexName,s=a===void 0?"":a,c=n.compositionID,u=n.numberLocale,o=n.initialUiState,l=o===void 0?{}:o,f=n.routing,h=f===void 0?null:f,p=n.insights,m=p===void 0?void 0:p,d=n.searchFunction,g=n.stalledSearchDelay,y=g===void 0?200:g,b=n.searchClient,P=b===void 0?null:b,R=n.insightsClient,w=R===void 0?null:R,j=n.onStateChange,_=j===void 0?null:j,O=n.future,A=O===void 0?Kt(Kt({},aa),n.future||{}):O;if(P===null)throw new Error(se("The `searchClient` option is required."));if(typeof P.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof P.addAlgoliaAgent=="function"&&P.addAlgoliaAgent("instantsearch.js (".concat(Rl,")")),w&&typeof w!="function")throw new Error(se("The `insightsClient` option should be a function."));if(i.client=P,i.future=A,i.insightsClient=w,i.indexName=s,i.compositionID=c,i.helper=null,i.mainHelper=null,i.mainIndex=Lc({indexName:i.compositionID||i.indexName}),i.onStateChange=_,i.started=!1,i.templatesConfig={helpers:Sl({numberLocale:u}),compileOptions:{}},i._stalledSearchDelay=y,i._searchStalledTimer=null,i._createURL=Fl,i._initialUiState=l,i._initialResults=null,i._insights=m,d&&(i._searchFunction=d),i.sendEventToInsights=re,h){var D=typeof h=="boolean"?{}:h;D.$$internal=!0,i.use(pl(D))}if(m){var F=typeof m=="boolean"?{}:m;F.$$internal=!0,i.use(yn(F))}return Su()&&i.use(Ru({$$internal:!0})),i}return wl(r,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];var u=s.map(function(o){var l=Kt({$$type:"__unknown__",$$internal:!1,subscribe:re,started:re,unsubscribe:re,onStateChange:re},o({instantSearchInstance:i}));return i.middleware.push({creator:o,instance:l}),l});return this.started&&u.forEach(function(o){o.subscribe(),o.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(c){return a.includes(c.creator)}).forEach(function(c){return c.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(c){return!a.includes(c.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(se("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(se("The widget definition expects a `render` and/or an `init` method."));if(this.compositionID&&i.some(ee))throw new Error(se("The `index` widget cannot be used with a composition-based InstantSearch implementation."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(se("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(se("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(se("The `start` method has already been called once."));var a=this.mainHelper||te(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(this.compositionID&&(a.searchForFacetValues=a.searchForCompositionFacetValues.bind(a)),a.search=function(){return i.status="loading",i.scheduleRender(!1),i._hasSearchWidget&&(i.compositionID?a.searchWithComposition():a.searchOnlyWithDerivedHelpers()),i._hasRecommendWidget&&a.recommend(),a},this._searchFunction){var s={search:function(){return new Promise(re)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var u=i.mainIndex.getHelper(),o=te(s,u.state.index,u.state);return o.once("search",function(l){var f=l.state;u.overrideStateWithoutTriggeringChangeEvent(f),i._mainHelperSearch()}),o.on("change",function(l){var f=l.state;u.setState(f)}),i._searchFunction(o),a}}if(a.on("error",function(u){var o=u.error;if(!(o instanceof Error)){var l=o;o=Object.keys(l).reduce(function(f,h){return f[h]=l[h],f},new Error(l.message))}o.error=o,i.error=o,i.status="error",i.scheduleRender(!1),i.emit("error",o)}),this.mainHelper=a,this.middleware.forEach(function(u){var o=u.instance;o.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){Eo(this.client,this._initialResults),Po(this.mainHelper,this._initialResults);var c=this.scheduleSearch;this.scheduleSearch=Ue(re),Ue(function(){i.scheduleSearch=c})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var o=u.instance;o.started()}),typeof this._insights>"u"&&a.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(o){var l=o.results;return l==null?void 0:l._automaticInsights});u&&i.use(yn({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(a){var s=a.instance;s.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(se("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var c=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&s?this.onStateChange({uiState:c,setUiState:function(o){rr(typeof o=="function"?o(c):o,a.mainIndex),a.scheduleSearch(),a.onInternalStateChange()}}):(rr(c,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(se("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(se("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}(Va),sa={exports:{}},oa={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=v;function Il(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tl=typeof Object.is=="function"?Object.is:Il,Al=Ne.useState,Cl=Ne.useEffect,Dl=Ne.useLayoutEffect,Nl=Ne.useDebugValue;function Hl(e,t){var r=t(),n=Al({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Dl(function(){i.value=r,i.getSnapshot=t,zt(i)&&a({inst:i})},[e,r,t]),Cl(function(){return zt(i)&&a({inst:i}),e(function(){zt(i)&&a({inst:i})})},[e]),Nl(r),r}function zt(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tl(e,r)}catch{return!0}}function Ul(e,t){return t()}var Ll=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ul:Hl;oa.useSyncExternalStore=Ne.useSyncExternalStore!==void 0?Ne.useSyncExternalStore:Ll;sa.exports=oa;var Ml=sa.exports,Wl={};function ut(e){"@babel/helpers - typeof";return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(e)}function Tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tn(Object(r),!0).forEach(function(n){Ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ql(e,t,r){return t=kl(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kl(e){var t=Bl(e,"string");return ut(t)=="symbol"?t:String(t)}function Bl(e,t){if(ut(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ut(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cn=["react (".concat(v.version,")"),"react-instantsearch (".concat(Xt,")"),"react-instantsearch-core (".concat(Xt,")")],Dn="react-instantsearch-server (".concat(Xt,")"),ql=function(t){return t?"next.js (".concat(t,")"):null};function Vl(e){var t=qc(),r=Mi(),n=Wi(),i=ki(),a=n==null?void 0:n.initialResults,s=v.useRef(e),c=r||a||i,u=v.useRef(null);if(n&&(u=n.ssrSearchRef),u.current===null){var o=new El(e);o._schedule=function(g){o._schedule.queue.push(g),clearTimeout(o._schedule.timer),o._schedule.timer=setTimeout(function(){o._schedule.queue.forEach(function(y){y()}),o._schedule.queue=[]},0)},o._schedule.queue=[],c&&(o._initialResults=a||{}),Nn(e.searchClient,[].concat(Cn,[r&&Dn,ql(Kl())])),c&&o.start(),r&&r.notifyServer({search:o}),e.routing,u.current=o}{var l=u.current,f=s.current;if(f.indexName!==e.indexName&&(l.helper.setIndex(e.indexName||"").search(),s.current=e),f.searchClient!==e.searchClient&&(Nn(e.searchClient,[].concat(Cn,[r&&Dn])),l.mainHelper.setClient(e.searchClient).search(),s.current=e),f.onStateChange!==e.onStateChange&&(l.onStateChange=e.onStateChange,s.current=e),f.searchFunction!==e.searchFunction&&(l._searchFunction=e.searchFunction,s.current=e),f.stalledSearchDelay!==e.stalledSearchDelay){var h;l._stalledSearchDelay=(h=e.stalledSearchDelay)!==null&&h!==void 0?h:200,s.current=e}Ae(f.future,e.future)||(l.future=An(An({},aa),e.future),s.current=e)}var p=v.useRef(null),m=Ml.useSyncExternalStore(v.useCallback(function(){var d=u.current;return p.current===null?d.started||(d.start(),t()):(clearTimeout(p.current),d._preventWidgetCleanup=!1),function(){function g(){d.dispose()}clearTimeout(d._schedule.timer),p.current=setTimeout(g),d._preventWidgetCleanup=!0}},[t]),function(){return u.current},function(){return u.current});return m}function Nn(e,t){typeof e.addAlgoliaAgent=="function"&&t.filter(Boolean).forEach(function(r){e.addAlgoliaAgent(r)})}function Kl(){var e,t;return typeof window<"u"&&((e=window.next)===null||e===void 0?void 0:e.version)||(typeof process<"u"?(t=Wl)===null||t===void 0?void 0:t.NEXT_RUNTIME:void 0)}var zl=["children"];function Gl(e,t){if(e==null)return{};var r=Jl(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jl(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Xl(e){var t=e.children,r=Gl(e,zl),n=Vl(r);return n.started?U.createElement(Li.Provider,{value:n},U.createElement(Hi.Provider,{value:n.mainIndex},t)):null}function lt(e){"@babel/helpers - typeof";return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(e)}function Yl(e){return rf(e)||tf(e)||ef(e)||Zl()}function Zl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ef(e,t){if(e){if(typeof e=="string")return mr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mr(e,t)}}function tf(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rf(e){if(Array.isArray(e))return mr(e)}function mr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hn(Object(r),!0).forEach(function(n){nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nf(e,t,r){return t=af(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function af(e){var t=sf(e,"string");return lt(t)=="symbol"?t:String(t)}function sf(e,t){if(lt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jt=gt({name:"hits-per-page",connector:!0}),of=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re;return Tr(t,jt()),function(n){var i=n||{},a=i.items,s=i.transformItems,c=s===void 0?function(p){return p}:s;if(!Array.isArray(a))throw new Error(jt("The `items` option expects an array of objects."));var u=a,o=u.filter(function(p){return p.default===!0});if(o.length===0)throw new Error(jt("A default value must be specified in `items`."));if(o.length>1)throw new Error(jt("More than one default value is specified in `items`."));var l=o[0],f=function(m){var d=m.hitsPerPage;return u.map(function(g){return le(le({},g),{},{isRefined:Number(g.value)===Number(d)})})},h={getRefine:function(m){return function(d){return!d&&d!==0?m.setQueryParameter("hitsPerPage",void 0).search():m.setQueryParameter("hitsPerPage",d).search()}},createURLFactory:function(m){var d=m.state,g=m.createURL,y=m.getWidgetUiState,b=m.helper;return function(P){return g(function(R){return y(R,{searchParameters:d.resetPage().setQueryParameter("hitsPerPage",!P&&P!==0?void 0:P),helper:b})})}}};return{$$type:"ais.hitsPerPage",init:function(m){var d=m.state,g=m.instantSearchInstance,y=u.some(function(b){return Number(d.hitsPerPage)===Number(b.value)});y||(u=[{value:"",label:""}].concat(Yl(u))),t(le(le({},this.getWidgetRenderState(m)),{},{instantSearchInstance:g}),!0)},render:function(m){var d=m.instantSearchInstance;t(le(le({},this.getWidgetRenderState(m)),{},{instantSearchInstance:d}),!1)},dispose:function(m){var d=m.state;return r(),d.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(m,d){return le(le({},m),{},{hitsPerPage:this.getWidgetRenderState(d)})},getWidgetRenderState:function(m){var d=m.state,g=m.results,y=m.createURL,b=m.helper,P=g?g.nbHits>0:!1;return{items:c(f(d),{results:g}),refine:h.getRefine(b),createURL:h.createURLFactory({state:d,createURL:y,getWidgetUiState:this.getWidgetUiState,helper:b}),hasNoResults:!P,canRefine:P,widgetParams:n}},getWidgetUiState:function(m,d){var g=d.searchParameters,y=g.hitsPerPage;return y===void 0||y===l.value?m:le(le({},m),{},{hitsPerPage:y})},getWidgetSearchParameters:function(m,d){var g=d.uiState;return m.setQueryParameters({hitsPerPage:g.hitsPerPage||l.value})}}}};const cf=of;function uf(e,t){return Cr(cf,e,t)}function ft(e){"@babel/helpers - typeof";return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(e)}function lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ca(n.key),n)}}function ff(e,t,r){return t&&Un(e.prototype,t),r&&Un(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gt(e,t,r){return t=ca(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ca(e){var t=df(e,"string");return ft(t)=="symbol"?t:String(t)}function df(e,t){if(ft(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ft(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hf=function(){function e(t){lf(this,e),Gt(this,"currentPage",void 0),Gt(this,"total",void 0),Gt(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return ff(e,[{key:"pages",value:function(){var r=this.total,n=this.currentPage,i=this.padding;if(r===0)return[0];var a=this.nbPagesDisplayed(i,r);if(a===r)return Zr({end:r});var s=this.calculatePaddingLeft(n,i,r,a),c=a-s,u=n-s,o=n+c;return Zr({start:u,end:o})}},{key:"nbPagesDisplayed",value:function(r,n){return Math.min(2*r+1,n)}},{key:"calculatePaddingLeft",value:function(r,n,i,a){return r<=n?r:r>=i-n?a-(i-r):n}},{key:"isLastPage",value:function(){return this.currentPage>=this.total-1}},{key:"isFirstPage",value:function(){return this.currentPage<=0}}]),e}();function dt(e){"@babel/helpers - typeof";return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(e)}function Ln(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ln(Object(r),!0).forEach(function(n){mf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ln(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mf(e,t,r){return t=pf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pf(e){var t=vf(e,"string");return dt(t)=="symbol"?t:String(t)}function vf(e,t){if(dt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gf=gt({name:"pagination",connector:!0}),yf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re;return Tr(t,gf()),function(n){var i=n||{},a=i.totalPages,s=i.padding,c=s===void 0?3:s,u=new hf({currentPage:0,total:0,padding:c}),o={};function l(f){var h=f.nbPages;return a!==void 0?Math.min(a,h):h}return{$$type:"ais.pagination",init:function(h){var p=h.instantSearchInstance;t(fe(fe({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(fe(fe({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(h){var p=h.state;return r(),p.setQueryParameter("page",void 0)},getWidgetUiState:function(h,p){var m=p.searchParameters,d=m.page||0;return d?fe(fe({},h),{},{page:d+1}):h},getWidgetSearchParameters:function(h,p){var m=p.uiState,d=m.page?m.page-1:0;return h.setQueryParameter("page",d)},getWidgetRenderState:function(h){var p=h.results,m=h.helper,d=h.state,g=h.createURL;o.refine||(o.refine=function(P){m.setPage(P),m.search()}),o.createURL||(o.createURL=function(P){return g(function(R){return fe(fe({},R),{},{page:P+1})})});var y=d.page||0,b=l(p||{nbPages:0});return u.currentPage=y,u.total=b,{createURL:o.createURL,refine:o.refine,canRefine:b>1,currentRefinement:y,nbHits:(p==null?void 0:p.nbHits)||0,nbPages:b,pages:p?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:n}},getRenderState:function(h,p){return fe(fe({},h),{},{pagination:this.getWidgetRenderState(p)})}}}};const bf=yf;function Sf(e,t){return Cr(bf,e,t)}function ht(e){"@babel/helpers - typeof";return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(e)}function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mn(Object(r),!0).forEach(function(n){Rf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rf(e,t,r){return t=Pf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pf(e){var t=wf(e,"string");return ht(t)=="symbol"?t:String(t)}function wf(e,t){if(ht(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ht(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _f=gt({name:"search-box",connector:!0}),$f=function(t,r){return r(t)},Of=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re;return Tr(t,_f()),function(n){var i=n||{},a=i.queryHook,s=a===void 0?$f:a,c,u;return{$$type:"ais.searchBox",init:function(l){var f=l.instantSearchInstance;t(ye(ye({},this.getWidgetRenderState(l)),{},{instantSearchInstance:f}),!0)},render:function(l){var f=l.instantSearchInstance;t(ye(ye({},this.getWidgetRenderState(l)),{},{instantSearchInstance:f}),!1)},dispose:function(l){var f=l.state;return r(),f.setQueryParameter("query",void 0)},getRenderState:function(l,f){return ye(ye({},l),{},{searchBox:this.getWidgetRenderState(f)})},getWidgetRenderState:function(l){var f=l.helper,h=l.instantSearchInstance,p=l.state;return c||(c=function(d){s(d,function(g){return f.setQuery(g).search()})},u=function(){f.setQuery("").search()}),{query:p.query||"",refine:c,clear:u,widgetParams:n,isSearchStalled:h.status==="stalled"}},getWidgetUiState:function(l,f){var h=f.searchParameters,p=h.query||"";return p===""||l&&l.query===p?l:ye(ye({},l),{},{query:p})},getWidgetSearchParameters:function(l,f){var h=f.uiState;return l.setQueryParameter("query",h.query||"")}}}};const jf=Of;function xf(e,t){return Cr(jf,e,t)}function Ff(e,t){return Af(e)||Tf(e,t)||If(e,t)||Ef()}function Ef(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function If(e,t){if(e){if(typeof e=="string")return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wn(e,t)}}function Wn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tf(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Af(e){if(Array.isArray(e))return e}function Cf(){var e=yt(),t=Ar(),r=v.useState(function(){var s=ar(t);return{results:s.results,scopedResults:s.scopedResults}}),n=Ff(r,2),i=n[0],a=n[1];return v.useEffect(function(){function s(){var c=t.getResults();if(c!==null)a({results:c,scopedResults:t.getScopedResults()});else if(e.mainIndex.getIndexName().length===0){var u=e.mainIndex.getWidgets().find(ee);u&&a({results:ar(t).results,scopedResults:u.getScopedResults()})}}return e.addListener("render",s),function(){e.removeListener("render",s)}},[e,t]),i}function Qn(e,t){return Uf(e)||Hf(e,t)||Nf(e,t)||Df()}function Df(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nf(e,t){if(e){if(typeof e=="string")return kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kn(e,t)}}function kn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hf(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function Uf(e){if(Array.isArray(e))return e}function Lf(){var e=yt(),t=Ar(),r=t.getIndexId(),n=v.useState(function(){return e.getUiState()}),i=Qn(n,2),a=i[0],s=i[1],c=a[r],u=v.useState(function(){return e.renderState}),o=Qn(u,2),l=o[0],f=o[1],h=l[r]||{},p=v.useCallback(function(d){e.setUiState(d)},[e]),m=v.useCallback(function(d){t.setIndexUiState(d)},[t]);return v.useEffect(function(){function d(){s(e.getUiState()),f(e.renderState)}return e.addListener("render",d),function(){e.removeListener("render",d)}},[e]),{uiState:a,setUiState:p,indexUiState:c,setIndexUiState:m,renderState:l,indexRenderState:h}}function Nr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.catchError,r=yt(),n=Lf(),i=n.uiState,a=n.setUiState,s=n.indexUiState,c=n.setIndexUiState,u=n.renderState,o=n.indexRenderState,l=Cf(),f=l.results,h=l.scopedResults,p=v.useCallback(function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return r.use.apply(r,g),function(){r.unuse.apply(r,g)}},[r]),m=v.useCallback(function(){r.refresh()},[r]);return Qi(function(){if(t){var d=function(){};return r.addListener("error",d),function(){return r.removeListener("error",d)}}return function(){}},[r,t]),{results:f,scopedResults:h,uiState:i,setUiState:a,indexUiState:s,setIndexUiState:c,renderState:u,indexRenderState:o,addMiddlewares:p,refresh:m,status:r.status,error:r.error}}function ve(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(n,i){return Array.isArray(i)?n.concat(i):n.concat([i])},[]).filter(Boolean).join(" ")}var Mf=["formRef","inputRef","isSearchStalled","onChange","onReset","onSubmit","placeholder","value","autoFocus","resetIconComponent","submitIconComponent","loadingIconComponent","classNames","translations"];function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pr.apply(this,arguments)}function Wf(e,t){if(e==null)return{};var r=Qf(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qf(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var kf=U.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"});function Bf(e){var t=e.classNames;return U.createElement("svg",{className:ve("ais-SearchBox-submitIcon",t.submitIcon),width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},kf)}var qf=U.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"});function Vf(e){var t=e.classNames;return U.createElement("svg",{className:ve("ais-SearchBox-resetIcon",t.resetIcon),viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},qf)}var Kf=U.createElement("g",{fill:"none",fillRule:"evenodd"},U.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},U.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),U.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},U.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));function zf(e){var t=e.classNames;return U.createElement("svg",{"aria-label":"Results are loading",width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444",className:ve("ais-SearchBox-loadingIcon",t.loadingIcon),"aria-hidden":"true"},Kf)}function Gf(e){var t=e.formRef,r=e.inputRef,n=e.isSearchStalled,i=e.onChange,a=e.onReset,s=e.onSubmit,c=e.placeholder,u=c===void 0?"":c,o=e.value,l=e.autoFocus,f=e.resetIconComponent,h=f===void 0?Vf:f,p=e.submitIconComponent,m=p===void 0?Bf:p,d=e.loadingIconComponent,g=d===void 0?zf:d,y=e.classNames,b=y===void 0?{}:y,P=e.translations,R=Wf(e,Mf);function w(_){_.preventDefault(),_.stopPropagation(),s&&s(_),r.current&&r.current.blur()}function j(_){_.preventDefault(),_.stopPropagation(),a(_),r.current&&r.current.focus()}return U.createElement("div",pr({},R,{className:ve("ais-SearchBox",b.root,R.className)}),U.createElement("form",{ref:t,action:"",className:ve("ais-SearchBox-form",b.form),noValidate:!0,onSubmit:w,onReset:j,role:"search"},U.createElement("input",{ref:r,className:ve("ais-SearchBox-input",b.input),"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",placeholder:u,spellCheck:!1,maxLength:512,type:"search",value:o,onChange:i,onCompositionEnd:i,autoFocus:l}),U.createElement("button",{className:ve("ais-SearchBox-submit",b.submit),type:"submit",title:P.submitButtonTitle},U.createElement(m,{classNames:b})),U.createElement("button",{className:ve("ais-SearchBox-reset",b.reset),type:"reset",title:P.resetButtonTitle,hidden:o.length===0||n},U.createElement(h,{classNames:b})),U.createElement("span",{className:ve("ais-SearchBox-loadingIndicator",b.loadingIndicator),hidden:!n},U.createElement(g,{classNames:b}))))}function mt(e){"@babel/helpers - typeof";return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(e)}var Jf=["queryHook","searchAsYouType","ignoreCompositionEvents","translations"];function vr(){return vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vr.apply(this,arguments)}function Bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bn(Object(r),!0).forEach(function(n){Yf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yf(e,t,r){return t=Zf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zf(e){var t=ed(e,"string");return mt(t)=="symbol"?t:String(t)}function ed(e,t){if(mt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function td(e,t){return ad(e)||id(e,t)||nd(e,t)||rd()}function rd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nd(e,t){if(e){if(typeof e=="string")return qn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qn(e,t)}}function qn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function id(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,c=[],u=!0,o=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(l){o=!0,i=l}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw i}}return c}}function ad(e){if(Array.isArray(e))return e}function sd(e,t){if(e==null)return{};var r=od(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function od(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function cd(e){var t=e.queryHook,r=e.searchAsYouType,n=r===void 0?!0:r,i=e.ignoreCompositionEvents,a=i===void 0?!1:i,s=e.translations,c=sd(e,Jf),u=xf({queryHook:t},{$$widgetType:"ais.searchBox"}),o=u.query,l=u.refine,f=u.isSearchStalled,h=v.useState(o),p=td(h,2),m=p[0],d=p[1],g=v.useRef(null);function y(j){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d(j),n&&!(a&&_)&&l(j)}function b(){y(""),n||l("")}function P(j){y(j.currentTarget.value,j.nativeEvent.isComposing)}function R(j){n||l(m),c.onSubmit&&c.onSubmit(j)}o!==m&&document.activeElement!==g.current&&d(o);var w={inputRef:g,isSearchStalled:f,onChange:P,onReset:b,onSubmit:R,value:m,translations:Xf({submitButtonTitle:"Submit the search query",resetButtonTitle:"Clear the search query"},s)};return U.createElement(Gf,vr({},c,w))}const ud=["Enter"," "],ld=["ArrowDown","PageUp","Home"],ua=["ArrowUp","PageDown","End"],fd=[...ld,...ua],At="Menu",[gr,dd,hd]=Ea(At),[Ee,la]=ni(At,[hd,si,oi]),Hr=si(),fa=oi(),[md,bt]=Ee(At),[pd,Ur]=Ee(At),vd=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=e,c=Hr(t),[u,o]=v.useState(null),l=v.useRef(!1),f=$a(a),h=Ia(i);return v.useEffect(()=>{const p=()=>{l.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>l.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),v.createElement(Ta,c,v.createElement(md,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:o},v.createElement(pd,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:l,dir:h,modal:s},n)))},gd=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Hr(r);return v.createElement(Aa,B({},i,n,{ref:t}))}),da="MenuPortal",[yd,bd]=Ee(da,{forceMount:void 0}),Sd=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=bt(da,t);return v.createElement(yd,{scope:t,forceMount:r},v.createElement(ii,{present:r||a.open},v.createElement(Ca,{asChild:!0,container:i},n)))},Pe="MenuContent",[Rd,ha]=Ee(Pe),Pd=v.forwardRef((e,t)=>{const r=bd(Pe,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=bt(Pe,e.__scopeMenu),s=Ur(Pe,e.__scopeMenu);return v.createElement(gr.Provider,{scope:e.__scopeMenu},v.createElement(ii,{present:n||a.open},v.createElement(gr.Slot,{scope:e.__scopeMenu},s.modal?v.createElement(wd,B({},i,{ref:t})):v.createElement(_d,B({},i,{ref:t})))))}),wd=v.forwardRef((e,t)=>{const r=bt(Pe,e.__scopeMenu),n=v.useRef(null),i=Et(t,n);return v.useEffect(()=>{const a=n.current;if(a)return Qa(a)},[]),v.createElement(ma,B({},e,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:k(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),_d=v.forwardRef((e,t)=>{const r=bt(Pe,e.__scopeMenu);return v.createElement(ma,B({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),ma=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...d}=e,g=bt(Pe,r),y=Ur(Pe,r),b=Hr(r),P=fa(r),R=dd(r),[w,j]=v.useState(null),_=v.useRef(null),O=Et(t,_,g.onContentChange),A=v.useRef(0),D=v.useRef(""),F=v.useRef(0),E=v.useRef(null),V=v.useRef("right"),K=v.useRef(0),ie=m?Wa:v.Fragment,Rt=m?{as:Oa,allowPinchZoom:!0}:void 0,Nt=$=>{var N,z;const ae=D.current+$,me=R().filter(X=>!X.disabled),Ie=document.activeElement,C=(N=me.find(X=>X.ref.current===Ie))===null||N===void 0?void 0:N.textValue,L=me.map(X=>X.textValue),G=Ad(L,ae,C),Z=(z=me.find(X=>X.textValue===G))===null||z===void 0?void 0:z.ref.current;(function X(_e){D.current=_e,window.clearTimeout(A.current),_e!==""&&(A.current=window.setTimeout(()=>X(""),1e3))})(ae),Z&&setTimeout(()=>Z.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),Da();const ce=v.useCallback($=>{var N,z;return V.current===((N=E.current)===null||N===void 0?void 0:N.side)&&Dd($,(z=E.current)===null||z===void 0?void 0:z.area)},[]);return v.createElement(Rd,{scope:r,searchRef:D,onItemEnter:v.useCallback($=>{ce($)&&$.preventDefault()},[ce]),onItemLeave:v.useCallback($=>{var N;ce($)||((N=_.current)===null||N===void 0||N.focus(),j(null))},[ce]),onTriggerLeave:v.useCallback($=>{ce($)&&$.preventDefault()},[ce]),pointerGraceTimerRef:F,onPointerGraceIntentChange:v.useCallback($=>{E.current=$},[])},v.createElement(ie,Rt,v.createElement(Na,{asChild:!0,trapped:i,onMountAutoFocus:k(a,$=>{var N;$.preventDefault(),(N=_.current)===null||N===void 0||N.focus()}),onUnmountAutoFocus:s},v.createElement(Ha,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:h,onDismiss:p},v.createElement(Ua,B({asChild:!0},P,{dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:j,onEntryFocus:k(u,$=>{y.isUsingKeyboardRef.current||$.preventDefault()})}),v.createElement(La,B({role:"menu","aria-orientation":"vertical","data-state":Ed(g.open),"data-radix-menu-content":"",dir:y.dir},b,d,{ref:O,style:{outline:"none",...d.style},onKeyDown:k(d.onKeyDown,$=>{const z=$.target.closest("[data-radix-menu-content]")===$.currentTarget,ae=$.ctrlKey||$.altKey||$.metaKey,me=$.key.length===1;z&&($.key==="Tab"&&$.preventDefault(),!ae&&me&&Nt($.key));const Ie=_.current;if($.target!==Ie||!fd.includes($.key))return;$.preventDefault();const L=R().filter(G=>!G.disabled).map(G=>G.ref.current);ua.includes($.key)&&L.reverse(),Id(L)}),onBlur:k(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(A.current),D.current="")}),onPointerMove:k(e.onPointerMove,br($=>{const N=$.target,z=K.current!==$.clientX;if($.currentTarget.contains(N)&&z){const ae=$.clientX>K.current?"right":"left";V.current=ae,K.current=$.clientX}}))})))))))}),yr="MenuItem",Vn="menu.itemSelect",$d=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=v.useRef(null),s=Ur(yr,e.__scopeMenu),c=ha(yr,e.__scopeMenu),u=Et(t,a),o=v.useRef(!1),l=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(Vn,{bubbles:!0,cancelable:!0});f.addEventListener(Vn,p=>n==null?void 0:n(p),{once:!0}),ja(f,h),h.defaultPrevented?o.current=!1:s.onClose()}};return v.createElement(Od,B({},i,{ref:u,disabled:r,onClick:k(e.onClick,l),onPointerDown:f=>{var h;(h=e.onPointerDown)===null||h===void 0||h.call(e,f),o.current=!0},onPointerUp:k(e.onPointerUp,f=>{var h;o.current||(h=f.currentTarget)===null||h===void 0||h.click()}),onKeyDown:k(e.onKeyDown,f=>{const h=c.searchRef.current!=="";r||h&&f.key===" "||ud.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),Od=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,s=ha(yr,r),c=fa(r),u=v.useRef(null),o=Et(t,u),[l,f]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const m=u.current;if(m){var d;p(((d=m.textContent)!==null&&d!==void 0?d:"").trim())}},[a.children]),v.createElement(gr.ItemSlot,{scope:r,disabled:n,textValue:i??h},v.createElement(Ma,B({asChild:!0},c,{focusable:!n}),v.createElement(ai.div,B({role:"menuitem","data-highlighted":l?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},a,{ref:o,onPointerMove:k(e.onPointerMove,br(m=>{n?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus())})),onPointerLeave:k(e.onPointerLeave,br(m=>s.onItemLeave(m))),onFocus:k(e.onFocus,()=>f(!0)),onBlur:k(e.onBlur,()=>f(!1))}))))}),jd="MenuRadioGroup";Ee(jd,{value:void 0,onValueChange:()=>{}});const xd="MenuItemIndicator";Ee(xd,{checked:!1});const Fd="MenuSub";Ee(Fd);function Ed(e){return e?"open":"closed"}function Id(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Td(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Ad(e,t,r){const i=t.length>1&&Array.from(t).every(o=>o===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=Td(e,Math.max(a,0));i.length===1&&(s=s.filter(o=>o!==r));const u=s.find(o=>o.toLowerCase().startsWith(i.toLowerCase()));return u!==r?u:void 0}function Cd(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const c=t[a].x,u=t[a].y,o=t[s].x,l=t[s].y;u>n!=l>n&&r<(o-c)*(n-u)/(l-u)+c&&(i=!i)}return i}function Dd(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Cd(r,t)}function br(e){return t=>t.pointerType==="mouse"?e(t):void 0}const Nd=vd,Hd=gd,Ud=Sd,Ld=Pd,Md=$d,pa="DropdownMenu",[Wd,Nh]=ni(pa,[la]),St=la(),[Qd,va]=Wd(pa),kd=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,u=St(t),o=v.useRef(null),[l=!1,f]=xa({prop:i,defaultProp:a,onChange:s});return v.createElement(Qd,{scope:t,triggerId:Lr(),triggerRef:o,contentId:Lr(),open:l,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:c},v.createElement(Nd,B({},u,{open:l,onOpenChange:f,dir:n,modal:c}),r))},Bd="DropdownMenuTrigger",qd=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=va(Bd,r),s=St(r);return v.createElement(Hd,B({asChild:!0},s),v.createElement(ai.button,B({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},i,{ref:Fa(t,a.triggerRef),onPointerDown:k(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:k(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})))}),Vd=e=>{const{__scopeDropdownMenu:t,...r}=e,n=St(t);return v.createElement(Ud,B({},n,r))},Kd="DropdownMenuContent",zd=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=va(Kd,r),a=St(r),s=v.useRef(!1);return v.createElement(Ld,B({id:i.contentId,"aria-labelledby":i.triggerId},a,n,{ref:t,onCloseAutoFocus:k(e.onCloseAutoFocus,c=>{var u;s.current||(u=i.triggerRef.current)===null||u===void 0||u.focus(),s.current=!1,c.preventDefault()}),onInteractOutside:k(e.onInteractOutside,c=>{const u=c.detail.originalEvent,o=u.button===0&&u.ctrlKey===!0,l=u.button===2||o;(!i.modal||l)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Gd=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=St(r);return v.createElement(Md,B({},i,n,{ref:t}))}),Jd=kd,Xd=qd,Yd=Vd,Zd=zd,eh=Gd,Kn={items:[{label:"10",value:10,default:!0},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}]},ga=()=>{const{refine:e}=uf(Kn),{results:t}=Nr();return x.jsxs(Jd,{children:[x.jsx(Xd,{asChild:!0,children:x.jsxs("button",{className:"flex items-center p-2",type:"button",children:[x.jsx("span",{children:t.hitsPerPage}),x.jsx(Pa,{})]})}),x.jsx(Yd,{children:x.jsx(Zd,{className:"bg-white shadow-md",children:Kn.items.map(r=>x.jsx(eh,{className:"p-2 cursor-pointer hover:bg-neutral-200",onSelect:()=>e(r.value),children:r.label}))})})]})};ga.__docgenInfo={description:"",methods:[],displayName:"HitsPerPage"};const th={words:{of:"of"}},rh={rowsPerPage:"Rows per page"},nh={Common:th,SearchResultsTable:rh},ih={en:{translation:nh}},Sr=ka.createInstance();Sr.init({debug:!0,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},resources:ih});const ya=e=>{const{refine:t}=Sf(),{results:r}=Nr(),n=r.page*r.hitsPerPage+1,i=n+r.hits.length-1,a=n+r.hitsPerPage<r.nbHits,s=n>r.hitsPerPage,c=()=>t(r.page+1),u=()=>t(r.page-1);return x.jsxs("div",{className:Ht("w-full","h-10","bg-white","flex","justify-end","items-center","gap-4","text-sm","px-4",e.className),children:[x.jsx("span",{className:"font-bold",children:Sr.t("SearchResultsTable.rowsPerPage")}),x.jsx(ga,{}),x.jsxs("span",{children:[n,"-",i,"",Sr.t("Common.words.of"),"",r.nbHits]}),x.jsx("button",{className:Ht("h-6","w-6","rounded-full","flex","items-center","justify-center",{"text-gray-300":!s}),disabled:!s,onClick:u,type:"button",children:x.jsx(wa,{})}),x.jsx("button",{className:Ht("h-6","w-6","rounded-full","flex","items-center","justify-center",{"text-gray-300":!a}),disabled:!a,onClick:c,type:"button",children:x.jsx(_a,{})})]})};ya.__docgenInfo={description:"",methods:[],displayName:"Pagination",props:{className:{required:!1,flowType:{name:"string"},description:"(Optional) Class name to append to the list of the Pagination container"}}};const ba=e=>{const{results:t}=Nr();return x.jsxs("div",{className:"rounded-md inline-block border border-neutral-200 w-full h-full min-h-full flex flex-col",children:[x.jsx("div",{className:"overflow-auto",children:x.jsxs("table",{className:"divide-y divide-neutral-200 w-full max-h-full overflow-auto border-b border-neutral-200 grow-0",children:[x.jsx("thead",{className:"bg-neutral-100 sticky top-0",children:x.jsx("tr",{className:"divide-x divide-neutral-200",children:e.columns.map(r=>x.jsx("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-800 max-h-10",children:r.label}))})}),x.jsx("tbody",{className:"divide-y divide-neutral-200 border-b border-neutral-200",children:t.hits.map((r,n)=>x.jsx("tr",{className:"divide-x divide-neutral-200",children:e.columns.map(i=>x.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap text-gray-800 text-sm max-h-10",children:i.render?i.render(r):r[i.name]}))},n))})]})}),x.jsx("div",{className:"grow"}),x.jsx(ya,{className:"sticky bottom-0 grow-0 w-full min-w-full"})]})},Ct=ba;ba.__docgenInfo={description:"",methods:[],displayName:"SearchResultsTable",props:{columns:{required:!0,flowType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /**
   * Label to use in the table header.
   */
  label?: string,
  /**
   * Name of the column. If no \`render\` prop is provided, the table will try to use item[name] to get the value.
   */
  name: string,
  /**
   * Function for fetching the display value from the item.
   * If this is provided, the component will put the result of this function
   * in the table cell instead of item[name].
   */
  render?: (item: any) => JSX.Element
}`,signature:{properties:[{key:"label",value:{name:"string",required:!1},description:"Label to use in the table header."},{key:"name",value:{name:"string",required:!0},description:"Name of the column. If no `render` prop is provided, the table will try to use item[name] to get the value."},{key:"render",value:{name:"signature",type:"function",raw:"(item: any) => JSX.Element",signature:{arguments:[{name:"item",type:{name:"any"}}],return:{name:"JSX.Element"}},required:!1},description:`Function for fetching the display value from the item.
If this is provided, the component will put the result of this function
in the table cell instead of item[name].`}]}}],raw:"Array<Column>"},description:"Columns to display in the table."}}};const ah=new Ba({server:{apiKey:Jt.getTypesenseSearchKey(),nodes:[{host:Jt.getTypesenseSearchUrl(),port:"443",protocol:"https"}],cacheSearchResultsForSeconds:300},additionalSearchParameters:{query_by:"name"}}),Dt=e=>x.jsxs(Xl,{indexName:Jt.getTypesenseCollection(),searchClient:ah.searchClient,children:[x.jsx(cd,{}),e.children]});Dt.__docgenInfo={description:"",methods:[],displayName:"InstantSearchProvider",props:{children:{required:!0,flowType:{name:"Node"},description:""}}};const Hh={title:"Components/Core Data/SearchResultsTable",component:Ct},qe=()=>x.jsx(Dt,{children:x.jsx("div",{className:"h-80",children:x.jsx(Ct,{columns:[{label:"UUID",name:"uuid"},{label:"Name",name:"name"},{label:"Location",name:"geometry",render:e=>e.coordinates?`${e.coordinates[0]}, ${e.coordinates[1]}`:""}],hits:Pr})})}),Ve=()=>x.jsx(Dt,{children:x.jsx("div",{className:"h-80 w-[400px]",children:x.jsx(Ct,{columns:[{label:"UUID",name:"uuid"},{label:"Name",name:"name"},{label:"Location",name:"geometry",render:e=>e.coordinates?`${e.coordinates[0]}, ${e.coordinates[1]}`:""}],hits:Pr})})}),Ke=()=>x.jsx(Dt,{children:x.jsx("div",{className:"h-[80vh] w-[1000px]",children:x.jsx(Ct,{columns:[{label:"UUID",name:"uuid"},{label:"Name",name:"name"},{label:"Location",name:"geometry",render:e=>e.coordinates?`${e.coordinates[0]}, ${e.coordinates[1]}`:""}],hits:Pr})})});qe.__docgenInfo={description:"",methods:[],displayName:"Default"};Ve.__docgenInfo={description:"",methods:[],displayName:"Narrow"};Ke.__docgenInfo={description:"",methods:[],displayName:"ReallyBig"};var zn,Gn,Jn;qe.parameters={...qe.parameters,docs:{...(zn=qe.parameters)==null?void 0:zn.docs,source:{originalSource:`() => <InstantSearchProvider>
    <div className='h-80'>
      <SearchResultsTable columns={[{
      label: 'UUID',
      name: 'uuid'
    }, {
      label: 'Name',
      name: 'name'
    }, {
      label: 'Location',
      name: 'geometry',
      render: item => item.coordinates ? \`\${item.coordinates[0]}, \${item.coordinates[1]}\` : ''
    }]} hits={hits} />
    </div>
  </InstantSearchProvider>`,...(Jn=(Gn=qe.parameters)==null?void 0:Gn.docs)==null?void 0:Jn.source}}};var Xn,Yn,Zn;Ve.parameters={...Ve.parameters,docs:{...(Xn=Ve.parameters)==null?void 0:Xn.docs,source:{originalSource:`() => <InstantSearchProvider>
    <div className='h-80 w-[400px]'>
      <SearchResultsTable columns={[{
      label: 'UUID',
      name: 'uuid'
    }, {
      label: 'Name',
      name: 'name'
    }, {
      label: 'Location',
      name: 'geometry',
      render: item => item.coordinates ? \`\${item.coordinates[0]}, \${item.coordinates[1]}\` : ''
    }]} hits={hits} />
    </div>
  </InstantSearchProvider>`,...(Zn=(Yn=Ve.parameters)==null?void 0:Yn.docs)==null?void 0:Zn.source}}};var ei,ti,ri;Ke.parameters={...Ke.parameters,docs:{...(ei=Ke.parameters)==null?void 0:ei.docs,source:{originalSource:`() => <InstantSearchProvider>
    <div className='h-[80vh] w-[1000px]'>
      <SearchResultsTable columns={[{
      label: 'UUID',
      name: 'uuid'
    }, {
      label: 'Name',
      name: 'name'
    }, {
      label: 'Location',
      name: 'geometry',
      render: item => item.coordinates ? \`\${item.coordinates[0]}, \${item.coordinates[1]}\` : ''
    }]} hits={hits} />
    </div>
  </InstantSearchProvider>`,...(ri=(ti=Ke.parameters)==null?void 0:ti.docs)==null?void 0:ri.source}}};const Uh=["Default","Narrow","ReallyBig"];export{qe as Default,Ve as Narrow,Ke as ReallyBig,Uh as __namedExportsOrder,Hh as default};
