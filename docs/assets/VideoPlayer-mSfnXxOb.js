import{j as c}from"./jsx-runtime-BTCK_S7S.js";import{c as R}from"./index.es33-DKos9btN.js";import{R as m,r as y}from"./index-CBqU2yxZ.js";import{M as T}from"./Message-3p6wyYpA.js";import{_ as w}from"./extends-CCbyfPlC.js";import{_ as $}from"./inheritsLoose-1HkgTRWY.js";import{n as j,u as q,m as I,o as N,p as b,P as S}from"./getElementType-CckcRzoH.js";import{M as V}from"./ModernAutoControlledComponent-DJBWk5EW.js";import{I as _}from"./Icon-2tEtgK8g.js";import{M as E}from"./Modal-Bz2VEyQG.js";import{i as P}from"./i18n-DOVQ27W-.js";import{R as A}from"./Portal-DvhHJPzU.js";var h=function(a){$(s,a);function s(){for(var r,e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return r=a.call.apply(a,[this].concat(o))||this,r.handleClick=function(l){var i=r.props.onClick,n=r.state.active;i&&i(l,w({},r.props,{active:!0})),n||r.setState({active:!0})},r}var d=s.prototype;return d.getSrc=function(){var e=this.props,o=e.autoplay,t=o===void 0?!0:o,l=e.brandedUI,i=l===void 0?!1:l,n=e.color,u=n===void 0?"#444444":n,p=e.hd,v=p===void 0?!0:p,f=e.id,g=e.source,C=e.url;return g==="youtube"?["//www.youtube.com/embed/"+f,"?autohide=true","&amp;autoplay="+t,"&amp;color="+encodeURIComponent(u),"&amp;hq="+v,"&amp;jsapi=false","&amp;modestbranding="+i,"&amp;rel="+(i?0:1)].join(""):g==="vimeo"?["//player.vimeo.com/video/"+f,"?api=false","&amp;autoplay="+t,"&amp;byline=false","&amp;color="+encodeURIComponent(u),"&amp;portrait=false","&amp;title=false"].join(""):C},d.render=function(){var e=this.props,o=e.aspectRatio,t=e.className,l=e.icon,i=e.placeholder,n=this.state.active,u=j("ui",o,q(n,"active"),"embed",t),p=I(s,this.props),v=N(s,this.props),f=l!==void 0?l:"video play";return m.createElement(v,w({},p,{className:u,onClick:this.handleClick}),_.create(f,{autoGenerateKey:!1}),i&&m.createElement("img",{className:"placeholder",src:i}),this.renderEmbed())},d.renderEmbed=function(){var e=this.props,o=e.children,t=e.content,l=e.iframe,i=e.source,n=this.state.active;return n?b(o)?b(t)?m.createElement("div",{className:"embed"},S(b(l)?this.getSrc():l,{defaultProps:{allowFullScreen:!1,frameBorder:0,height:"100%",scrolling:"no",src:this.getSrc(),title:"Embedded content from "+i+".",width:"100%"},autoGenerateKey:!1})):m.createElement("div",{className:"embed"},t):m.createElement("div",{className:"embed"},o):null},s}(V);h.handledProps=["active","as","aspectRatio","autoplay","brandedUI","children","className","color","content","defaultActive","hd","icon","id","iframe","onClick","placeholder","source","url"];h.propTypes={};h.autoControlledProps=["active"];const x=a=>{const[s,d]=y.useState(!1),r=y.useRef();return y.useEffect(()=>{if(r&&r.current&&a.placeholderAlt){const e=r.current.querySelector(".placeholder");e&&e.setAttribute("alt",a.placeholderAlt)}},[r,a.placeholderAlt]),c.jsx(R.Consumer,{children:e=>c.jsx(E,{centered:!1,className:"video-player",closeIcon:!0,mountNode:e,onClose:a.onClose.bind(void 0),open:a.open,size:a.size,children:c.jsxs(E.Content,{children:[s&&c.jsx(T,{content:P.t("VideoPlayer.errors.path.content",{path:a.video}),header:P.t("VideoPlayer.errors.path.header"),icon:"exclamation circle"}),a.embedded&&c.jsx(A,{innerRef:r,children:c.jsx(h,{active:a.autoPlay,icon:a.icon,iframe:a.autoPlay?{allow:"autoplay"}:void 0,placeholder:a.placeholder,url:`${a.video}${a.autoPlay?"?autoplay=true":""}`})}),!a.embedded&&c.jsx("video",{autoPlay:a.autoPlay,controls:!0,onError:()=>d(!0),src:a.video})]})})})};x.defaultProps={autoPlay:!1,embedded:!1,icon:"right circle arrow",size:"small"};x.__docgenInfo={description:"",methods:[],displayName:"VideoPlayer",props:{autoPlay:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},embedded:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},icon:{required:!1,flowType:{name:"union",raw:"string | Element<any>",elements:[{name:"string"},{name:"Element",elements:[{name:"any"}],raw:"Element<any>"}]},description:"",defaultValue:{value:"'right circle arrow'",computed:!1}},onClose:{required:!0,flowType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},open:{required:!0,flowType:{name:"boolean"},description:""},placeholder:{required:!1,flowType:{name:"string",nullable:!0},description:""},placeholderAlt:{required:!1,flowType:{name:"string"},description:""},size:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"'small'",computed:!1}},video:{required:!0,flowType:{name:"string"},description:""}}};export{x as V};
