import{j as d}from"./jsx-runtime-D9TvR9R2.js";import{R as m,r as y}from"./index-C0dDX-lL.js";import{M as R}from"./Message-smmiVK7n.js";import{_ as w}from"./extends-CCbyfPlC.js";import{_ as T}from"./inheritsLoose-1HkgTRWY.js";import{n as $,u as j,m as q,o as I,p as b,P as N}from"./getElementType-BSRayMAs.js";import{M}from"./ModernAutoControlledComponent-C211dBIC.js";import{I as S}from"./Icon-C_3d7-zE.js";import{M as E}from"./Modal-BWgkEMr1.js";import{M as V}from"./ModalContext-CLCyDZFr.js";import{i as P}from"./i18n-CM1tepcX.js";import{R as _}from"./Portal-B8DXQ6EK.js";var h=function(a){T(s,a);function s(){for(var r,e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return r=a.call.apply(a,[this].concat(o))||this,r.handleClick=function(l){var i=r.props.onClick,n=r.state.active;i&&i(l,w({},r.props,{active:!0})),n||r.setState({active:!0})},r}var c=s.prototype;return c.getSrc=function(){var e=this.props,o=e.autoplay,t=o===void 0?!0:o,l=e.brandedUI,i=l===void 0?!1:l,n=e.color,u=n===void 0?"#444444":n,p=e.hd,v=p===void 0?!0:p,f=e.id,g=e.source,C=e.url;return g==="youtube"?["//www.youtube.com/embed/"+f,"?autohide=true","&amp;autoplay="+t,"&amp;color="+encodeURIComponent(u),"&amp;hq="+v,"&amp;jsapi=false","&amp;modestbranding="+i,"&amp;rel="+(i?0:1)].join(""):g==="vimeo"?["//player.vimeo.com/video/"+f,"?api=false","&amp;autoplay="+t,"&amp;byline=false","&amp;color="+encodeURIComponent(u),"&amp;portrait=false","&amp;title=false"].join(""):C},c.render=function(){var e=this.props,o=e.aspectRatio,t=e.className,l=e.icon,i=e.placeholder,n=this.state.active,u=$("ui",o,j(n,"active"),"embed",t),p=q(s,this.props),v=I(s,this.props),f=l!==void 0?l:"video play";return m.createElement(v,w({},p,{className:u,onClick:this.handleClick}),S.create(f,{autoGenerateKey:!1}),i&&m.createElement("img",{className:"placeholder",src:i}),this.renderEmbed())},c.renderEmbed=function(){var e=this.props,o=e.children,t=e.content,l=e.iframe,i=e.source,n=this.state.active;return n?b(o)?b(t)?m.createElement("div",{className:"embed"},N(b(l)?this.getSrc():l,{defaultProps:{allowFullScreen:!1,frameBorder:0,height:"100%",scrolling:"no",src:this.getSrc(),title:"Embedded content from "+i+".",width:"100%"},autoGenerateKey:!1})):m.createElement("div",{className:"embed"},t):m.createElement("div",{className:"embed"},o):null},s}(M);h.handledProps=["active","as","aspectRatio","autoplay","brandedUI","children","className","color","content","defaultActive","hd","icon","id","iframe","onClick","placeholder","source","url"];h.propTypes={};h.autoControlledProps=["active"];const x=a=>{const[s,c]=y.useState(!1),r=y.useRef();return y.useEffect(()=>{if(r&&r.current&&a.placeholderAlt){const e=r.current.querySelector(".placeholder");e&&e.setAttribute("alt",a.placeholderAlt)}},[r,a.placeholderAlt]),d.jsx(V.Consumer,{children:e=>d.jsx(E,{centered:!1,className:"video-player",closeIcon:!0,mountNode:e,onClose:a.onClose.bind(void 0),open:a.open,size:a.size,children:d.jsxs(E.Content,{children:[s&&d.jsx(R,{content:P.t("VideoPlayer.errors.path.content",{path:a.video}),header:P.t("VideoPlayer.errors.path.header"),icon:"exclamation circle"}),a.embedded&&d.jsx(_,{innerRef:r,children:d.jsx(h,{active:a.autoPlay,icon:a.icon,iframe:a.autoPlay?{allow:"autoplay"}:void 0,placeholder:a.placeholder,url:`${a.video}${a.autoPlay?"?autoplay=true":""}`})}),!a.embedded&&d.jsx("video",{autoPlay:a.autoPlay,controls:!0,onError:()=>c(!0),src:a.video})]})})})};x.defaultProps={autoPlay:!1,embedded:!1,icon:"right circle arrow",size:"small"};x.__docgenInfo={description:"",methods:[],displayName:"VideoPlayer",props:{autoPlay:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},embedded:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},icon:{required:!1,flowType:{name:"union",raw:"string | Element<any>",elements:[{name:"string"},{name:"Element",elements:[{name:"any"}],raw:"Element<any>"}]},description:"",defaultValue:{value:"'right circle arrow'",computed:!1}},onClose:{required:!0,flowType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},open:{required:!0,flowType:{name:"boolean"},description:""},placeholder:{required:!1,flowType:{name:"string",nullable:!0},description:""},placeholderAlt:{required:!1,flowType:{name:"string"},description:""},size:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"'small'",computed:!1}},video:{required:!0,flowType:{name:"string"},description:""}}};export{x as V};
