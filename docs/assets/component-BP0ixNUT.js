import{r as y}from"./index-C0dDX-lL.js";import{_ as C,a as x,g as W}from"./index-DE75wVnf.js";var T=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},l=new WeakMap,h=new WeakMap,p={},S=0,b=function(e){return e&&(e.host||b(e.parentNode))},D=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=b(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},N=function(e,t,r,n){var u=D(t,Array.isArray(e)?e:[e]);p[r]||(p[r]=new WeakMap);var c=p[r],i=[],o=new Set,m=new Set(u),v=function(a){!a||o.has(a)||(o.add(a),v(a.parentNode))};u.forEach(v);var s=function(a){!a||m.has(a)||Array.prototype.forEach.call(a.children,function(f){if(o.has(f))s(f);else{var d=f.getAttribute(n),w=d!==null&&d!=="false",E=(l.get(f)||0)+1,M=(c.get(f)||0)+1;l.set(f,E),c.set(f,M),i.push(f),E===1&&w&&h.set(f,!0),M===1&&f.setAttribute(r,"true"),w||f.setAttribute(n,"true")}})};return s(t),o.clear(),S++,function(){i.forEach(function(a){var f=l.get(a)-1,d=c.get(a)-1;l.set(a,f),c.set(a,d),f||(h.has(a)||a.removeAttribute(n),h.delete(a)),d||a.removeAttribute(r)}),S--,S||(l=new WeakMap,l=new WeakMap,h=new WeakMap,p={})}},K=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),u=t||T(e);return u?(n.push.apply(n,Array.from(u.querySelectorAll("[aria-live]"))),N(n,u,r,"aria-hidden")):function(){return null}};function g(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function P(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var u=r.value;u!==n&&(r.value=n,r.callback(n,u))}}}})[0];return r.callback=t,r.facade}var A=new WeakMap;function L(e,t){var r=P(t||null,function(n){return e.forEach(function(u){return g(u,n)})});return y.useLayoutEffect(function(){var n=A.get(r);if(n){var u=new Set(n),c=new Set(e),i=r.current;u.forEach(function(o){c.has(o)||g(o,null)}),c.forEach(function(o){u.has(o)||g(o,i)})}A.set(r,e)},[e]),r}function B(e){return e}function I(e,t){t===void 0&&(t=B);var r=[],n=!1,u={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var i=t(c,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(c){for(n=!0;r.length;){var i=r;r=[],i.forEach(c)}r={push:function(o){return c(o)},filter:function(){return r}}},assignMedium:function(c){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(c),i=r}var m=function(){var s=i;i=[],s.forEach(c)},v=function(){return Promise.resolve().then(m)};v(),r={push:function(s){i.push(s),v()},filter:function(s){return i=i.filter(s),r}}}};return u}function _(e){e===void 0&&(e={});var t=I(null);return t.options=C({async:!0,ssr:!1},e),t}var k=function(e){var t=e.sideCar,r=x(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,C({},r))};k.isSideCarExport=!0;function z(e,t){return e.useMedium(t),k}function O(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=W();return t&&e.setAttribute("nonce",t),e}function Q(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function R(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var V=function(){var e=0,t=null;return{add:function(r){e==0&&(t=O())&&(Q(t,r),R(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j=function(){var e=V();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},F=function(){var e=j(),t=function(r){var n=r.styles,u=r.dynamic;return e(n,u),null};return t};export{_ as c,z as e,K as h,F as s,L as u};
