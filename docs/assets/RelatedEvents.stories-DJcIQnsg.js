import{j as e}from"./jsx-runtime-D9TvR9R2.js";import{r as j}from"./index-C0dDX-lL.js";import{_ as R}from"./index-default-C_maRo4o.js";import{c as u}from"./clsx-B-dksMZM.js";import{E as T}from"./EventsList-CZ0BEiNj.js";import{L as q}from"./LoadAnimation-b0qjd8WL.js";import{a as I,b as m}from"./CoreData-37WkoVSV.js";import{C as V,a as $}from"./chevron-right-DnfwX419.js";import{w as p}from"./CoreDataContextProvider-Btcnl27g.js";import"./_commonjsHelpers-BosuxZz1.js";import"./Event-DoS-MbgC.js";import"./index.es33-pAwSWr9A.js";import"./index-DOYXiIEK.js";import"./iframe-Dpp7an8u.js";import"../sb-preview/runtime.js";import"./createLucideIcon-Cly0WHBx.js";const v=t=>{const{data:{events:a}={},isNextDisabled:s,isPreviousDisabled:n,loading:k,onNext:L,onPageChange:_,onPrevious:N,page:d,pages:f=1}=I(t.onLoad,[]),D=j.useCallback(r=>{var h;return r.uuid===((h=t.selected)==null?void 0:h.uuid)},[t.selected]);return k?e.jsx(q,{}):e.jsxs("div",{children:[e.jsx(T,{description:t.description,events:a,isSelected:D,onClick:t.onClick}),f>1&&e.jsxs("div",{className:"flex justify-between items-center py-4 px-3 w-full bg-black/10 text-gray-400",children:[e.jsx("button",{"aria-label":"Previous Page",className:u("flex","items-center","justify-center","border","border-solid","rounded-full",{"disabled:pointer-events-none":n},{"bg-event-selected":!n},{"hover:bg-event-selected":!n},{"text-white":!n},{"border-event-selected":!n}),disabled:n,onClick:N,type:"button",children:e.jsx(V,{})}),e.jsx("div",{className:"flex content-center items-center",children:R.times(f,r=>e.jsx("button",{"aria-label":`Page ${r+1}`,className:u("px-3","py-1","rounded-none",{"bg-event-selected":d===r+1},{"hover:bg-event-selected":d===r+1},{"text-white":d===r+1}),onClick:()=>_(r+1),type:"button",children:r+1}))}),e.jsx("button",{"aria-label":"Next Page",className:u("flex","items-center","justify-center","border","border-solid","rounded-full",{"disabled:pointer-events-none":s},{"bg-event-selected":!s},{"hover:bg-event-selected":!s},{"text-white":!s},{"border-event-selected":!s}),disabled:s,onClick:L,type:"button",children:e.jsx($,{})})]})]})};v.defaultProps={description:!0,defaultPage:1,onClick:()=>{}};const l=v;v.__docgenInfo={description:"",methods:[],displayName:"RelatedEvents",props:{description:{required:!1,flowType:{name:"boolean"},description:"If `true`, the event description will be displayed on the card.",defaultValue:{value:"true",computed:!1}},onClick:{required:!1,flowType:{name:"signature",type:"function",raw:"(event: EventType) => void",signature:{arguments:[{name:"event",type:{name:"EventType"}}],return:{name:"void"}}},description:`Callback fired when an item in the list is clicked.

@param event`,defaultValue:{value:"() => {}",computed:!1}},onLoad:{required:!0,flowType:{name:"signature",type:"function",raw:"() => Promise<any>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:"Callback used to load the list of event records."},selected:{required:!1,flowType:{name:"EventType"},description:"The currently selected event record."},defaultPage:{defaultValue:{value:"1",computed:!1},required:!1}}};const ee={title:"Components/Core Data/RelatedEvents",component:l},o=p(()=>{const t=m();return e.jsx(l,{onLoad:a=>t.fetchRelatedEvents("1",a)})}),i=p(()=>{const[t,a]=j.useState(),s=m();return e.jsx(l,{onClick:n=>a(n),onLoad:n=>s.fetchRelatedEvents("1",n),selected:t})}),c=p(()=>{const t=m();return e.jsx(l,{onLoad:a=>t.fetchRelatedEvents("1",a).then(s=>(R.extend(s.list,{pages:5,count:22}),s))})});o.__docgenInfo={description:"",methods:[],displayName:"Default"};i.__docgenInfo={description:"",methods:[],displayName:"Selection"};c.__docgenInfo={description:"",methods:[],displayName:"Pagination"};var g,b,x;o.parameters={...o.parameters,docs:{...(g=o.parameters)==null?void 0:g.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const PlacesService = usePlacesService();
  return <RelatedEvents onLoad={params => PlacesService.fetchRelatedEvents('1', params)} />;
})`,...(x=(b=o.parameters)==null?void 0:b.docs)==null?void 0:x.source}}};var P,y,E;i.parameters={...i.parameters,docs:{...(P=i.parameters)==null?void 0:P.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const [selectedEvent, setSelectedEvent] = useState();
  const PlacesService = usePlacesService();
  return <RelatedEvents onClick={event => setSelectedEvent(event)} onLoad={params => PlacesService.fetchRelatedEvents('1', params)} selected={selectedEvent} />;
})`,...(E=(y=i.parameters)==null?void 0:y.docs)==null?void 0:E.source}}};var C,S,w;c.parameters={...c.parameters,docs:{...(C=c.parameters)==null?void 0:C.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const PlacesService = usePlacesService();
  return <RelatedEvents onLoad={params => PlacesService.fetchRelatedEvents('1', params).then(response => {
    _.extend(response.list, {
      pages: 5,
      count: 22
    });
    return response;
  })} />;
})`,...(w=(S=c.parameters)==null?void 0:S.docs)==null?void 0:w.source}}};const te=["Default","Selection","Pagination"];export{o as Default,c as Pagination,i as Selection,te as __namedExportsOrder,ee as default};
