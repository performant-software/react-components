import{j as y}from"./jsx-runtime-D9TvR9R2.js";import{r as c}from"./index.es33-Dn7k-koi.js";import{r as n}from"./index-C0dDX-lL.js";import{D as S}from"./Dropdown-DwNow7wJ.js";import{_ as b}from"./index-default-C_maRo4o.js";const x=[{isDefault:!1,name:"apa",title:"American Psychological Association 7th edition"},{isDefault:!1,name:"chicago-note-bibliography",title:"Chicago Manual of Style 17th edition (note)"},{isDefault:!0,name:"modern-language-association",title:"Modern Language Association 9th edition"},{isDefault:!1,name:"turabian-fullnote-bibliography",title:"Turabian 8th edition (full note)"}],C=10349,v={coreCitationStyles:x,citationStylesCount:C},w=o=>{const[a,e]=n.useState(),[l,r]=n.useState({}),[i,d]=n.useState(),[m,f]=n.useState(),s=n.useMemo(()=>v.coreCitationStyles,[]),h=n.useCallback(t=>{const u=c.findWhere(s,{name:t});e(t),d(u==null?void 0:u.title)},[s]),g=n.useMemo(()=>({name:a,title:i,xml:m}),[a,i,m]);return n.useEffect(()=>{if(!a){let t;o?t=c.findWhere(s,{name:o}):t=c.findWhere(s,{isDefault:!0}),h(t==null?void 0:t.name)}},[s,o]),n.useEffect(()=>{a&&(c.has(l,a)?f(l[a]):fetch(`https://www.zotero.org/styles/${a}`).then(t=>t.text()).then(t=>{f(t),r(u=>({...u,[a]:t}))}))},[a,l]),{onStyleChange:h,style:g,styles:s}},p=o=>{const{onStyleChange:a,style:e,styles:l}=w(o.value);return n.useEffect(()=>{e!=null&&e.name&&(e!=null&&e.xml)&&o.onChange(e.name,e.xml)},[e]),y.jsx(S,{onChange:(r,{value:i})=>a(i),options:b.map(l,({name:r,title:i})=>({key:r,value:r,text:i})),search:!0,searchInput:{"aria-label":"Search styles"},selectOnBlur:!1,selection:!0,text:e==null?void 0:e.title,value:(e==null?void 0:e.name)||""})},j=p;p.__docgenInfo={description:"This component can be used, along with the `useCitationStyles` hook, to display a list of bibliographic styles\nsupported by Zotero.",methods:[],displayName:"StyleSelector",props:{onChange:{required:!0,flowType:{name:"signature",type:"function",raw:"(name: string, xml: string) => void",signature:{arguments:[{name:"name",type:{name:"string"}},{name:"xml",type:{name:"string"}}],return:{name:"void"}}},description:"Callback fired when the style selector is changed."},value:{required:!1,flowType:{name:"string"},description:"Default style value."}}};export{j as S};
