import{j as e}from"./jsx-runtime-D9TvR9R2.js";import{r as R}from"./index-C0dDX-lL.js";import{_ as p}from"./index-default-C_maRo4o.js";import{c as o}from"./clsx-B-dksMZM.js";import{E as q}from"./Event-DjAcuOOB.js";import{L as I}from"./LoadAnimation-b0qjd8WL.js";import{b as V,u as v}from"./CoreData-D7TwIKTJ.js";import{c as k}from"./createLucideIcon-Cly0WHBx.js";import{w as f}from"./CoreDataContextProvider-D6qzoPqZ.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index.es30-DD0drfL0.js";import"./index-DOYXiIEK.js";import"./iframe-DexlADm7.js";import"../sb-preview/runtime.js";/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=k("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=k("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),h=s=>{const{data:{events:a}={},isNextDisabled:n,isPreviousDisabled:r,loading:L,onNext:_,onPageChange:D,onPrevious:T,page:m,pages:x=1}=V(s.onLoad,[]),d=R.useCallback(t=>{var b;return t.uuid===((b=s.selected)==null?void 0:b.uuid)},[s.selected]);return L?e.jsx(I,{}):e.jsxs("div",{children:[e.jsx("ul",{children:p.map(a,t=>e.jsx("li",{children:e.jsx("div",{className:"min-h-[5.5em] border-b flex flex-col justify-start",children:e.jsxs("button",{className:o("py-3","px-4","flex-grow","text-left","inline-flex","flex-col","rounded-none",{"hover:bg-event-selected":d(t)},{"text-white":d(t)},{"bg-event-selected":d(t)}),onClick:()=>s.onClick(t),type:"button",children:[e.jsx("div",{className:"flex justify-between w-full items-center",children:e.jsxs("div",{className:"flex-grow",children:[e.jsx("div",{children:q.getDateView(t)}),e.jsx("h2",{className:"text-xl font-bold",children:t.name})]})}),s.description&&e.jsx("p",{className:o("py-2",{"text-muted":!d(t)}),children:t.description})]})})}))}),x>1&&e.jsxs("div",{className:"flex justify-between items-center py-4 px-3 w-full bg-black/10 text-gray-400",children:[e.jsx("button",{"aria-label":"Previous Page",className:o("flex","items-center","justify-center","border","border-solid","rounded-full",{"disabled:pointer-events-none":r},{"bg-event-selected":!r},{"hover:bg-event-selected":!r},{"text-white":!r},{"border-event-selected":!r}),disabled:r,onClick:T,type:"button",children:e.jsx($,{})}),e.jsx("div",{className:"flex content-center items-center",children:p.times(x,t=>e.jsx("button",{"aria-label":`Page ${t+1}`,className:o("px-3","py-1","rounded-none",{"bg-event-selected":m===t+1},{"hover:bg-event-selected":m===t+1},{"text-white":m===t+1}),onClick:()=>D(t+1),type:"button",children:t+1}))}),e.jsx("button",{"aria-label":"Next Page",className:o("flex","items-center","justify-center","border","border-solid","rounded-full",{"disabled:pointer-events-none":n},{"bg-event-selected":!n},{"hover:bg-event-selected":!n},{"text-white":!n},{"border-event-selected":!n}),disabled:n,onClick:_,type:"button",children:e.jsx(A,{})})]})]})};h.defaultProps={description:!0,defaultPage:1,onClick:()=>{}};const u=h;h.__docgenInfo={description:"",methods:[],displayName:"RelatedEvents",props:{description:{required:!1,flowType:{name:"boolean"},description:"If `true`, the event description will be displayed on the card.",defaultValue:{value:"true",computed:!1}},onClick:{required:!1,flowType:{name:"signature",type:"function",raw:"(event: EventType) => void",signature:{arguments:[{name:"event",type:{name:"EventType"}}],return:{name:"void"}}},description:`Callback fired when an item in the list is clicked.

@param event`,defaultValue:{value:"() => {}",computed:!1}},onLoad:{required:!0,flowType:{name:"signature",type:"function",raw:"() => Promise<any>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:"Callback used to load the list of event records."},selected:{required:!1,flowType:{name:"EventType"},description:"The currently selected event record."},defaultPage:{defaultValue:{value:"1",computed:!1},required:!1}}};const Z={title:"Components/Core Data/RelatedEvents",component:u},l=f(()=>{const s=v();return e.jsx(u,{onLoad:a=>s.fetchRelatedEvents("1",a)})}),i=f(()=>{const[s,a]=R.useState(),n=v();return e.jsx(u,{onClick:r=>a(r),onLoad:r=>n.fetchRelatedEvents("1",r),selected:s})}),c=f(()=>{const s=v();return e.jsx(u,{onLoad:a=>s.fetchRelatedEvents("1",a).then(n=>(p.extend(n.list,{pages:5,count:22}),n))})});l.__docgenInfo={description:"",methods:[],displayName:"Default"};i.__docgenInfo={description:"",methods:[],displayName:"Selection"};c.__docgenInfo={description:"",methods:[],displayName:"Pagination"};var g,y,P;l.parameters={...l.parameters,docs:{...(g=l.parameters)==null?void 0:g.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const PlacesService = usePlacesService();
  return <RelatedEvents onLoad={params => PlacesService.fetchRelatedEvents('1', params)} />;
})`,...(P=(y=l.parameters)==null?void 0:y.docs)==null?void 0:P.source}}};var j,E,w;i.parameters={...i.parameters,docs:{...(j=i.parameters)==null?void 0:j.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const [selectedEvent, setSelectedEvent] = useState();
  const PlacesService = usePlacesService();
  return <RelatedEvents onClick={event => setSelectedEvent(event)} onLoad={params => PlacesService.fetchRelatedEvents('1', params)} selected={selectedEvent} />;
})`,...(w=(E=i.parameters)==null?void 0:E.docs)==null?void 0:w.source}}};var C,S,N;c.parameters={...c.parameters,docs:{...(C=c.parameters)==null?void 0:C.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const PlacesService = usePlacesService();
  return <RelatedEvents onLoad={params => PlacesService.fetchRelatedEvents('1', params).then(response => {
    _.extend(response.list, {
      pages: 5,
      count: 22
    });
    return response;
  })} />;
})`,...(N=(S=c.parameters)==null?void 0:S.docs)==null?void 0:N.source}}};const ee=["Default","Selection","Pagination"];export{l as Default,c as Pagination,i as Selection,ee as __namedExportsOrder,Z as default};
