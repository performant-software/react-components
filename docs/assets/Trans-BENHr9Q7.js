import{_ as J}from"./objectWithoutProperties--RY0eV0u.js";import{g as L}from"./_commonjsHelpers-BosuxZz1.js";import{b as R}from"./defineProperty-CGC-R-Bs.js";import{_ as ee}from"./defineProperty-BYUWwell.js";import{r as E}from"./index-CBqU2yxZ.js";import{I as te,w as re,g as ne,c as d,a as ae}from"./utils-C_6BAdFC.js";var se=R();const D=L(se);var oe={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const ie=L(oe);var ue=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function q(e){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=e.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(r.name=t[1],(ie[t[1]]||e.charAt(e.length-2)==="/")&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=e.indexOf("-->");return{type:"comment",comment:s!==-1?e.slice(4,s):""}}for(var u=new RegExp(ue),n=null;(n=u.exec(e))!==null;)if(n[0].trim())if(n[1]){var o=n[1].trim(),v=[o,""];o.indexOf("=")>-1&&(v=o.split("=")),r.attrs[v[0]]=v[1],u.lastIndex--}else n[2]&&(r.attrs[n[2]]=n[3].trim().substring(1,n[3].length-1));return r}var pe=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ce=/^\s*$/,le=Object.create(null);function M(e,r){switch(r.type){case"text":return e+r.content;case"tag":return e+="<"+r.name+(r.attrs?function(t){var s=[];for(var u in t)s.push(u+'="'+t[u]+'"');return s.length?" "+s.join(" "):""}(r.attrs):"")+(r.voidElement?"/>":">"),r.voidElement?e:e+r.children.reduce(M,"")+"</"+r.name+">";case"comment":return e+"<!--"+r.comment+"-->"}}var fe={parse:function(e,r){r||(r={}),r.components||(r.components=le);var t,s=[],u=[],n=-1,o=!1;if(e.indexOf("<")!==0){var v=e.indexOf("<");s.push({type:"text",content:v===-1?e:e.substring(0,v)})}return e.replace(pe,function(m,j){if(o){if(m!=="</"+t.name+">")return;o=!1}var x,k=m.charAt(1)!=="/",P=m.startsWith("<!--"),b=j+m.length,O=e.charAt(b);if(P){var T=q(m);return n<0?(s.push(T),s):((x=u[n]).children.push(T),s)}if(k&&(n++,(t=q(m)).type==="tag"&&r.components[t.name]&&(t.type="component",o=!0),t.voidElement||o||!O||O==="<"||t.children.push({type:"text",content:e.slice(b,e.indexOf("<",b))}),n===0&&s.push(t),(x=u[n-1])&&x.children.push(t),u[n]=t),(!k||t.voidElement)&&(n>-1&&(t.voidElement||t.name===m.slice(2,-1))&&(n--,t=n===-1?s:u[n]),!o&&O!=="<"&&O)){x=n===-1?s:u[n].children;var y=e.indexOf("<",b),g=e.slice(b,y===-1?void 0:y);ce.test(g)&&(g=" "),(y>-1&&n+x.length>=0||g!==" ")&&x.push({type:"text",content:g})}}),s},stringify:function(e){return e.reduce(function(r,t){return r+M("",t)},"")}},ve=["format"],me=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),t.push.apply(t,s)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?z(Object(t),!0).forEach(function(s){ee(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function W(e,r){if(!e)return!1;var t=e.props?e.props.children:e.children;return r?t.length>0:!!t}function $(e){return e?e.props?e.props.children:e.children:[]}function ye(e){return Object.prototype.toString.call(e)!=="[object Array]"?!1:e.every(function(r){return E.isValidElement(r)})}function S(e){return Array.isArray(e)?e:[e]}function ge(e,r){var t=f({},r);return t.props=Object.assign(e.props,r.props),t}function X(e,r){if(!e)return"";var t="",s=S(e),u=r.transSupportBasicHtmlNodes&&r.transKeepBasicHtmlNodesFor?r.transKeepBasicHtmlNodesFor:[];return s.forEach(function(n,o){if(typeof n=="string")t+="".concat(n);else if(E.isValidElement(n)){var v=Object.keys(n.props).length,m=u.indexOf(n.type)>-1,j=n.props.children;if(!j&&m&&v===0)t+="<".concat(n.type,"/>");else if(!j&&(!m||v!==0))t+="<".concat(o,"></").concat(o,">");else if(n.props.i18nIsDynamicList)t+="<".concat(o,"></").concat(o,">");else if(m&&v===1&&typeof j=="string")t+="<".concat(n.type,">").concat(j,"</").concat(n.type,">");else{var x=X(j,r);t+="<".concat(o,">").concat(x,"</").concat(o,">")}}else if(n===null)d("Trans: the passed in value is invalid - seems you passed in a null child.");else if(D(n)==="object"){var k=n.format,P=J(n,ve),b=Object.keys(P);if(b.length===1){var O=k?"".concat(b[0],", ").concat(k):b[0];t+="{{".concat(O,"}}")}else d("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",n)}else d("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",n)}),t}function be(e,r,t,s,u,n){if(r==="")return[];var o=s.transKeepBasicHtmlNodesFor||[],v=r&&new RegExp(o.join("|")).test(r);if(!e&&!v)return[r];var m={};function j(y){var g=S(y);g.forEach(function(i){typeof i!="string"&&(W(i)?j($(i)):D(i)==="object"&&!E.isValidElement(i)&&Object.assign(m,i))})}j(e);var x=fe.parse("<0>".concat(r,"</0>")),k=f(f({},m),u);function P(y,g,i){var c=$(y),w=O(c,g.children,i);return ye(c)&&w.length===0?c:w}function b(y,g,i,c,w){y.dummy&&(y.children=g),i.push(E.cloneElement(y,f(f({},y.props),{},{key:c}),w?void 0:g))}function O(y,g,i){var c=S(y),w=S(g);return w.reduce(function(p,a,h){var N=a.children&&a.children[0]&&a.children[0].content&&t.services.interpolator.interpolate(a.children[0].content,k,t.language);if(a.type==="tag"){var A=c[parseInt(a.name,10)];!A&&i.length===1&&i[0][a.name]&&(A=i[0][a.name]),A||(A={});var l=Object.keys(a.attrs).length!==0?ge({props:a.attrs},A):A,F=E.isValidElement(l),B=F&&W(a,!0)&&!a.voidElement,K=v&&D(l)==="object"&&l.dummy&&!F,V=D(e)==="object"&&e!==null&&Object.hasOwnProperty.call(e,a.name);if(typeof l=="string"){var H=t.services.interpolator.interpolate(l,k,t.language);p.push(H)}else if(W(l)||B){var Y=P(l,a,i);b(l,Y,p,h)}else if(K){var Z=O(c,a.children,i);p.push(E.cloneElement(l,f(f({},l.props),{},{key:h}),Z))}else if(Number.isNaN(parseFloat(a.name)))if(V){var G=P(l,a,i);b(l,G,p,h,a.voidElement)}else if(s.transSupportBasicHtmlNodes&&o.indexOf(a.name)>-1)if(a.voidElement)p.push(E.createElement(a.name,{key:"".concat(a.name,"-").concat(h)}));else{var Q=O(c,a.children,i);p.push(E.createElement(a.name,{key:"".concat(a.name,"-").concat(h)},Q))}else if(a.voidElement)p.push("<".concat(a.name," />"));else{var _=O(c,a.children,i);p.push("<".concat(a.name,">").concat(_,"</").concat(a.name,">"))}else if(D(l)==="object"&&!F){var C=a.children[0]?N:null;C&&p.push(C)}else a.children.length===1&&N?p.push(E.cloneElement(l,f(f({},l.props),{},{key:h}),N)):p.push(E.cloneElement(l,f(f({},l.props),{},{key:h})))}else if(a.type==="text"){var I=s.transWrapTextNodes,U=n?s.unescape(t.services.interpolator.interpolate(a.content,k,t.language)):t.services.interpolator.interpolate(a.content,k,t.language);I?p.push(E.createElement(I,{key:"".concat(a.name,"-").concat(h)},U)):p.push(U)}return p},[])}var T=O([{dummy:!0,children:e||[]}],x,S(e||[]));return $(T[0])}function we(e){var r=e.children,t=e.count,s=e.parent,u=e.i18nKey,n=e.context,o=e.tOptions,v=o===void 0?{}:o,m=e.values,j=e.defaults,x=e.components,k=e.ns,P=e.i18n,b=e.t,O=e.shouldUnescape,T=J(e,me),y=E.useContext(te)||{},g=y.i18n,i=y.defaultNS,c=P||g||ae();if(!c)return re("You will need to pass in an i18next instance by using i18nextReactModule"),r;var w=b||c.t.bind(c)||function(H){return H};n&&(v.context=n);var p=f(f({},ne()),c.options&&c.options.react),a=k||w.ns||i||c.options&&c.options.defaultNS;a=typeof a=="string"?[a]:a||["translation"];var h=j||X(r,p)||p.transEmptyNodeValue||u,N=p.hashTransKey,A=u||(N?N(h):h),l=m?v.interpolation:{interpolation:f(f({},v.interpolation),{},{prefix:"#$?",suffix:"?$#"})},F=f(f(f(f({},v),{},{count:t},m),l),{},{defaultValue:h,ns:a}),B=A?w(A,F):h,K=be(x||r,B,c,p,F,O),V=s!==void 0?s:p.defaultTransParent;return V?E.createElement(V,T,K):K}export{we as T};
