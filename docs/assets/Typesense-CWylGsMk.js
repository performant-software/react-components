import"./index.es28-DBRy2idf.js";import{g as ai}from"./iframe-ZimVXjeC.js";import{J as rr}from"./index.es33-CKBte7ac.js";import{m as Fi}from"./index.es11-DJotOdH7.js";import{r as Ii}from"./___vite-browser-external_commonjs-proxy-CG1Q82OI.js";import{_ as B}from"./index-default-B8-H6N8J.js";import{f as Hi,a as Ui}from"./index-C9inixJZ.js";var tt,or;function nr(){if(or)return tt;or=1;var c=String.prototype.replace,v=/%20/g,y={RFC1738:"RFC1738",RFC3986:"RFC3986"};return tt={default:y.RFC3986,formatters:{RFC1738:function(p){return c.call(p,v,"+")},RFC3986:function(p){return String(p)}},RFC1738:y.RFC1738,RFC3986:y.RFC3986},tt}var rt,ur;function oi(){if(ur)return rt;ur=1;var c=nr(),v=Object.prototype.hasOwnProperty,y=Array.isArray,p=function(){for(var n=[],d=0;d<256;++d)n.push("%"+((d<16?"0":"")+d.toString(16)).toUpperCase());return n}(),f=function(d){for(;d.length>1;){var _=d.pop(),w=_.obj[_.prop];if(y(w)){for(var b=[],g=0;g<w.length;++g)typeof w[g]<"u"&&b.push(w[g]);_.obj[_.prop]=b}}},h=function(d,_){for(var w=_&&_.plainObjects?Object.create(null):{},b=0;b<d.length;++b)typeof d[b]<"u"&&(w[b]=d[b]);return w},i=function n(d,_,w){if(!_)return d;if(typeof _!="object"){if(y(d))d.push(_);else if(d&&typeof d=="object")(w&&(w.plainObjects||w.allowPrototypes)||!v.call(Object.prototype,_))&&(d[_]=!0);else return[d,_];return d}if(!d||typeof d!="object")return[d].concat(_);var b=d;return y(d)&&!y(_)&&(b=h(d,w)),y(d)&&y(_)?(_.forEach(function(g,m){if(v.call(d,m)){var R=d[m];R&&typeof R=="object"&&g&&typeof g=="object"?d[m]=n(R,g,w):d.push(g)}else d[m]=g}),d):Object.keys(_).reduce(function(g,m){var R=_[m];return v.call(g,m)?g[m]=n(g[m],R,w):g[m]=R,g},b)},s=function(d,_){return Object.keys(_).reduce(function(w,b){return w[b]=_[b],w},d)},r=function(n,d,_){var w=n.replace(/\+/g," ");if(_==="iso-8859-1")return w.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(w)}catch{return w}},e=function(d,_,w,b,g){if(d.length===0)return d;var m=d;if(typeof d=="symbol"?m=Symbol.prototype.toString.call(d):typeof d!="string"&&(m=String(d)),w==="iso-8859-1")return escape(m).replace(/%u[0-9a-f]{4}/gi,function(T){return"%26%23"+parseInt(T.slice(2),16)+"%3B"});for(var R="",P=0;P<m.length;++P){var S=m.charCodeAt(P);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||g===c.RFC1738&&(S===40||S===41)){R+=m.charAt(P);continue}if(S<128){R=R+p[S];continue}if(S<2048){R=R+(p[192|S>>6]+p[128|S&63]);continue}if(S<55296||S>=57344){R=R+(p[224|S>>12]+p[128|S>>6&63]+p[128|S&63]);continue}P+=1,S=65536+((S&1023)<<10|m.charCodeAt(P)&1023),R+=p[240|S>>18]+p[128|S>>12&63]+p[128|S>>6&63]+p[128|S&63]}return R},a=function(d){for(var _=[{obj:{o:d},prop:"o"}],w=[],b=0;b<_.length;++b)for(var g=_[b],m=g.obj[g.prop],R=Object.keys(m),P=0;P<R.length;++P){var S=R[P],T=m[S];typeof T=="object"&&T!==null&&w.indexOf(T)===-1&&(_.push({obj:m,prop:S}),w.push(T))}return f(_),d},t=function(d){return Object.prototype.toString.call(d)==="[object RegExp]"},l=function(d){return!d||typeof d!="object"?!1:!!(d.constructor&&d.constructor.isBuffer&&d.constructor.isBuffer(d))},o=function(d,_){return[].concat(d,_)},u=function(d,_){if(y(d)){for(var w=[],b=0;b<d.length;b+=1)w.push(_(d[b]));return w}return _(d)};return rt={arrayToObject:h,assign:s,combine:o,compact:a,decode:r,encode:e,isBuffer:l,isRegExp:t,maybeMap:u,merge:i},rt}var nt,sr;function $i(){if(sr)return nt;sr=1;var c=oi(),v=nr(),y=Object.prototype.hasOwnProperty,p={brackets:function(n){return n+"[]"},comma:"comma",indices:function(n,d){return n+"["+d+"]"},repeat:function(n){return n}},f=Array.isArray,h=String.prototype.split,i=Array.prototype.push,s=function(u,n){i.apply(u,f(n)?n:[n])},r=Date.prototype.toISOString,e=v.default,a={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:c.encode,encodeValuesOnly:!1,format:e,formatter:v.formatters[e],indices:!1,serializeDate:function(n){return r.call(n)},skipNulls:!1,strictNullHandling:!1},t=function(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="symbol"||typeof n=="bigint"},l=function u(n,d,_,w,b,g,m,R,P,S,T,E,A,q){var k=n;if(typeof m=="function"?k=m(d,k):k instanceof Date?k=S(k):_==="comma"&&f(k)&&(k=c.maybeMap(k,function(L){return L instanceof Date?S(L):L})),k===null){if(w)return g&&!A?g(d,a.encoder,q,"key",T):d;k=""}if(t(k)||c.isBuffer(k)){if(g){var U=A?d:g(d,a.encoder,q,"key",T);if(_==="comma"&&A){for(var W=h.call(String(k),","),N="",H=0;H<W.length;++H)N+=(H===0?"":",")+E(g(W[H],a.encoder,q,"value",T));return[E(U)+"="+N]}return[E(U)+"="+E(g(k,a.encoder,q,"value",T))]}return[E(d)+"="+E(String(k))]}var K=[];if(typeof k>"u")return K;var x;if(_==="comma"&&f(k))x=[{value:k.length>0?k.join(",")||null:void 0}];else if(f(m))x=m;else{var C=Object.keys(k);x=R?C.sort(R):C}for(var O=0;O<x.length;++O){var j=x[O],D=typeof j=="object"&&typeof j.value<"u"?j.value:k[j];if(!(b&&D===null)){var M=f(k)?typeof _=="function"?_(d,j):d:d+(P?"."+j:"["+j+"]");s(K,u(D,M,_,w,b,g,m,R,P,S,T,E,A,q))}}return K},o=function(n){if(!n)return a;if(n.encoder!==null&&typeof n.encoder<"u"&&typeof n.encoder!="function")throw new TypeError("Encoder has to be a function.");var d=n.charset||a.charset;if(typeof n.charset<"u"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var _=v.default;if(typeof n.format<"u"){if(!y.call(v.formatters,n.format))throw new TypeError("Unknown format option provided.");_=n.format}var w=v.formatters[_],b=a.filter;return(typeof n.filter=="function"||f(n.filter))&&(b=n.filter),{addQueryPrefix:typeof n.addQueryPrefix=="boolean"?n.addQueryPrefix:a.addQueryPrefix,allowDots:typeof n.allowDots>"u"?a.allowDots:!!n.allowDots,charset:d,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:a.charsetSentinel,delimiter:typeof n.delimiter>"u"?a.delimiter:n.delimiter,encode:typeof n.encode=="boolean"?n.encode:a.encode,encoder:typeof n.encoder=="function"?n.encoder:a.encoder,encodeValuesOnly:typeof n.encodeValuesOnly=="boolean"?n.encodeValuesOnly:a.encodeValuesOnly,filter:b,format:_,formatter:w,serializeDate:typeof n.serializeDate=="function"?n.serializeDate:a.serializeDate,skipNulls:typeof n.skipNulls=="boolean"?n.skipNulls:a.skipNulls,sort:typeof n.sort=="function"?n.sort:null,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:a.strictNullHandling}};return nt=function(u,n){var d=u,_=o(n),w,b;typeof _.filter=="function"?(b=_.filter,d=b("",d)):f(_.filter)&&(b=_.filter,w=b);var g=[];if(typeof d!="object"||d===null)return"";var m;n&&n.arrayFormat in p?m=n.arrayFormat:n&&"indices"in n?m=n.indices?"indices":"repeat":m="indices";var R=p[m];w||(w=Object.keys(d)),_.sort&&w.sort(_.sort);for(var P=0;P<w.length;++P){var S=w[P];_.skipNulls&&d[S]===null||s(g,l(d[S],S,R,_.strictNullHandling,_.skipNulls,_.encode?_.encoder:null,_.filter,_.sort,_.allowDots,_.serializeDate,_.format,_.formatter,_.encodeValuesOnly,_.charset))}var T=g.join(_.delimiter),E=_.addQueryPrefix===!0?"?":"";return _.charsetSentinel&&(_.charset==="iso-8859-1"?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),T.length>0?E+T:""},nt}var it,cr;function Bi(){if(cr)return it;cr=1;var c=oi(),v=Object.prototype.hasOwnProperty,y=Array.isArray,p={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:c.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},f=function(l){return l.replace(/&#(\d+);/g,function(o,u){return String.fromCharCode(parseInt(u,10))})},h=function(l,o){return l&&typeof l=="string"&&o.comma&&l.indexOf(",")>-1?l.split(","):l},i="utf8=%26%2310003%3B",s="utf8=%E2%9C%93",r=function(o,u){var n={},d=u.ignoreQueryPrefix?o.replace(/^\?/,""):o,_=u.parameterLimit===1/0?void 0:u.parameterLimit,w=d.split(u.delimiter,_),b=-1,g,m=u.charset;if(u.charsetSentinel)for(g=0;g<w.length;++g)w[g].indexOf("utf8=")===0&&(w[g]===s?m="utf-8":w[g]===i&&(m="iso-8859-1"),b=g,g=w.length);for(g=0;g<w.length;++g)if(g!==b){var R=w[g],P=R.indexOf("]="),S=P===-1?R.indexOf("="):P+1,T,E;S===-1?(T=u.decoder(R,p.decoder,m,"key"),E=u.strictNullHandling?null:""):(T=u.decoder(R.slice(0,S),p.decoder,m,"key"),E=c.maybeMap(h(R.slice(S+1),u),function(A){return u.decoder(A,p.decoder,m,"value")})),E&&u.interpretNumericEntities&&m==="iso-8859-1"&&(E=f(E)),R.indexOf("[]=")>-1&&(E=y(E)?[E]:E),v.call(n,T)?n[T]=c.combine(n[T],E):n[T]=E}return n},e=function(l,o,u,n){for(var d=n?o:h(o,u),_=l.length-1;_>=0;--_){var w,b=l[_];if(b==="[]"&&u.parseArrays)w=[].concat(d);else{w=u.plainObjects?Object.create(null):{};var g=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,m=parseInt(g,10);!u.parseArrays&&g===""?w={0:d}:!isNaN(m)&&b!==g&&String(m)===g&&m>=0&&u.parseArrays&&m<=u.arrayLimit?(w=[],w[m]=d):g!=="__proto__"&&(w[g]=d)}d=w}return d},a=function(o,u,n,d){if(o){var _=n.allowDots?o.replace(/\.([^.[]+)/g,"[$1]"):o,w=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,g=n.depth>0&&w.exec(_),m=g?_.slice(0,g.index):_,R=[];if(m){if(!n.plainObjects&&v.call(Object.prototype,m)&&!n.allowPrototypes)return;R.push(m)}for(var P=0;n.depth>0&&(g=b.exec(_))!==null&&P<n.depth;){if(P+=1,!n.plainObjects&&v.call(Object.prototype,g[1].slice(1,-1))&&!n.allowPrototypes)return;R.push(g[1])}return g&&R.push("["+_.slice(g.index)+"]"),e(R,u,n,d)}},t=function(o){if(!o)return p;if(o.decoder!==null&&o.decoder!==void 0&&typeof o.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof o.charset<"u"&&o.charset!=="utf-8"&&o.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var u=typeof o.charset>"u"?p.charset:o.charset;return{allowDots:typeof o.allowDots>"u"?p.allowDots:!!o.allowDots,allowPrototypes:typeof o.allowPrototypes=="boolean"?o.allowPrototypes:p.allowPrototypes,arrayLimit:typeof o.arrayLimit=="number"?o.arrayLimit:p.arrayLimit,charset:u,charsetSentinel:typeof o.charsetSentinel=="boolean"?o.charsetSentinel:p.charsetSentinel,comma:typeof o.comma=="boolean"?o.comma:p.comma,decoder:typeof o.decoder=="function"?o.decoder:p.decoder,delimiter:typeof o.delimiter=="string"||c.isRegExp(o.delimiter)?o.delimiter:p.delimiter,depth:typeof o.depth=="number"||o.depth===!1?+o.depth:p.depth,ignoreQueryPrefix:o.ignoreQueryPrefix===!0,interpretNumericEntities:typeof o.interpretNumericEntities=="boolean"?o.interpretNumericEntities:p.interpretNumericEntities,parameterLimit:typeof o.parameterLimit=="number"?o.parameterLimit:p.parameterLimit,parseArrays:o.parseArrays!==!1,plainObjects:typeof o.plainObjects=="boolean"?o.plainObjects:p.plainObjects,strictNullHandling:typeof o.strictNullHandling=="boolean"?o.strictNullHandling:p.strictNullHandling}};return it=function(l,o){var u=t(o);if(l===""||l===null||typeof l>"u")return u.plainObjects?Object.create(null):{};for(var n=typeof l=="string"?r(l,u):l,d=u.plainObjects?Object.create(null):{},_=Object.keys(n),w=0;w<_.length;++w){var b=_[w],g=a(b,n[b],u,typeof l=="string");d=c.merge(d,g,u)}return c.compact(d)},it}var at,lr;function Gi(){if(lr)return at;lr=1;var c=$i(),v=Bi(),y=nr();return at={formats:y,parse:v,stringify:c},at}var Wi=Gi();const fr=ai(Wi);function Ie(c){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},y=v.fallback;return typeof window>"u"?y():c({window})}function Ke(c){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},Ke(c)}function Ki(c,v){if(!(c instanceof v))throw new TypeError("Cannot call a class as a function")}function zi(c,v){for(var y=0;y<v.length;y++){var p=v[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,ui(p.key),p)}}function Ji(c,v,y){return v&&zi(c.prototype,v),Object.defineProperty(c,"prototype",{writable:!1}),c}function z(c,v,y){return v=ui(v),v in c?Object.defineProperty(c,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[v]=y,c}function ui(c){var v=Qi(c,"string");return Ke(v)==="symbol"?v:String(v)}function Qi(c,v){if(Ke(c)!=="object"||c===null)return c;var y=c[Symbol.toPrimitive];if(y!==void 0){var p=y.call(c,v);if(Ke(p)!=="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(c)}var hr=function(v){v&&(window.document.title=v)},Xi=function(){function c(v){var y=this,p=v.windowTitle,f=v.writeDelay,h=f===void 0?400:f,i=v.createURL,s=v.parseURL,r=v.getLocation,e=v.start,a=v.dispose,t=v.push,l=v.cleanUrlOnDispose;Ki(this,c),z(this,"$$type","ais.browser"),z(this,"windowTitle",void 0),z(this,"writeDelay",void 0),z(this,"_createURL",void 0),z(this,"parseURL",void 0),z(this,"getLocation",void 0),z(this,"writeTimer",void 0),z(this,"_onPopState",void 0),z(this,"inPopState",!1),z(this,"isDisposed",!1),z(this,"latestAcknowledgedHistory",0),z(this,"_start",void 0),z(this,"_dispose",void 0),z(this,"_push",void 0),z(this,"_cleanUrlOnDispose",void 0),this.windowTitle=p,this.writeTimer=void 0,this.writeDelay=h,this._createURL=i,this.parseURL=s,this.getLocation=r,this._start=e,this._dispose=a,this._push=t,this._cleanUrlOnDispose=typeof l>"u"?!0:l,Ie(function(o){var u=o.window,n=y.windowTitle&&y.windowTitle(y.read());hr(n),y.latestAcknowledgedHistory=u.history.length})}return Ji(c,[{key:"read",value:function(){return this.parseURL({qsModule:fr,location:this.getLocation()})}},{key:"write",value:function(y){var p=this;Ie(function(f){var h=f.window,i=p.createURL(y),s=p.windowTitle&&p.windowTitle(y);p.writeTimer&&clearTimeout(p.writeTimer),p.writeTimer=setTimeout(function(){hr(s),p.shouldWrite(i)&&(p._push?p._push(i):h.history.pushState(y,s||"",i),p.latestAcknowledgedHistory=h.history.length),p.inPopState=!1,p.writeTimer=void 0},p.writeDelay)})}},{key:"onUpdate",value:function(y){var p=this;this._start&&this._start(function(){y(p.read())}),this._onPopState=function(){p.writeTimer&&(clearTimeout(p.writeTimer),p.writeTimer=void 0),p.inPopState=!0,y(p.read())},Ie(function(f){var h=f.window;h.addEventListener("popstate",p._onPopState)})}},{key:"createURL",value:function(y){var p=this._createURL({qsModule:fr,routeState:y,location:this.getLocation()});return p}},{key:"dispose",value:function(){var y=this;this._dispose&&this._dispose(),this.isDisposed=!0,Ie(function(p){var f=p.window;y._onPopState&&f.removeEventListener("popstate",y._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(y){var p=this;return Ie(function(f){var h=f.window,i=!(p.isDisposed&&p.latestAcknowledgedHistory!==h.history.length);return!p.inPopState&&i&&y!==h.location.href})}}]),c}();function Vi(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=c.createURL,y=v===void 0?function(u){var n=u.qsModule,d=u.routeState,_=u.location,w=_.protocol,b=_.hostname,g=_.port,m=g===void 0?"":g,R=_.pathname,P=_.hash,S=n.stringify(d),T=m===""?"":":".concat(m);return S?"".concat(w,"//").concat(b).concat(T).concat(R,"?").concat(S).concat(P):"".concat(w,"//").concat(b).concat(T).concat(R).concat(P)}:v,p=c.parseURL,f=p===void 0?function(u){var n=u.qsModule,d=u.location;return n.parse(d.search.slice(1),{arrayLimit:99})}:p,h=c.writeDelay,i=h===void 0?400:h,s=c.windowTitle,r=c.getLocation,e=r===void 0?function(){return Ie(function(u){var n=u.window;return n.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:r,a=c.start,t=c.dispose,l=c.push,o=c.cleanUrlOnDispose;return new Xi({createURL:y,parseURL:f,writeDelay:i,windowTitle:s,getLocation:e,start:a,dispose:t,push:l,cleanUrlOnDispose:o})}var ot={},ut={exports:{}},dr;function ze(){return dr||(dr=1,function(c){function v(y){return y&&y.__esModule?y:{default:y}}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(ut)),ut.exports}var st={exports:{}},ct={exports:{}},pr;function Ze(){return pr||(pr=1,function(c){function v(y){"@babel/helpers - typeof";return c.exports=v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},c.exports.__esModule=!0,c.exports.default=c.exports,v(y)}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(ct)),ct.exports}var vr;function Yi(){return vr||(vr=1,function(c){var v=Ze().default;function y(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */c.exports=y=function(){return f},c.exports.__esModule=!0,c.exports.default=c.exports;var p,f={},h=Object.prototype,i=h.hasOwnProperty,s=Object.defineProperty||function(x,C,O){x[C]=O.value},r=typeof Symbol=="function"?Symbol:{},e=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",t=r.toStringTag||"@@toStringTag";function l(x,C,O){return Object.defineProperty(x,C,{value:O,enumerable:!0,configurable:!0,writable:!0}),x[C]}try{l({},"")}catch{l=function(O,j,D){return O[j]=D}}function o(x,C,O,j){var D=C&&C.prototype instanceof g?C:g,M=Object.create(D.prototype),L=new H(j||[]);return s(M,"_invoke",{value:k(x,O,L)}),M}function u(x,C,O){try{return{type:"normal",arg:x.call(C,O)}}catch(j){return{type:"throw",arg:j}}}f.wrap=o;var n="suspendedStart",d="suspendedYield",_="executing",w="completed",b={};function g(){}function m(){}function R(){}var P={};l(P,e,function(){return this});var S=Object.getPrototypeOf,T=S&&S(S(K([])));T&&T!==h&&i.call(T,e)&&(P=T);var E=R.prototype=g.prototype=Object.create(P);function A(x){["next","throw","return"].forEach(function(C){l(x,C,function(O){return this._invoke(C,O)})})}function q(x,C){function O(D,M,L,F){var $=u(x[D],x,M);if($.type!=="throw"){var J=$.arg,Q=J.value;return Q&&v(Q)=="object"&&i.call(Q,"__await")?C.resolve(Q.__await).then(function(Y){O("next",Y,L,F)},function(Y){O("throw",Y,L,F)}):C.resolve(Q).then(function(Y){J.value=Y,L(J)},function(Y){return O("throw",Y,L,F)})}F($.arg)}var j;s(this,"_invoke",{value:function(M,L){function F(){return new C(function($,J){O(M,L,$,J)})}return j=j?j.then(F,F):F()}})}function k(x,C,O){var j=n;return function(D,M){if(j===_)throw new Error("Generator is already running");if(j===w){if(D==="throw")throw M;return{value:p,done:!0}}for(O.method=D,O.arg=M;;){var L=O.delegate;if(L){var F=U(L,O);if(F){if(F===b)continue;return F}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(j===n)throw j=w,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);j=_;var $=u(x,C,O);if($.type==="normal"){if(j=O.done?w:d,$.arg===b)continue;return{value:$.arg,done:O.done}}$.type==="throw"&&(j=w,O.method="throw",O.arg=$.arg)}}}function U(x,C){var O=C.method,j=x.iterator[O];if(j===p)return C.delegate=null,O==="throw"&&x.iterator.return&&(C.method="return",C.arg=p,U(x,C),C.method==="throw")||O!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+O+"' method")),b;var D=u(j,x.iterator,C.arg);if(D.type==="throw")return C.method="throw",C.arg=D.arg,C.delegate=null,b;var M=D.arg;return M?M.done?(C[x.resultName]=M.value,C.next=x.nextLoc,C.method!=="return"&&(C.method="next",C.arg=p),C.delegate=null,b):M:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,b)}function W(x){var C={tryLoc:x[0]};1 in x&&(C.catchLoc=x[1]),2 in x&&(C.finallyLoc=x[2],C.afterLoc=x[3]),this.tryEntries.push(C)}function N(x){var C=x.completion||{};C.type="normal",delete C.arg,x.completion=C}function H(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(W,this),this.reset(!0)}function K(x){if(x||x===""){var C=x[e];if(C)return C.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var O=-1,j=function D(){for(;++O<x.length;)if(i.call(x,O))return D.value=x[O],D.done=!1,D;return D.value=p,D.done=!0,D};return j.next=j}}throw new TypeError(v(x)+" is not iterable")}return m.prototype=R,s(E,"constructor",{value:R,configurable:!0}),s(R,"constructor",{value:m,configurable:!0}),m.displayName=l(R,t,"GeneratorFunction"),f.isGeneratorFunction=function(x){var C=typeof x=="function"&&x.constructor;return!!C&&(C===m||(C.displayName||C.name)==="GeneratorFunction")},f.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,R):(x.__proto__=R,l(x,t,"GeneratorFunction")),x.prototype=Object.create(E),x},f.awrap=function(x){return{__await:x}},A(q.prototype),l(q.prototype,a,function(){return this}),f.AsyncIterator=q,f.async=function(x,C,O,j,D){D===void 0&&(D=Promise);var M=new q(o(x,C,O,j),D);return f.isGeneratorFunction(C)?M:M.next().then(function(L){return L.done?L.value:M.next()})},A(E),l(E,t,"Generator"),l(E,e,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),f.keys=function(x){var C=Object(x),O=[];for(var j in C)O.push(j);return O.reverse(),function D(){for(;O.length;){var M=O.pop();if(M in C)return D.value=M,D.done=!1,D}return D.done=!0,D}},f.values=K,H.prototype={constructor:H,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(N),!C)for(var O in this)O.charAt(0)==="t"&&i.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=p)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var O=this;function j(J,Q){return L.type="throw",L.arg=C,O.next=J,Q&&(O.method="next",O.arg=p),!!Q}for(var D=this.tryEntries.length-1;D>=0;--D){var M=this.tryEntries[D],L=M.completion;if(M.tryLoc==="root")return j("end");if(M.tryLoc<=this.prev){var F=i.call(M,"catchLoc"),$=i.call(M,"finallyLoc");if(F&&$){if(this.prev<M.catchLoc)return j(M.catchLoc,!0);if(this.prev<M.finallyLoc)return j(M.finallyLoc)}else if(F){if(this.prev<M.catchLoc)return j(M.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return j(M.finallyLoc)}}}},abrupt:function(C,O){for(var j=this.tryEntries.length-1;j>=0;--j){var D=this.tryEntries[j];if(D.tryLoc<=this.prev&&i.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var M=D;break}}M&&(C==="break"||C==="continue")&&M.tryLoc<=O&&O<=M.finallyLoc&&(M=null);var L=M?M.completion:{};return L.type=C,L.arg=O,M?(this.method="next",this.next=M.finallyLoc,b):this.complete(L)},complete:function(C,O){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&O&&(this.next=O),b},finish:function(C){for(var O=this.tryEntries.length-1;O>=0;--O){var j=this.tryEntries[O];if(j.finallyLoc===C)return this.complete(j.completion,j.afterLoc),N(j),b}},catch:function(C){for(var O=this.tryEntries.length-1;O>=0;--O){var j=this.tryEntries[O];if(j.tryLoc===C){var D=j.completion;if(D.type==="throw"){var M=D.arg;N(j)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(C,O,j){return this.delegate={iterator:K(C),resultName:O,nextLoc:j},this.method==="next"&&(this.arg=p),b}},f}c.exports=y,c.exports.__esModule=!0,c.exports.default=c.exports}(st)),st.exports}var lt,yr;function si(){if(yr)return lt;yr=1;var c=Yi()();lt=c;try{regeneratorRuntime=c}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}return lt}var ft={exports:{}},_r;function ci(){return _r||(_r=1,function(c){function v(p,f,h,i,s,r,e){try{var a=p[r](e),t=a.value}catch(l){h(l);return}a.done?f(t):Promise.resolve(t).then(i,s)}function y(p){return function(){var f=this,h=arguments;return new Promise(function(i,s){var r=p.apply(f,h);function e(t){v(r,i,s,e,a,"next",t)}function a(t){v(r,i,s,e,a,"throw",t)}e(void 0)})}}c.exports=y,c.exports.__esModule=!0,c.exports.default=c.exports}(ft)),ft.exports}var ht={exports:{}},gr;function Je(){return gr||(gr=1,function(c){function v(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(ht)),ht.exports}var dt={exports:{}},pt={exports:{}},vt={exports:{}},br;function Zi(){return br||(br=1,function(c){var v=Ze().default;function y(p,f){if(v(p)!="object"||!p)return p;var h=p[Symbol.toPrimitive];if(h!==void 0){var i=h.call(p,f||"default");if(v(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(p)}c.exports=y,c.exports.__esModule=!0,c.exports.default=c.exports}(vt)),vt.exports}var mr;function li(){return mr||(mr=1,function(c){var v=Ze().default,y=Zi();function p(f){var h=y(f,"string");return v(h)=="symbol"?h:String(h)}c.exports=p,c.exports.__esModule=!0,c.exports.default=c.exports}(pt)),pt.exports}var wr;function Qe(){return wr||(wr=1,function(c){var v=li();function y(f,h){for(var i=0;i<h.length;i++){var s=h[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(f,v(s.key),s)}}function p(f,h,i){return h&&y(f.prototype,h),i&&y(f,i),Object.defineProperty(f,"prototype",{writable:!1}),f}c.exports=p,c.exports.__esModule=!0,c.exports.default=c.exports}(dt)),dt.exports}var He={},Sr;function ea(){if(Sr)return He;Sr=1;var c=ze();Object.defineProperty(He,"__esModule",{value:!0}),He.Configuration=void 0;var v=c(Je()),y=c(Qe()),p=function(){function f(){var h,i,s,r,e,a,t,l,o,u,n,d,_,w=this,b,g,m,R,P,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,v.default)(this,f),this.server=S.server||{nodes:[{host:"localhost",port:"8108",path:"",protocol:"http"}]},this.server.cacheSearchResultsForSeconds=(h=this.server.cacheSearchResultsForSeconds)!==null&&h!==void 0?h:2*60,this.additionalSearchParameters=(i=S.additionalSearchParameters)!==null&&i!==void 0?i:{},this.additionalSearchParameters.query_by=(s=(r=this.additionalSearchParameters.queryBy)!==null&&r!==void 0?r:this.additionalSearchParameters.query_by)!==null&&s!==void 0?s:"",this.additionalSearchParameters.preset=(e=(a=this.additionalSearchParameters.preset)!==null&&a!==void 0?a:this.additionalSearchParameters.preset)!==null&&e!==void 0?e:"",this.additionalSearchParameters.sort_by=(t=(l=this.additionalSearchParameters.sortBy)!==null&&l!==void 0?l:this.additionalSearchParameters.sort_by)!==null&&t!==void 0?t:"",this.additionalSearchParameters.highlight_full_fields=(o=(u=this.additionalSearchParameters.highlightFullFields)!==null&&u!==void 0?u:this.additionalSearchParameters.highlight_full_fields)!==null&&o!==void 0?o:this.additionalSearchParameters.query_by,this.geoLocationField=(n=S.geoLocationField)!==null&&n!==void 0?n:"_geoloc",this.facetableFieldsWithSpecialCharacters=(d=S.facetableFieldsWithSpecialCharacters)!==null&&d!==void 0?d:[],this.collectionSpecificSearchParameters=(_=S.collectionSpecificSearchParameters)!==null&&_!==void 0?_:{},Object.keys(this.collectionSpecificSearchParameters).forEach(function(T){var E,A,q,k,U,W,N=w.collectionSpecificSearchParameters[T];N.query_by=(E=N.queryBy)!==null&&E!==void 0?E:N.query_by,N.preset=(A=N.preset)!==null&&A!==void 0?A:N.preset,N.sort_by=(q=N.sortBy)!==null&&q!==void 0?q:N.sort_by,N.highlight_full_fields=(k=(U=(W=N.highlightFullFields)!==null&&W!==void 0?W:N.highlight_full_fields)!==null&&U!==void 0?U:w.additionalSearchParameters.highlight_full_fields)!==null&&k!==void 0?k:N.query_by,Object.keys(N).forEach(function(H){return N[H]===void 0?delete N[H]:{}})}),this.renderingContent=S.renderingContent,this.flattenGroupedHits=(b=S.flattenGroupedHits)!==null&&b!==void 0?b:!0,this.facetByOptions=(g=S.facetByOptions)!==null&&g!==void 0?g:{},this.filterByOptions=(m=S.filterByOptions)!==null&&m!==void 0?m:{},this.collectionSpecificFacetByOptions=(R=S.collectionSpecificFacetByOptions)!==null&&R!==void 0?R:{},this.collectionSpecificFilterByOptions=(P=S.collectionSpecificFilterByOptions)!==null&&P!==void 0?P:{}}return(0,y.default)(f,[{key:"validate",value:function(){if((this.additionalSearchParameters.queryBy||Object.values(this.collectionSpecificSearchParameters).some(function(i){return i.queryBy}))&&console.warn("[typesense-instantsearch-adapter] Please use snake_cased versions of parameters in additionalSearchParameters instead of camelCased parameters. For example: Use query_by instead of queryBy. camelCased parameters will be deprecated in a future version. We're making this change so that parameter names are identical to the ones sent to Typesense (which are all snake_cased), and to also keep the types for these parameters in sync with the types defined in typesense-js."),this.additionalSearchParameters.query_by.length===0&&this.additionalSearchParameters.preset.length===0&&(Object.keys(this.collectionSpecificSearchParameters).length===0||Object.values(this.collectionSpecificSearchParameters).some(function(i){return(i.query_by||"").length===0&&(i.preset||"").length===0})))throw new Error("[typesense-instantsearch-adapter] Missing parameter: One of additionalSearchParameters.query_by or additionalSearchParameters.preset needs to be set, or all collectionSpecificSearchParameters need to have either .query_by or .preset set.")}}]),f}();return He.Configuration=p,He}var G={},De={},V={},Ye={exports:{}},ta=Ye.exports,Rr;function ra(){return Rr||(Rr=1,function(c){(function(v,y){c.exports?c.exports=y():v.log=y()})(ta,function(){var v=function(){},y="undefined",p=typeof window!==y&&typeof window.navigator!==y&&/Trident\/|MSIE /.test(window.navigator.userAgent),f=["trace","debug","info","warn","error"],h={},i=null;function s(n,d){var _=n[d];if(typeof _.bind=="function")return _.bind(n);try{return Function.prototype.bind.call(_,n)}catch{return function(){return Function.prototype.apply.apply(_,[n,arguments])}}}function r(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function e(n){return n==="debug"&&(n="log"),typeof console===y?!1:n==="trace"&&p?r:console[n]!==void 0?s(console,n):console.log!==void 0?s(console,"log"):v}function a(){for(var n=this.getLevel(),d=0;d<f.length;d++){var _=f[d];this[_]=d<n?v:this.methodFactory(_,n,this.name)}if(this.log=this.debug,typeof console===y&&n<this.levels.SILENT)return"No console available for logging"}function t(n){return function(){typeof console!==y&&(a.call(this),this[n].apply(this,arguments))}}function l(n,d,_){return e(n)||t.apply(this,arguments)}function o(n,d){var _=this,w,b,g,m="loglevel";typeof n=="string"?m+=":"+n:typeof n=="symbol"&&(m=void 0);function R(A){var q=(f[A]||"silent").toUpperCase();if(!(typeof window===y||!m)){try{window.localStorage[m]=q;return}catch{}try{window.document.cookie=encodeURIComponent(m)+"="+q+";"}catch{}}}function P(){var A;if(!(typeof window===y||!m)){try{A=window.localStorage[m]}catch{}if(typeof A===y)try{var q=window.document.cookie,k=encodeURIComponent(m),U=q.indexOf(k+"=");U!==-1&&(A=/^([^;]+)/.exec(q.slice(U+k.length+1))[1])}catch{}return _.levels[A]===void 0&&(A=void 0),A}}function S(){if(!(typeof window===y||!m)){try{window.localStorage.removeItem(m)}catch{}try{window.document.cookie=encodeURIComponent(m)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function T(A){var q=A;if(typeof q=="string"&&_.levels[q.toUpperCase()]!==void 0&&(q=_.levels[q.toUpperCase()]),typeof q=="number"&&q>=0&&q<=_.levels.SILENT)return q;throw new TypeError("log.setLevel() called with invalid level: "+A)}_.name=n,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=d||l,_.getLevel=function(){return g??b??w},_.setLevel=function(A,q){return g=T(A),q!==!1&&R(g),a.call(_)},_.setDefaultLevel=function(A){b=T(A),P()||_.setLevel(A,!1)},_.resetLevel=function(){g=null,S(),a.call(_)},_.enableAll=function(A){_.setLevel(_.levels.TRACE,A)},_.disableAll=function(A){_.setLevel(_.levels.SILENT,A)},_.rebuild=function(){if(i!==_&&(w=T(i.getLevel())),a.call(_),i===_)for(var A in h)h[A].rebuild()},w=T(i?i.getLevel():"WARN");var E=P();E!=null&&(g=T(E)),a.call(_)}i=new o,i.getLogger=function(d){if(typeof d!="symbol"&&typeof d!="string"||d==="")throw new TypeError("You must supply a name when creating a logger.");var _=h[d];return _||(_=h[d]=new o(d,i.methodFactory)),_};var u=typeof window!==y?window.log:void 0;return i.noConflict=function(){return typeof window!==y&&window.log===i&&(window.log=u),i},i.getLoggers=function(){return h},i.default=i,i})}(Ye)),Ye.exports}var I={},ve={},Me={},Cr;function te(){if(Cr)return Me;Cr=1;var c=Me&&Me.__extends||function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,i){h.__proto__=i}||function(h,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(h[s]=i[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function h(){this.constructor=p}p.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(Me,"__esModule",{value:!0});var v=function(y){c(p,y);function p(f){var h=this.constructor,i=y.call(this,f)||this;return i.name=h.name,Object.setPrototypeOf(i,h.prototype),i}return p}(Error);return Me.default=v,Me}var Or;function na(){if(Or)return ve;Or=1;var c=ve&&ve.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=ve&&ve.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ve,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return ve.default=p,ve}var ye={},xr;function ia(){if(xr)return ye;xr=1;var c=ye&&ye.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=ye&&ye.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ye,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return ye.default=p,ye}var _e={},Er;function aa(){if(Er)return _e;Er=1;var c=_e&&_e.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=_e&&_e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(_e,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return _e.default=p,_e}var ge={},Tr;function oa(){if(Tr)return ge;Tr=1;var c=ge&&ge.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=ge&&ge.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ge,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return ge.default=p,ge}var be={},Pr;function ua(){if(Pr)return be;Pr=1;var c=be&&be.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=be&&be.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(be,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return be.default=p,be}var me={},Ar;function sa(){if(Ar)return me;Ar=1;var c=me&&me.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=me&&me.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(me,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return me.default=p,me}var we={},qr;function ca(){if(qr)return we;qr=1;var c=we&&we.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=we&&we.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(we,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return we.default=p,we}var Se={},jr;function la(){if(jr)return Se;jr=1;var c=Se&&Se.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=Se&&Se.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Se,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h}(y.default);return Se.default=p,Se}var Re={},kr;function fa(){if(kr)return Re;kr=1;var c=Re&&Re.__extends||function(){var f=function(h,i){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e])},f(h,i)};return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");f(h,i);function s(){this.constructor=h}h.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),v=Re&&Re.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Re,"__esModule",{value:!0});var y=v(te()),p=function(f){c(h,f);function h(i,s){var r=f.call(this,i)||this;return r.importResults=s,r}return h}(y.default);return Re.default=p,Re}var Nr;function Xe(){if(Nr)return I;Nr=1;var c=I&&I.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(I,"__esModule",{value:!0}),I.ImportError=I.TypesenseError=I.ServerError=I.RequestUnauthorized=I.RequestMalformed=I.ObjectUnprocessable=I.ObjectNotFound=I.ObjectAlreadyExists=I.MissingConfigurationError=I.HTTPError=void 0;var v=c(na());I.HTTPError=v.default;var y=c(ia());I.MissingConfigurationError=y.default;var p=c(aa());I.ObjectAlreadyExists=p.default;var f=c(oa());I.ObjectNotFound=f.default;var h=c(ua());I.ObjectUnprocessable=h.default;var i=c(sa());I.RequestMalformed=i.default;var s=c(ca());I.RequestUnauthorized=s.default;var r=c(la());I.ServerError=r.default;var e=c(fa());I.ImportError=e.default;var a=c(te());return I.TypesenseError=a.default,I}var Dr;function fi(){if(Dr)return V;Dr=1;var c=V&&V.__assign||function(){return c=Object.assign||function(s){for(var r,e=1,a=arguments.length;e<a;e++){r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(s[t]=r[t])}return s},c.apply(this,arguments)},v=V&&V.__createBinding||(Object.create?function(s,r,e,a){a===void 0&&(a=e);var t=Object.getOwnPropertyDescriptor(r,e);(!t||("get"in t?!r.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(s,a,t)}:function(s,r,e,a){a===void 0&&(a=e),s[a]=r[e]}),y=V&&V.__setModuleDefault||(Object.create?function(s,r){Object.defineProperty(s,"default",{enumerable:!0,value:r})}:function(s,r){s.default=r}),p=V&&V.__importStar||function(s){if(s&&s.__esModule)return s;var r={};if(s!=null)for(var e in s)e!=="default"&&Object.prototype.hasOwnProperty.call(s,e)&&v(r,s,e);return y(r,s),r};Object.defineProperty(V,"__esModule",{value:!0});var f=p(ra()),h=Xe(),i=function(){function s(r){var e=this;this.nodes=r.nodes||[],this.nodes=this.nodes.map(function(a){return e.setDefaultPathInNode(a)}).map(function(a){return e.setDefaultPortInNode(a)}).map(function(a){return c({},a)}),r.randomizeNodes==null&&(r.randomizeNodes=!0),r.randomizeNodes===!0&&this.shuffleArray(this.nodes),this.nearestNode=r.nearestNode,this.nearestNode=this.setDefaultPathInNode(this.nearestNode),this.nearestNode=this.setDefaultPortInNode(this.nearestNode),this.connectionTimeoutSeconds=r.connectionTimeoutSeconds||r.timeoutSeconds||5,this.healthcheckIntervalSeconds=r.healthcheckIntervalSeconds||60,this.numRetries=r.numRetries||this.nodes.length+(this.nearestNode==null?0:1)||3,this.retryIntervalSeconds=r.retryIntervalSeconds||.1,this.apiKey=r.apiKey,this.sendApiKeyAsQueryParam=r.sendApiKeyAsQueryParam,this.cacheSearchResultsForSeconds=r.cacheSearchResultsForSeconds||0,this.useServerSideSearchCache=r.useServerSideSearchCache||!1,this.logger=r.logger||f,this.logLevel=r.logLevel||"warn",this.logger.setLevel(this.logLevel),this.additionalHeaders=r.additionalHeaders,this.showDeprecationWarnings(r),this.validate()}return s.prototype.validate=function(){if(this.nodes==null||this.nodes.length===0||this.validateNodes())throw new h.MissingConfigurationError("Ensure that nodes[].protocol, nodes[].host and nodes[].port are set");if(this.nearestNode!=null&&this.isNodeMissingAnyParameters(this.nearestNode))throw new h.MissingConfigurationError("Ensure that nearestNodes.protocol, nearestNodes.host and nearestNodes.port are set");if(this.apiKey==null)throw new h.MissingConfigurationError("Ensure that apiKey is set");return!0},s.prototype.validateNodes=function(){var r=this;return this.nodes.some(function(e){return r.isNodeMissingAnyParameters(e)})},s.prototype.isNodeMissingAnyParameters=function(r){return!["protocol","host","port","path"].every(function(e){return r.hasOwnProperty(e)})&&r.url==null},s.prototype.setDefaultPathInNode=function(r){return r!=null&&!r.hasOwnProperty("path")&&(r.path=""),r},s.prototype.setDefaultPortInNode=function(r){if(r!=null&&!r.hasOwnProperty("port")&&r.hasOwnProperty("protocol"))switch(r.protocol){case"https":r.port=443;break;case"http":r.port=80;break}return r},s.prototype.showDeprecationWarnings=function(r){r.timeoutSeconds&&this.logger.warn("Deprecation warning: timeoutSeconds is now renamed to connectionTimeoutSeconds"),r.masterNode&&this.logger.warn("Deprecation warning: masterNode is now consolidated to nodes, starting with Typesense Server v0.12"),r.readReplicaNodes&&this.logger.warn("Deprecation warning: readReplicaNodes is now consolidated to nodes, starting with Typesense Server v0.12")},s.prototype.shuffleArray=function(r){for(var e,a=r.length-1;a>0;a--){var t=Math.floor(Math.random()*(a+1));e=[r[t],r[a]],r[a]=e[0],r[t]=e[1]}},s}();return V.default=i,V}var re={},Ve={exports:{}},yt,Mr;function hi(){return Mr||(Mr=1,yt=function(v,y){return function(){for(var f=new Array(arguments.length),h=0;h<f.length;h++)f[h]=arguments[h];return v.apply(y,f)}}),yt}var _t,Lr;function X(){if(Lr)return _t;Lr=1;var c=hi(),v=Object.prototype.toString;function y(S){return Array.isArray(S)}function p(S){return typeof S>"u"}function f(S){return S!==null&&!p(S)&&S.constructor!==null&&!p(S.constructor)&&typeof S.constructor.isBuffer=="function"&&S.constructor.isBuffer(S)}function h(S){return v.call(S)==="[object ArrayBuffer]"}function i(S){return v.call(S)==="[object FormData]"}function s(S){var T;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?T=ArrayBuffer.isView(S):T=S&&S.buffer&&h(S.buffer),T}function r(S){return typeof S=="string"}function e(S){return typeof S=="number"}function a(S){return S!==null&&typeof S=="object"}function t(S){if(v.call(S)!=="[object Object]")return!1;var T=Object.getPrototypeOf(S);return T===null||T===Object.prototype}function l(S){return v.call(S)==="[object Date]"}function o(S){return v.call(S)==="[object File]"}function u(S){return v.call(S)==="[object Blob]"}function n(S){return v.call(S)==="[object Function]"}function d(S){return a(S)&&n(S.pipe)}function _(S){return v.call(S)==="[object URLSearchParams]"}function w(S){return S.trim?S.trim():S.replace(/^\s+|\s+$/g,"")}function b(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function g(S,T){if(!(S===null||typeof S>"u"))if(typeof S!="object"&&(S=[S]),y(S))for(var E=0,A=S.length;E<A;E++)T.call(null,S[E],E,S);else for(var q in S)Object.prototype.hasOwnProperty.call(S,q)&&T.call(null,S[q],q,S)}function m(){var S={};function T(q,k){t(S[k])&&t(q)?S[k]=m(S[k],q):t(q)?S[k]=m({},q):y(q)?S[k]=q.slice():S[k]=q}for(var E=0,A=arguments.length;E<A;E++)g(arguments[E],T);return S}function R(S,T,E){return g(T,function(q,k){E&&typeof q=="function"?S[k]=c(q,E):S[k]=q}),S}function P(S){return S.charCodeAt(0)===65279&&(S=S.slice(1)),S}return _t={isArray:y,isArrayBuffer:h,isBuffer:f,isFormData:i,isArrayBufferView:s,isString:r,isNumber:e,isObject:a,isPlainObject:t,isUndefined:p,isDate:l,isFile:o,isBlob:u,isFunction:n,isStream:d,isURLSearchParams:_,isStandardBrowserEnv:b,forEach:g,merge:m,extend:R,trim:w,stripBOM:P},_t}var gt,Fr;function di(){if(Fr)return gt;Fr=1;var c=X();function v(y){return encodeURIComponent(y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return gt=function(p,f,h){if(!f)return p;var i;if(h)i=h(f);else if(c.isURLSearchParams(f))i=f.toString();else{var s=[];c.forEach(f,function(a,t){a===null||typeof a>"u"||(c.isArray(a)?t=t+"[]":a=[a],c.forEach(a,function(o){c.isDate(o)?o=o.toISOString():c.isObject(o)&&(o=JSON.stringify(o)),s.push(v(t)+"="+v(o))}))}),i=s.join("&")}if(i){var r=p.indexOf("#");r!==-1&&(p=p.slice(0,r)),p+=(p.indexOf("?")===-1?"?":"&")+i}return p},gt}var bt,Ir;function ha(){if(Ir)return bt;Ir=1;var c=X();function v(){this.handlers=[]}return v.prototype.use=function(p,f,h){return this.handlers.push({fulfilled:p,rejected:f,synchronous:h?h.synchronous:!1,runWhen:h?h.runWhen:null}),this.handlers.length-1},v.prototype.eject=function(p){this.handlers[p]&&(this.handlers[p]=null)},v.prototype.forEach=function(p){c.forEach(this.handlers,function(h){h!==null&&p(h)})},bt=v,bt}var mt,Hr;function da(){if(Hr)return mt;Hr=1;var c=X();return mt=function(y,p){c.forEach(y,function(h,i){i!==p&&i.toUpperCase()===p.toUpperCase()&&(y[p]=h,delete y[i])})},mt}var wt,Ur;function pi(){return Ur||(Ur=1,wt=function(v,y,p,f,h){return v.config=y,p&&(v.code=p),v.request=f,v.response=h,v.isAxiosError=!0,v.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},v}),wt}var St,$r;function vi(){return $r||($r=1,St={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),St}var Rt,Br;function yi(){if(Br)return Rt;Br=1;var c=pi();return Rt=function(y,p,f,h,i){var s=new Error(y);return c(s,p,f,h,i)},Rt}var Ct,Gr;function pa(){if(Gr)return Ct;Gr=1;var c=yi();return Ct=function(y,p,f){var h=f.config.validateStatus;!f.status||!h||h(f.status)?y(f):p(c("Request failed with status code "+f.status,f.config,null,f.request,f))},Ct}var Ot,Wr;function va(){if(Wr)return Ot;Wr=1;var c=X();return Ot=c.isStandardBrowserEnv()?function(){return{write:function(p,f,h,i,s,r){var e=[];e.push(p+"="+encodeURIComponent(f)),c.isNumber(h)&&e.push("expires="+new Date(h).toGMTString()),c.isString(i)&&e.push("path="+i),c.isString(s)&&e.push("domain="+s),r===!0&&e.push("secure"),document.cookie=e.join("; ")},read:function(p){var f=document.cookie.match(new RegExp("(^|;\\s*)("+p+")=([^;]*)"));return f?decodeURIComponent(f[3]):null},remove:function(p){this.write(p,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Ot}var xt,Kr;function ya(){return Kr||(Kr=1,xt=function(v){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(v)}),xt}var Et,zr;function _a(){return zr||(zr=1,Et=function(v,y){return y?v.replace(/\/+$/,"")+"/"+y.replace(/^\/+/,""):v}),Et}var Tt,Jr;function ga(){if(Jr)return Tt;Jr=1;var c=ya(),v=_a();return Tt=function(p,f){return p&&!c(f)?v(p,f):f},Tt}var Pt,Qr;function ba(){if(Qr)return Pt;Qr=1;var c=X(),v=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Pt=function(p){var f={},h,i,s;return p&&c.forEach(p.split(`
`),function(e){if(s=e.indexOf(":"),h=c.trim(e.substr(0,s)).toLowerCase(),i=c.trim(e.substr(s+1)),h){if(f[h]&&v.indexOf(h)>=0)return;h==="set-cookie"?f[h]=(f[h]?f[h]:[]).concat([i]):f[h]=f[h]?f[h]+", "+i:i}}),f},Pt}var At,Xr;function ma(){if(Xr)return At;Xr=1;var c=X();return At=c.isStandardBrowserEnv()?function(){var y=/(msie|trident)/i.test(navigator.userAgent),p=document.createElement("a"),f;function h(i){var s=i;return y&&(p.setAttribute("href",s),s=p.href),p.setAttribute("href",s),{href:p.href,protocol:p.protocol?p.protocol.replace(/:$/,""):"",host:p.host,search:p.search?p.search.replace(/^\?/,""):"",hash:p.hash?p.hash.replace(/^#/,""):"",hostname:p.hostname,port:p.port,pathname:p.pathname.charAt(0)==="/"?p.pathname:"/"+p.pathname}}return f=h(window.location.href),function(s){var r=c.isString(s)?h(s):s;return r.protocol===f.protocol&&r.host===f.host}}():function(){return function(){return!0}}(),At}var qt,Vr;function et(){if(Vr)return qt;Vr=1;function c(v){this.message=v}return c.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},c.prototype.__CANCEL__=!0,qt=c,qt}var jt,Yr;function Zr(){if(Yr)return jt;Yr=1;var c=X(),v=pa(),y=va(),p=di(),f=ga(),h=ba(),i=ma(),s=yi(),r=vi(),e=et();return jt=function(t){return new Promise(function(o,u){var n=t.data,d=t.headers,_=t.responseType,w;function b(){t.cancelToken&&t.cancelToken.unsubscribe(w),t.signal&&t.signal.removeEventListener("abort",w)}c.isFormData(n)&&delete d["Content-Type"];var g=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",R=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+R)}var P=f(t.baseURL,t.url);g.open(t.method.toUpperCase(),p(P,t.params,t.paramsSerializer),!0),g.timeout=t.timeout;function S(){if(g){var E="getAllResponseHeaders"in g?h(g.getAllResponseHeaders()):null,A=!_||_==="text"||_==="json"?g.responseText:g.response,q={data:A,status:g.status,statusText:g.statusText,headers:E,config:t,request:g};v(function(U){o(U),b()},function(U){u(U),b()},q),g=null}}if("onloadend"in g?g.onloadend=S:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(S)},g.onabort=function(){g&&(u(s("Request aborted",t,"ECONNABORTED",g)),g=null)},g.onerror=function(){u(s("Network Error",t,null,g)),g=null},g.ontimeout=function(){var A=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",q=t.transitional||r;t.timeoutErrorMessage&&(A=t.timeoutErrorMessage),u(s(A,t,q.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},c.isStandardBrowserEnv()){var T=(t.withCredentials||i(P))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;T&&(d[t.xsrfHeaderName]=T)}"setRequestHeader"in g&&c.forEach(d,function(A,q){typeof n>"u"&&q.toLowerCase()==="content-type"?delete d[q]:g.setRequestHeader(q,A)}),c.isUndefined(t.withCredentials)||(g.withCredentials=!!t.withCredentials),_&&_!=="json"&&(g.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&g.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(w=function(E){g&&(u(!E||E&&E.type?new e("canceled"):E),g.abort(),g=null)},t.cancelToken&&t.cancelToken.subscribe(w),t.signal&&(t.signal.aborted?w():t.signal.addEventListener("abort",w))),n||(n=null),g.send(n)})},jt}var kt,en;function ir(){if(en)return kt;en=1;var c=X(),v=da(),y=pi(),p=vi(),f={"Content-Type":"application/x-www-form-urlencoded"};function h(e,a){!c.isUndefined(e)&&c.isUndefined(e["Content-Type"])&&(e["Content-Type"]=a)}function i(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Zr()),e}function s(e,a,t){if(c.isString(e))try{return(a||JSON.parse)(e),c.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(t||JSON.stringify)(e)}var r={transitional:p,adapter:i(),transformRequest:[function(a,t){return v(t,"Accept"),v(t,"Content-Type"),c.isFormData(a)||c.isArrayBuffer(a)||c.isBuffer(a)||c.isStream(a)||c.isFile(a)||c.isBlob(a)?a:c.isArrayBufferView(a)?a.buffer:c.isURLSearchParams(a)?(h(t,"application/x-www-form-urlencoded;charset=utf-8"),a.toString()):c.isObject(a)||t&&t["Content-Type"]==="application/json"?(h(t,"application/json"),s(a)):a}],transformResponse:[function(a){var t=this.transitional||r.transitional,l=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,u=!l&&this.responseType==="json";if(u||o&&c.isString(a)&&a.length)try{return JSON.parse(a)}catch(n){if(u)throw n.name==="SyntaxError"?y(n,this,"E_JSON_PARSE"):n}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return c.forEach(["delete","get","head"],function(a){r.headers[a]={}}),c.forEach(["post","put","patch"],function(a){r.headers[a]=c.merge(f)}),kt=r,kt}var Nt,tn;function wa(){if(tn)return Nt;tn=1;var c=X(),v=ir();return Nt=function(p,f,h){var i=this||v;return c.forEach(h,function(r){p=r.call(i,p,f)}),p},Nt}var Dt,rn;function _i(){return rn||(rn=1,Dt=function(v){return!!(v&&v.__CANCEL__)}),Dt}var Mt,nn;function Sa(){if(nn)return Mt;nn=1;var c=X(),v=wa(),y=_i(),p=ir(),f=et();function h(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new f("canceled")}return Mt=function(s){h(s),s.headers=s.headers||{},s.data=v.call(s,s.data,s.headers,s.transformRequest),s.headers=c.merge(s.headers.common||{},s.headers[s.method]||{},s.headers),c.forEach(["delete","get","head","post","put","patch","common"],function(a){delete s.headers[a]});var r=s.adapter||p.adapter;return r(s).then(function(a){return h(s),a.data=v.call(s,a.data,a.headers,s.transformResponse),a},function(a){return y(a)||(h(s),a&&a.response&&(a.response.data=v.call(s,a.response.data,a.response.headers,s.transformResponse))),Promise.reject(a)})},Mt}var Lt,an;function gi(){if(an)return Lt;an=1;var c=X();return Lt=function(y,p){p=p||{};var f={};function h(t,l){return c.isPlainObject(t)&&c.isPlainObject(l)?c.merge(t,l):c.isPlainObject(l)?c.merge({},l):c.isArray(l)?l.slice():l}function i(t){if(c.isUndefined(p[t])){if(!c.isUndefined(y[t]))return h(void 0,y[t])}else return h(y[t],p[t])}function s(t){if(!c.isUndefined(p[t]))return h(void 0,p[t])}function r(t){if(c.isUndefined(p[t])){if(!c.isUndefined(y[t]))return h(void 0,y[t])}else return h(void 0,p[t])}function e(t){if(t in p)return h(y[t],p[t]);if(t in y)return h(void 0,y[t])}var a={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:e};return c.forEach(Object.keys(y).concat(Object.keys(p)),function(l){var o=a[l]||i,u=o(l);c.isUndefined(u)&&o!==e||(f[l]=u)}),f},Lt}var Ft,on;function bi(){return on||(on=1,Ft={version:"0.26.1"}),Ft}var It,un;function Ra(){if(un)return It;un=1;var c=bi().version,v={};["object","boolean","number","function","string","symbol"].forEach(function(f,h){v[f]=function(s){return typeof s===f||"a"+(h<1?"n ":" ")+f}});var y={};v.transitional=function(h,i,s){function r(e,a){return"[Axios v"+c+"] Transitional option '"+e+"'"+a+(s?". "+s:"")}return function(e,a,t){if(h===!1)throw new Error(r(a," has been removed"+(i?" in "+i:"")));return i&&!y[a]&&(y[a]=!0,console.warn(r(a," has been deprecated since v"+i+" and will be removed in the near future"))),h?h(e,a,t):!0}};function p(f,h,i){if(typeof f!="object")throw new TypeError("options must be an object");for(var s=Object.keys(f),r=s.length;r-- >0;){var e=s[r],a=h[e];if(a){var t=f[e],l=t===void 0||a(t,e,f);if(l!==!0)throw new TypeError("option "+e+" must be "+l);continue}if(i!==!0)throw Error("Unknown option "+e)}}return It={assertOptions:p,validators:v},It}var Ht,sn;function Ca(){if(sn)return Ht;sn=1;var c=X(),v=di(),y=ha(),p=Sa(),f=gi(),h=Ra(),i=h.validators;function s(r){this.defaults=r,this.interceptors={request:new y,response:new y}}return s.prototype.request=function(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=f(this.defaults,a),a.method?a.method=a.method.toLowerCase():this.defaults.method?a.method=this.defaults.method.toLowerCase():a.method="get";var t=a.transitional;t!==void 0&&h.assertOptions(t,{silentJSONParsing:i.transitional(i.boolean),forcedJSONParsing:i.transitional(i.boolean),clarifyTimeoutError:i.transitional(i.boolean)},!1);var l=[],o=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(a)===!1||(o=o&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});var u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});var n;if(!o){var d=[p,void 0];for(Array.prototype.unshift.apply(d,l),d=d.concat(u),n=Promise.resolve(a);d.length;)n=n.then(d.shift(),d.shift());return n}for(var _=a;l.length;){var w=l.shift(),b=l.shift();try{_=w(_)}catch(g){b(g);break}}try{n=p(_)}catch(g){return Promise.reject(g)}for(;u.length;)n=n.then(u.shift(),u.shift());return n},s.prototype.getUri=function(e){return e=f(this.defaults,e),v(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},c.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(a,t){return this.request(f(t||{},{method:e,url:a,data:(t||{}).data}))}}),c.forEach(["post","put","patch"],function(e){s.prototype[e]=function(a,t,l){return this.request(f(l||{},{method:e,url:a,data:t}))}}),Ht=s,Ht}var Ut,cn;function Oa(){if(cn)return Ut;cn=1;var c=et();function v(y){if(typeof y!="function")throw new TypeError("executor must be a function.");var p;this.promise=new Promise(function(i){p=i});var f=this;this.promise.then(function(h){if(f._listeners){var i,s=f._listeners.length;for(i=0;i<s;i++)f._listeners[i](h);f._listeners=null}}),this.promise.then=function(h){var i,s=new Promise(function(r){f.subscribe(r),i=r}).then(h);return s.cancel=function(){f.unsubscribe(i)},s},y(function(i){f.reason||(f.reason=new c(i),p(f.reason))})}return v.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},v.prototype.subscribe=function(p){if(this.reason){p(this.reason);return}this._listeners?this._listeners.push(p):this._listeners=[p]},v.prototype.unsubscribe=function(p){if(this._listeners){var f=this._listeners.indexOf(p);f!==-1&&this._listeners.splice(f,1)}},v.source=function(){var p,f=new v(function(i){p=i});return{token:f,cancel:p}},Ut=v,Ut}var $t,ln;function xa(){return ln||(ln=1,$t=function(v){return function(p){return v.apply(null,p)}}),$t}var Bt,fn;function Ea(){if(fn)return Bt;fn=1;var c=X();return Bt=function(y){return c.isObject(y)&&y.isAxiosError===!0},Bt}var hn;function Ta(){if(hn)return Ve.exports;hn=1;var c=X(),v=hi(),y=Ca(),p=gi(),f=ir();function h(s){var r=new y(s),e=v(y.prototype.request,r);return c.extend(e,y.prototype,r),c.extend(e,r),e.create=function(t){return h(p(s,t))},e}var i=h(f);return i.Axios=y,i.Cancel=et(),i.CancelToken=Oa(),i.isCancel=_i(),i.VERSION=bi().version,i.all=function(r){return Promise.all(r)},i.spread=xa(),i.isAxiosError=Ea(),Ve.exports=i,Ve.exports.default=i,Ve.exports}var Gt,dn;function Pa(){return dn||(dn=1,Gt=Ta()),Gt}var pn;function mi(){if(pn)return re;pn=1;var c=re&&re.__awaiter||function(a,t,l,o){function u(n){return n instanceof l?n:new l(function(d){d(n)})}return new(l||(l=Promise))(function(n,d){function _(g){try{b(o.next(g))}catch(m){d(m)}}function w(g){try{b(o.throw(g))}catch(m){d(m)}}function b(g){g.done?n(g.value):u(g.value).then(_,w)}b((o=o.apply(a,t||[])).next())})},v=re&&re.__generator||function(a,t){var l={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},o,u,n,d;return d={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function _(b){return function(g){return w([b,g])}}function w(b){if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,u&&(n=b[0]&2?u.return:b[0]?u.throw||((n=u.return)&&n.call(u),0):u.next)&&!(n=n.call(u,b[1])).done)return n;switch(u=0,n&&(b=[b[0]&2,n.value]),b[0]){case 0:case 1:n=b;break;case 4:return l.label++,{value:b[1],done:!1};case 5:l.label++,u=b[1],b=[0];continue;case 7:b=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!(n=n.length>0&&n[n.length-1])&&(b[0]===6||b[0]===2)){l=0;continue}if(b[0]===3&&(!n||b[1]>n[0]&&b[1]<n[3])){l.label=b[1];break}if(b[0]===6&&l.label<n[1]){l.label=n[1],n=b;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(b);break}n[2]&&l.ops.pop(),l.trys.pop();continue}b=t.call(a,l)}catch(g){b=[6,g],u=0}finally{o=n=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},y=re&&re.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(re,"__esModule",{value:!0});var p=y(Pa()),f=Xe(),h=y(te()),i="X-TYPESENSE-API-KEY",s=!0,r=!1,e=function(){function a(t){this.configuration=t,this.apiKey=this.configuration.apiKey,this.nodes=this.configuration.nodes==null?this.configuration.nodes:JSON.parse(JSON.stringify(this.configuration.nodes)),this.nearestNode=this.configuration.nearestNode==null?this.configuration.nearestNode:JSON.parse(JSON.stringify(this.configuration.nearestNode)),this.connectionTimeoutSeconds=this.configuration.connectionTimeoutSeconds,this.healthcheckIntervalSeconds=this.configuration.healthcheckIntervalSeconds,this.numRetriesPerRequest=this.configuration.numRetries,this.retryIntervalSeconds=this.configuration.retryIntervalSeconds,this.sendApiKeyAsQueryParam=this.configuration.sendApiKeyAsQueryParam,this.additionalUserHeaders=this.configuration.additionalHeaders,this.logger=this.configuration.logger,this.initializeMetadataForNodes(),this.currentNodeIndex=-1}return a.prototype.get=function(t,l,o){l===void 0&&(l={});var u=o===void 0?{}:o,n=u.abortSignal,d=n===void 0?null:n,_=u.responseType,w=_===void 0?void 0:_;return c(this,void 0,void 0,function(){return v(this,function(b){return[2,this.performRequest("get",t,{queryParameters:l,abortSignal:d,responseType:w})]})})},a.prototype.delete=function(t,l){return l===void 0&&(l={}),c(this,void 0,void 0,function(){return v(this,function(o){return[2,this.performRequest("delete",t,{queryParameters:l})]})})},a.prototype.post=function(t,l,o,u){return l===void 0&&(l={}),o===void 0&&(o={}),u===void 0&&(u={}),c(this,void 0,void 0,function(){return v(this,function(n){return[2,this.performRequest("post",t,{queryParameters:o,bodyParameters:l,additionalHeaders:u})]})})},a.prototype.put=function(t,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),c(this,void 0,void 0,function(){return v(this,function(u){return[2,this.performRequest("put",t,{queryParameters:o,bodyParameters:l})]})})},a.prototype.patch=function(t,l,o){return l===void 0&&(l={}),o===void 0&&(o={}),c(this,void 0,void 0,function(){return v(this,function(u){return[2,this.performRequest("patch",t,{queryParameters:o,bodyParameters:l})]})})},a.prototype.performRequest=function(t,l,o){var u,n,d,_=o.queryParameters,w=_===void 0?null:_,b=o.bodyParameters,g=b===void 0?null:b,m=o.additionalHeaders,R=m===void 0?{}:m,P=o.abortSignal,S=P===void 0?null:P,T=o.responseType,E=T===void 0?void 0:T,A=o.skipConnectionTimeout,q=A===void 0?!1:A;return c(this,void 0,void 0,function(){var k,U,W,N,H,K;return v(this,function(x){switch(x.label){case 0:this.configuration.validate(),k=Date.now(),this.logger.debug("Request #".concat(k,": Performing ").concat(t.toUpperCase()," request: ").concat(l)),W=function(C){var O,j,D,M,L,F,$;return v(this,function(J){switch(J.label){case 0:if(O=N.getNextNode(k),N.logger.debug("Request #".concat(k,": Attempting ").concat(t.toUpperCase()," request Try #").concat(C," to Node ").concat(O.index)),S&&S.aborted)return[2,{value:Promise.reject(new Error("Request aborted by caller."))}];j=void 0,J.label=1;case 1:return J.trys.push([1,3,5,6]),D={method:t,url:N.uriFor(l,O),headers:Object.assign({},N.defaultHeaders(),R,N.additionalUserHeaders),maxContentLength:1/0,maxBodyLength:1/0,responseType:E,validateStatus:function(Q){return Q>0},transformResponse:[function(Q,Y){var ar=Q;return Y!==void 0&&typeof Q=="string"&&Y["content-type"]&&Y["content-type"].startsWith("application/json")&&(ar=JSON.parse(Q)),ar}]},q!==!0&&(D.timeout=N.connectionTimeoutSeconds*1e3),w&&Object.keys(w).length!==0&&(D.params=w),N.sendApiKeyAsQueryParam&&(D.params=D.params||{},D.params["x-typesense-api-key"]=N.apiKey),g&&(typeof g=="string"&&g.length!==0||typeof g=="object"&&Object.keys(g).length!==0)&&(D.data=g),S&&(M=p.default.CancelToken,L=M.source(),j=function(){return L.cancel()},S.addEventListener("abort",j),D.cancelToken=L.token),[4,(0,p.default)(D)];case 2:if(F=J.sent(),F.status>=1&&F.status<=499&&N.setNodeHealthcheck(O,s),N.logger.debug("Request #".concat(k,": Request to Node ").concat(O.index," was made. Response Code was ").concat(F.status,".")),F.status>=200&&F.status<300)return[2,{value:Promise.resolve(F.data)}];if(F.status<500)return[2,{value:Promise.reject(N.customErrorForResponse(F,(u=F.data)===null||u===void 0?void 0:u.message))}];throw N.customErrorForResponse(F,(n=F.data)===null||n===void 0?void 0:n.message);case 3:return $=J.sent(),N.setNodeHealthcheck(O,r),U=$,N.logger.warn("Request #".concat(k,": Request to Node ").concat(O.index,' failed due to "').concat($.code," ").concat($.message).concat($.response==null?"":" - "+JSON.stringify((d=$.response)===null||d===void 0?void 0:d.data),'"')),N.logger.warn("Request #".concat(k,": Sleeping for ").concat(N.retryIntervalSeconds,"s and then retrying request...")),[4,N.timer(N.retryIntervalSeconds)];case 4:return J.sent(),[3,6];case 5:return S&&j&&S.removeEventListener("abort",j),[7];case 6:return[2]}})},N=this,H=1,x.label=1;case 1:return H<=this.numRetriesPerRequest+1?[5,W(H)]:[3,4];case 2:if(K=x.sent(),typeof K=="object")return[2,K.value];x.label=3;case 3:return H++,[3,1];case 4:return this.logger.debug("Request #".concat(k,": No retries left. Raising last error")),[2,Promise.reject(U)]}})})},a.prototype.getNextNode=function(t){if(t===void 0&&(t=0),this.nearestNode!=null){if(this.logger.debug("Request #".concat(t,": Nodes Health: Node ").concat(this.nearestNode.index," is ").concat(this.nearestNode.isHealthy===!0?"Healthy":"Unhealthy")),this.nearestNode.isHealthy===!0||this.nodeDueForHealthcheck(this.nearestNode,t))return this.logger.debug("Request #".concat(t,": Updated current node to Node ").concat(this.nearestNode.index)),this.nearestNode;this.logger.debug("Request #".concat(t,": Falling back to individual nodes"))}this.logger.debug("Request #".concat(t,": Nodes Health: ").concat(this.nodes.map(function(u){return"Node ".concat(u.index," is ").concat(u.isHealthy===!0?"Healthy":"Unhealthy")}).join(" || ")));for(var l=this.nodes[0],o=0;o<=this.nodes.length;o++)if(this.currentNodeIndex=(this.currentNodeIndex+1)%this.nodes.length,l=this.nodes[this.currentNodeIndex],l.isHealthy===!0||this.nodeDueForHealthcheck(l,t))return this.logger.debug("Request #".concat(t,": Updated current node to Node ").concat(l.index)),l;return this.logger.debug("Request #".concat(t,": No healthy nodes were found. Returning the next node, Node ").concat(l.index)),l},a.prototype.nodeDueForHealthcheck=function(t,l){l===void 0&&(l=0);var o=Date.now()-t.lastAccessTimestamp>this.healthcheckIntervalSeconds*1e3;return o&&this.logger.debug("Request #".concat(l,": Node ").concat(t.index," has exceeded healtcheckIntervalSeconds of ").concat(this.healthcheckIntervalSeconds,". Adding it back into rotation.")),o},a.prototype.initializeMetadataForNodes=function(){var t=this;this.nearestNode!=null&&(this.nearestNode.index="nearestNode",this.setNodeHealthcheck(this.nearestNode,s)),this.nodes.forEach(function(l,o){l.index=o,t.setNodeHealthcheck(l,s)})},a.prototype.setNodeHealthcheck=function(t,l){t.isHealthy=l,t.lastAccessTimestamp=Date.now()},a.prototype.uriFor=function(t,l){return l.url!=null?"".concat(l.url).concat(t):"".concat(l.protocol,"://").concat(l.host,":").concat(l.port).concat(l.path).concat(t)},a.prototype.defaultHeaders=function(){var t={};return this.sendApiKeyAsQueryParam||(t[i]=this.apiKey),t["Content-Type"]="application/json",t},a.prototype.timer=function(t){return c(this,void 0,void 0,function(){return v(this,function(l){return[2,new Promise(function(o){return setTimeout(o,t*1e3)})]})})},a.prototype.customErrorForResponse=function(t,l){var o="Request failed with HTTP code ".concat(t.status);typeof l=="string"&&l.trim()!==""&&(o+=" | Server said: ".concat(l));var u=new h.default(o);return t.status===400?u=new f.RequestMalformed(o):t.status===401?u=new f.RequestUnauthorized(o):t.status===404?u=new f.ObjectNotFound(o):t.status===409?u=new f.ObjectAlreadyExists(o):t.status===422?u=new f.ObjectUnprocessable(o):t.status>=500&&t.status<=599?u=new f.ServerError(o):u=new f.HTTPError(o),u.httpStatus=t.status,u},a}();return re.default=e,re}var Ce={},vn;function Ne(){if(vn)return Ce;vn=1;var c=Ce&&Ce.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=Ce&&Ce.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Ce,"__esModule",{value:!0});var y="/collections",p=function(){function f(h){this.apiCall=h}return f.prototype.create=function(h,i){return i===void 0&&(i={}),c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.post(y,h,i)]})})},f.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(h){return[2,this.apiCall.get(y)]})})},Object.defineProperty(f,"RESOURCEPATH",{get:function(){return y},enumerable:!1,configurable:!0}),f}();return Ce.default=p,Ce}var ne={},ie={},Z={},ae={},yn;function wi(){if(yn)return ae;yn=1;var c=ae&&ae.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},v=ae&&ae.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=ae&&ae.__spreadArray||function(i,s,r){if(r||arguments.length===2)for(var e=0,a=s.length,t;e<a;e++)(t||!(e in s))&&(t||(t=Array.prototype.slice.call(s,0,e)),t[e]=s[e]);return i.concat(t||Array.prototype.slice.call(s))};Object.defineProperty(ae,"__esModule",{value:!0});var p=2*60,f=100,h=function(){function i(){this.responseCache=new Map,this.responsePromiseCache=new Map}return i.prototype.clearCache=function(){this.responseCache=new Map,this.responsePromiseCache=new Map},i.prototype.perform=function(s,r,e,a){return c(this,void 0,void 0,function(){var t,l,o,u,n,d,_,w,g,b,g,m,R,P,T,S,T;return v(this,function(E){switch(E.label){case 0:if(t=a.cacheResponseForSeconds,l=t===void 0?p:t,o=a.maxSize,u=o===void 0?f:o,n=l<=0||u<=0,n)return[2,r.call.apply(r,y([s],e,!1))];if(d=JSON.stringify(e),_=this.responseCache.get(d),w=Date.now(),_){if(g=w-_.requestTimestamp<l*1e3,g)return this.responseCache.delete(d),this.responseCache.set(d,_),[2,Promise.resolve(_.response)];this.responseCache.delete(d)}if(b=this.responsePromiseCache.get(d),b){if(g=w-b.requestTimestamp<l*1e3,g)return this.responsePromiseCache.delete(d),this.responsePromiseCache.set(d,b),[2,b.responsePromise];this.responsePromiseCache.delete(d)}return m=r.call.apply(r,y([s],e,!1)),this.responsePromiseCache.set(d,{requestTimestamp:w,responsePromise:m}),[4,m];case 1:return R=E.sent(),this.responseCache.set(d,{requestTimestamp:w,response:R}),P=this.responseCache.size>u,P&&(T=this.responseCache.keys().next().value,this.responseCache.delete(T)),S=this.responsePromiseCache.size>u,S&&(T=this.responsePromiseCache.keys().next().value,this.responsePromiseCache.delete(T)),[2,R]}})})},i}();return ae.default=h,ae}var _n;function Si(){if(_n)return Z;_n=1;var c=Z&&Z.__awaiter||function(s,r,e,a){function t(l){return l instanceof e?l:new e(function(o){o(l)})}return new(e||(e=Promise))(function(l,o){function u(_){try{d(a.next(_))}catch(w){o(w)}}function n(_){try{d(a.throw(_))}catch(w){o(w)}}function d(_){_.done?l(_.value):t(_.value).then(u,n)}d((a=a.apply(s,r||[])).next())})},v=Z&&Z.__generator||function(s,r){var e={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,t,l,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(_){return n([d,_])}}function n(d){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,t&&(l=d[0]&2?t.return:d[0]?t.throw||((l=t.return)&&l.call(t),0):t.next)&&!(l=l.call(t,d[1])).done)return l;switch(t=0,l&&(d=[d[0]&2,l.value]),d[0]){case 0:case 1:l=d;break;case 4:return e.label++,{value:d[1],done:!1};case 5:e.label++,t=d[1],d=[0];continue;case 7:d=e.ops.pop(),e.trys.pop();continue;default:if(l=e.trys,!(l=l.length>0&&l[l.length-1])&&(d[0]===6||d[0]===2)){e=0;continue}if(d[0]===3&&(!l||d[1]>l[0]&&d[1]<l[3])){e.label=d[1];break}if(d[0]===6&&e.label<l[1]){e.label=l[1],l=d;break}if(l&&e.label<l[2]){e.label=l[2],e.ops.push(d);break}l[2]&&e.ops.pop(),e.trys.pop();continue}d=r.call(s,e)}catch(_){d=[6,_],t=0}finally{a=l=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},y=Z&&Z.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Z,"__esModule",{value:!0}),Z.SearchOnlyDocuments=void 0;var p=y(wi()),f=y(Ne()),h="/documents",i=function(){function s(r,e,a){this.collectionName=r,this.apiCall=e,this.configuration=a,this.requestWithCache=new p.default}return s.prototype.clearCache=function(){this.requestWithCache.clearCache()},s.prototype.search=function(r,e){var a=e===void 0?{}:e,t=a.cacheSearchResultsForSeconds,l=t===void 0?this.configuration.cacheSearchResultsForSeconds:t,o=a.abortSignal,u=o===void 0?null:o;return c(this,void 0,void 0,function(){var n,d,_;return v(this,function(w){n={},this.configuration.useServerSideSearchCache===!0&&(n.use_cache=!0);for(d in r)Array.isArray(r[d])&&(n[d]=r[d].join(","));return _=Object.assign({},r,n),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.get,[this.endpointPath("search"),_,{abortSignal:u}],{cacheResponseForSeconds:l})]})})},s.prototype.endpointPath=function(r){return"".concat(f.default.RESOURCEPATH,"/").concat(this.collectionName).concat(h).concat(r===void 0?"":"/"+r)},Object.defineProperty(s,"RESOURCEPATH",{get:function(){return h},enumerable:!1,configurable:!0}),s}();return Z.SearchOnlyDocuments=i,Z}var gn;function Ri(){if(gn)return ie;gn=1;var c=ie&&ie.__extends||function(){var i=function(s,r){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])},i(s,r)};return function(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");i(s,r);function e(){this.constructor=s}s.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}}(),v=ie&&ie.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},y=ie&&ie.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}};Object.defineProperty(ie,"__esModule",{value:!0});var p=Xe(),f=Si(),h=function(i){c(s,i);function s(r,e,a){return i.call(this,r,e,a)||this}return s.prototype.create=function(r,e){return e===void 0&&(e={}),v(this,void 0,void 0,function(){return y(this,function(a){if(!r)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),r,e)]})})},s.prototype.upsert=function(r,e){return e===void 0&&(e={}),v(this,void 0,void 0,function(){return y(this,function(a){if(!r)throw new Error("No document provided");return[2,this.apiCall.post(this.endpointPath(),r,Object.assign({},e,{action:"upsert"}))]})})},s.prototype.update=function(r,e){return e===void 0&&(e={}),v(this,void 0,void 0,function(){return y(this,function(a){if(!r)throw new Error("No document provided");return e.filter_by!=null?[2,this.apiCall.patch(this.endpointPath(),r,Object.assign({},e))]:[2,this.apiCall.post(this.endpointPath(),r,Object.assign({},e,{action:"update"}))]})})},s.prototype.delete=function(r){return r===void 0&&(r={}),v(this,void 0,void 0,function(){return y(this,function(e){return typeof r=="string"?[2,this.apiCall.delete(this.endpointPath(r),r)]:[2,this.apiCall.delete(this.endpointPath(),r)]})})},s.prototype.createMany=function(r,e){return e===void 0&&(e={}),v(this,void 0,void 0,function(){return y(this,function(a){return this.configuration.logger.warn("createMany is deprecated and will be removed in a future version. Use import instead, which now takes both an array of documents or a JSONL string of documents"),[2,this.import(r,e)]})})},s.prototype.import=function(r,e){return e===void 0&&(e={}),v(this,void 0,void 0,function(){var a,t,l,o;return y(this,function(u){switch(u.label){case 0:if(Array.isArray(r))try{a=r.map(function(n){return JSON.stringify(n)}).join(`
`)}catch(n){throw RangeError instanceof n&&n?.includes("Too many properties to enumerate")?new Error("".concat(n,`
          It looks like you have reached a Node.js limit that restricts the number of keys in an Object: https://stackoverflow.com/questions/9282869/are-there-limits-to-the-number-of-properties-in-a-javascript-object

          Please try reducing the number of keys in your document, or using CURL to import your data.
          `)):new Error(n)}else a=r;return[4,this.apiCall.performRequest("post",this.endpointPath("import"),{queryParameters:e,bodyParameters:a,additionalHeaders:{"Content-Type":"text/plain"},skipConnectionTimeout:!0})];case 1:if(t=u.sent(),Array.isArray(r)){if(l=t.split(`
`).map(function(n){return JSON.parse(n)}),o=l.filter(function(n){return n.success===!1}),o.length>0)throw new p.ImportError("".concat(l.length-o.length," documents imported successfully, ").concat(o.length," documents failed during import. Use `error.importResults` from the raised exception to get a detailed error reason for each document."),l);return[2,l]}else return[2,t]}})})},s.prototype.export=function(r){return r===void 0&&(r={}),v(this,void 0,void 0,function(){return y(this,function(e){return[2,this.apiCall.get(this.endpointPath("export"),r)]})})},s.prototype.exportStream=function(r){return r===void 0&&(r={}),v(this,void 0,void 0,function(){return y(this,function(e){return[2,this.apiCall.get(this.endpointPath("export"),r,{responseType:"stream"})]})})},s}(f.SearchOnlyDocuments);return ie.default=h,ie}var oe={},bn;function Ci(){if(bn)return oe;bn=1;var c=oe&&oe.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},v=oe&&oe.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=oe&&oe.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(oe,"__esModule",{value:!0});var p=y(Ne()),f="/overrides",h=function(){function i(s,r){this.collectionName=s,this.apiCall=r}return i.prototype.upsert=function(s,r){return c(this,void 0,void 0,function(){return v(this,function(e){return[2,this.apiCall.put(this.endpointPath(s),r)]})})},i.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},i.prototype.endpointPath=function(s){return"".concat(p.default.RESOURCEPATH,"/").concat(this.collectionName).concat(i.RESOURCEPATH).concat(s===void 0?"":"/"+s)},Object.defineProperty(i,"RESOURCEPATH",{get:function(){return f},enumerable:!1,configurable:!0}),i}();return oe.default=h,oe}var ue={},mn;function Aa(){if(mn)return ue;mn=1;var c=ue&&ue.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},v=ue&&ue.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=ue&&ue.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ue,"__esModule",{value:!0});var p=y(Ne()),f=y(Ci()),h=function(){function i(s,r,e){this.collectionName=s,this.overrideId=r,this.apiCall=e}return i.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},i.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.delete(this.endpointPath())]})})},i.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.collectionName).concat(f.default.RESOURCEPATH,"/").concat(this.overrideId)},i}();return ue.default=h,ue}var se={},wn;function Oi(){if(wn)return se;wn=1;var c=se&&se.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},v=se&&se.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=se&&se.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(se,"__esModule",{value:!0});var p=y(Ne()),f="/synonyms",h=function(){function i(s,r){this.collectionName=s,this.apiCall=r}return i.prototype.upsert=function(s,r){return c(this,void 0,void 0,function(){return v(this,function(e){return[2,this.apiCall.put(this.endpointPath(s),r)]})})},i.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},i.prototype.endpointPath=function(s){return"".concat(p.default.RESOURCEPATH,"/").concat(this.collectionName).concat(i.RESOURCEPATH).concat(s===void 0?"":"/"+s)},Object.defineProperty(i,"RESOURCEPATH",{get:function(){return f},enumerable:!1,configurable:!0}),i}();return se.default=h,se}var ce={},Sn;function qa(){if(Sn)return ce;Sn=1;var c=ce&&ce.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},v=ce&&ce.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=ce&&ce.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ce,"__esModule",{value:!0});var p=y(Ne()),f=y(Oi()),h=function(){function i(s,r,e){this.collectionName=s,this.synonymId=r,this.apiCall=e}return i.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},i.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.delete(this.endpointPath())]})})},i.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.collectionName).concat(f.default.RESOURCEPATH,"/").concat(this.synonymId)},i}();return ce.default=h,ce}var ee={},Rn;function ja(){if(Rn)return ee;Rn=1;var c=ee&&ee.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},v=ee&&ee.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=ee&&ee.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ee,"__esModule",{value:!0}),ee.Document=void 0;var p=y(Ne()),f=y(Ri()),h=function(){function i(s,r,e){this.collectionName=s,this.documentId=r,this.apiCall=e}return i.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.get(this.endpointPath())]})})},i.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.delete(this.endpointPath())]})})},i.prototype.update=function(s,r){return r===void 0&&(r={}),c(this,void 0,void 0,function(){return v(this,function(e){return[2,this.apiCall.patch(this.endpointPath(),s,r)]})})},i.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.collectionName).concat(f.default.RESOURCEPATH,"/").concat(this.documentId)},i}();return ee.Document=h,ee}var Cn;function ka(){if(Cn)return ne;Cn=1;var c=ne&&ne.__awaiter||function(l,o,u,n){function d(_){return _ instanceof u?_:new u(function(w){w(_)})}return new(u||(u=Promise))(function(_,w){function b(R){try{m(n.next(R))}catch(P){w(P)}}function g(R){try{m(n.throw(R))}catch(P){w(P)}}function m(R){R.done?_(R.value):d(R.value).then(b,g)}m((n=n.apply(l,o||[])).next())})},v=ne&&ne.__generator||function(l,o){var u={label:0,sent:function(){if(_[0]&1)throw _[1];return _[1]},trys:[],ops:[]},n,d,_,w;return w={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function b(m){return function(R){return g([m,R])}}function g(m){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,d&&(_=m[0]&2?d.return:m[0]?d.throw||((_=d.return)&&_.call(d),0):d.next)&&!(_=_.call(d,m[1])).done)return _;switch(d=0,_&&(m=[m[0]&2,_.value]),m[0]){case 0:case 1:_=m;break;case 4:return u.label++,{value:m[1],done:!1};case 5:u.label++,d=m[1],m=[0];continue;case 7:m=u.ops.pop(),u.trys.pop();continue;default:if(_=u.trys,!(_=_.length>0&&_[_.length-1])&&(m[0]===6||m[0]===2)){u=0;continue}if(m[0]===3&&(!_||m[1]>_[0]&&m[1]<_[3])){u.label=m[1];break}if(m[0]===6&&u.label<_[1]){u.label=_[1],_=m;break}if(_&&u.label<_[2]){u.label=_[2],u.ops.push(m);break}_[2]&&u.ops.pop(),u.trys.pop();continue}m=o.call(l,u)}catch(R){m=[6,R],d=0}finally{n=_=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},y=ne&&ne.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ne,"__esModule",{value:!0});var p=y(Ne()),f=y(Ri()),h=Xe(),i=y(Ci()),s=y(Aa()),r=y(Oi()),e=y(qa()),a=ja(),t=function(){function l(o,u,n){this.name=o,this.apiCall=u,this.configuration=n,this.individualDocuments={},this.individualOverrides={},this.individualSynonyms={},this.name=o,this.apiCall=u,this.configuration=n,this._documents=new f.default(this.name,this.apiCall,this.configuration),this._overrides=new i.default(this.name,this.apiCall),this._synonyms=new r.default(this.name,this.apiCall)}return l.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(o){return[2,this.apiCall.get(this.endpointPath())]})})},l.prototype.update=function(o){return c(this,void 0,void 0,function(){return v(this,function(u){return[2,this.apiCall.patch(this.endpointPath(),o)]})})},l.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(o){return[2,this.apiCall.delete(this.endpointPath())]})})},l.prototype.exists=function(){return c(this,void 0,void 0,function(){var o;return v(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.retrieve()];case 1:return u.sent(),[2,!0];case 2:if(o=u.sent(),o instanceof h.ObjectNotFound)return[2,!1];throw o;case 3:return[2]}})})},l.prototype.documents=function(o){return o?(this.individualDocuments[o]===void 0&&(this.individualDocuments[o]=new a.Document(this.name,o,this.apiCall)),this.individualDocuments[o]):this._documents},l.prototype.overrides=function(o){return o===void 0?this._overrides:(this.individualOverrides[o]===void 0&&(this.individualOverrides[o]=new s.default(this.name,o,this.apiCall)),this.individualOverrides[o])},l.prototype.synonyms=function(o){return o===void 0?this._synonyms:(this.individualSynonyms[o]===void 0&&(this.individualSynonyms[o]=new e.default(this.name,o,this.apiCall)),this.individualSynonyms[o])},l.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.name)},l}();return ne.default=t,ne}var Oe={},On;function xi(){if(On)return Oe;On=1;var c=Oe&&Oe.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=Oe&&Oe.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Oe,"__esModule",{value:!0});var y="/aliases",p=function(){function f(h){this.apiCall=h}return f.prototype.upsert=function(h,i){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.put(this.endpointPath(h),i)]})})},f.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(h){return[2,this.apiCall.get(y)]})})},f.prototype.endpointPath=function(h){return"".concat(f.RESOURCEPATH,"/").concat(h)},Object.defineProperty(f,"RESOURCEPATH",{get:function(){return y},enumerable:!1,configurable:!0}),f}();return Oe.default=p,Oe}var le={},xn;function Na(){if(xn)return le;xn=1;var c=le&&le.__awaiter||function(h,i,s,r){function e(a){return a instanceof s?a:new s(function(t){t(a)})}return new(s||(s=Promise))(function(a,t){function l(n){try{u(r.next(n))}catch(d){t(d)}}function o(n){try{u(r.throw(n))}catch(d){t(d)}}function u(n){n.done?a(n.value):e(n.value).then(l,o)}u((r=r.apply(h,i||[])).next())})},v=le&&le.__generator||function(h,i){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,e,a,t;return t={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function l(u){return function(n){return o([u,n])}}function o(u){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,e&&(a=u[0]&2?e.return:u[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,e=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){s.label=u[1];break}if(u[0]===6&&s.label<a[1]){s.label=a[1],a=u;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(u);break}a[2]&&s.ops.pop(),s.trys.pop();continue}u=i.call(h,s)}catch(n){u=[6,n],e=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},y=le&&le.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(le,"__esModule",{value:!0});var p=y(xi()),f=function(){function h(i,s){this.name=i,this.apiCall=s}return h.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.get(this.endpointPath())]})})},h.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.delete(this.endpointPath())]})})},h.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.name)},h}();return le.default=f,le}var xe={},En;function Ei(){if(En)return xe;En=1;var c=xe&&xe.__awaiter||function(h,i,s,r){function e(a){return a instanceof s?a:new s(function(t){t(a)})}return new(s||(s=Promise))(function(a,t){function l(n){try{u(r.next(n))}catch(d){t(d)}}function o(n){try{u(r.throw(n))}catch(d){t(d)}}function u(n){n.done?a(n.value):e(n.value).then(l,o)}u((r=r.apply(h,i||[])).next())})},v=xe&&xe.__generator||function(h,i){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,e,a,t;return t={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function l(u){return function(n){return o([u,n])}}function o(u){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,e&&(a=u[0]&2?e.return:u[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,e=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){s.label=u[1];break}if(u[0]===6&&s.label<a[1]){s.label=a[1],a=u;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(u);break}a[2]&&s.ops.pop(),s.trys.pop();continue}u=i.call(h,s)}catch(n){u=[6,n],e=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(xe,"__esModule",{value:!0});var y=Ii,p="/keys",f=function(){function h(i){this.apiCall=i,this.apiCall=i}return h.prototype.create=function(i){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.post(h.RESOURCEPATH,i)]})})},h.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.get(p)]})})},h.prototype.generateScopedSearchKey=function(i,s){var r=JSON.stringify(s),e=Buffer.from((0,y.createHmac)("sha256",i).update(r).digest("base64")),a=i.substr(0,4),t="".concat(e).concat(a).concat(r);return Buffer.from(t).toString("base64")},Object.defineProperty(h,"RESOURCEPATH",{get:function(){return p},enumerable:!1,configurable:!0}),h}();return xe.default=f,xe}var fe={},Tn;function Da(){if(Tn)return fe;Tn=1;var c=fe&&fe.__awaiter||function(h,i,s,r){function e(a){return a instanceof s?a:new s(function(t){t(a)})}return new(s||(s=Promise))(function(a,t){function l(n){try{u(r.next(n))}catch(d){t(d)}}function o(n){try{u(r.throw(n))}catch(d){t(d)}}function u(n){n.done?a(n.value):e(n.value).then(l,o)}u((r=r.apply(h,i||[])).next())})},v=fe&&fe.__generator||function(h,i){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,e,a,t;return t={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function l(u){return function(n){return o([u,n])}}function o(u){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,e&&(a=u[0]&2?e.return:u[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,e=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){s.label=u[1];break}if(u[0]===6&&s.label<a[1]){s.label=a[1],a=u;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(u);break}a[2]&&s.ops.pop(),s.trys.pop();continue}u=i.call(h,s)}catch(n){u=[6,n],e=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},y=fe&&fe.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(fe,"__esModule",{value:!0});var p=y(Ei()),f=function(){function h(i,s){this.id=i,this.apiCall=s}return h.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.get(this.endpointPath())]})})},h.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.delete(this.endpointPath())]})})},h.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.id)},h}();return fe.default=f,fe}var Ee={},Pn;function Ma(){if(Pn)return Ee;Pn=1;var c=Ee&&Ee.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=Ee&&Ee.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Ee,"__esModule",{value:!0});var y="/debug",p=function(){function f(h){this.apiCall=h}return f.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(h){return[2,this.apiCall.get(y)]})})},f}();return Ee.default=p,Ee}var Te={},An;function La(){if(An)return Te;An=1;var c=Te&&Te.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=Te&&Te.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Te,"__esModule",{value:!0});var y="/metrics.json",p=function(){function f(h){this.apiCall=h}return f.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(h){return[2,this.apiCall.get(y)]})})},f}();return Te.default=p,Te}var Pe={},qn;function Fa(){if(qn)return Pe;qn=1;var c=Pe&&Pe.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=Pe&&Pe.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Pe,"__esModule",{value:!0});var y="/health",p=function(){function f(h){this.apiCall=h}return f.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(h){return[2,this.apiCall.get(y)]})})},f}();return Pe.default=p,Pe}var Ae={},jn;function Ia(){if(jn)return Ae;jn=1;var c=Ae&&Ae.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=Ae&&Ae.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(Ae,"__esModule",{value:!0});var y="/operations",p=function(){function f(h){this.apiCall=h}return f.prototype.perform=function(h,i){return i===void 0&&(i={}),c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.post("".concat(y,"/").concat(h),{},i)]})})},f}();return Ae.default=p,Ae}var he={},kn;function Ti(){if(kn)return he;kn=1;var c=he&&he.__awaiter||function(i,s,r,e){function a(t){return t instanceof r?t:new r(function(l){l(t)})}return new(r||(r=Promise))(function(t,l){function o(d){try{n(e.next(d))}catch(_){l(_)}}function u(d){try{n(e.throw(d))}catch(_){l(_)}}function n(d){d.done?t(d.value):a(d.value).then(o,u)}n((e=e.apply(i,s||[])).next())})},v=he&&he.__generator||function(i,s){var r={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},e,a,t,l;return l={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function o(n){return function(d){return u([n,d])}}function u(n){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,a&&(t=n[0]&2?a.return:n[0]?a.throw||((t=a.return)&&t.call(a),0):a.next)&&!(t=t.call(a,n[1])).done)return t;switch(a=0,t&&(n=[n[0]&2,t.value]),n[0]){case 0:case 1:t=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(t=r.trys,!(t=t.length>0&&t[t.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!t||n[1]>t[0]&&n[1]<t[3])){r.label=n[1];break}if(n[0]===6&&r.label<t[1]){r.label=t[1],t=n;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(n);break}t[2]&&r.ops.pop(),r.trys.pop();continue}n=s.call(i,r)}catch(d){n=[6,d],a=0}finally{e=t=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},y=he&&he.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(he,"__esModule",{value:!0});var p=y(wi()),f="/multi_search",h=function(){function i(s,r,e){e===void 0&&(e=!1),this.apiCall=s,this.configuration=r,this.useTextContentType=e,this.requestWithCache=new p.default}return i.prototype.clearCache=function(){this.requestWithCache.clearCache()},i.prototype.perform=function(s,r,e){r===void 0&&(r={});var a=e===void 0?{}:e,t=a.cacheSearchResultsForSeconds,l=t===void 0?this.configuration.cacheSearchResultsForSeconds:t;return c(this,void 0,void 0,function(){var o,u,n;return v(this,function(d){return o={},this.useTextContentType&&(o["content-type"]="text/plain"),u={},this.configuration.useServerSideSearchCache===!0&&(u.use_cache=!0),n=Object.assign({},r,u),[2,this.requestWithCache.perform(this.apiCall,this.apiCall.post,[f,s,n,o],{cacheResponseForSeconds:l})]})})},i}();return he.default=h,he}var qe={},Nn;function Pi(){if(Nn)return qe;Nn=1;var c=qe&&qe.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=qe&&qe.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(qe,"__esModule",{value:!0});var y="/presets",p=function(){function f(h){this.apiCall=h}return f.prototype.upsert=function(h,i){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.put(this.endpointPath(h),i)]})})},f.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(h){return[2,this.apiCall.get(this.endpointPath())]})})},f.prototype.endpointPath=function(h){return"".concat(f.RESOURCEPATH).concat(h===void 0?"":"/"+h)},Object.defineProperty(f,"RESOURCEPATH",{get:function(){return y},enumerable:!1,configurable:!0}),f}();return qe.default=p,qe}var de={},Dn;function Ha(){if(Dn)return de;Dn=1;var c=de&&de.__awaiter||function(h,i,s,r){function e(a){return a instanceof s?a:new s(function(t){t(a)})}return new(s||(s=Promise))(function(a,t){function l(n){try{u(r.next(n))}catch(d){t(d)}}function o(n){try{u(r.throw(n))}catch(d){t(d)}}function u(n){n.done?a(n.value):e(n.value).then(l,o)}u((r=r.apply(h,i||[])).next())})},v=de&&de.__generator||function(h,i){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,e,a,t;return t={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function l(u){return function(n){return o([u,n])}}function o(u){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,e&&(a=u[0]&2?e.return:u[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,e=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){s.label=u[1];break}if(u[0]===6&&s.label<a[1]){s.label=a[1],a=u;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(u);break}a[2]&&s.ops.pop(),s.trys.pop();continue}u=i.call(h,s)}catch(n){u=[6,n],e=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},y=de&&de.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(de,"__esModule",{value:!0});var p=y(Pi()),f=function(){function h(i,s){this.presetId=i,this.apiCall=s}return h.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.get(this.endpointPath())]})})},h.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.delete(this.endpointPath())]})})},h.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.presetId)},h}();return de.default=f,de}var Le={},je={},Mn;function Ai(){if(Mn)return je;Mn=1;var c=je&&je.__awaiter||function(f,h,i,s){function r(e){return e instanceof i?e:new i(function(a){a(e)})}return new(i||(i=Promise))(function(e,a){function t(u){try{o(s.next(u))}catch(n){a(n)}}function l(u){try{o(s.throw(u))}catch(n){a(n)}}function o(u){u.done?e(u.value):r(u.value).then(t,l)}o((s=s.apply(f,h||[])).next())})},v=je&&je.__generator||function(f,h){var i={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},s,r,e,a;return a={next:t(0),throw:t(1),return:t(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function t(o){return function(u){return l([o,u])}}function l(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,r&&(e=o[0]&2?r.return:o[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,o[1])).done)return e;switch(r=0,e&&(o=[o[0]&2,e.value]),o[0]){case 0:case 1:e=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(e=i.trys,!(e=e.length>0&&e[e.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!e||o[1]>e[0]&&o[1]<e[3])){i.label=o[1];break}if(o[0]===6&&i.label<e[1]){i.label=e[1],e=o;break}if(e&&i.label<e[2]){i.label=e[2],i.ops.push(o);break}e[2]&&i.ops.pop(),i.trys.pop();continue}o=h.call(f,i)}catch(u){o=[6,u],r=0}finally{s=e=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(je,"__esModule",{value:!0});var y="/analytics/rules",p=function(){function f(h){this.apiCall=h,this.apiCall=h}return f.prototype.upsert=function(h,i){return c(this,void 0,void 0,function(){return v(this,function(s){return[2,this.apiCall.put(this.endpointPath(h),i)]})})},f.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(h){return[2,this.apiCall.get(this.endpointPath())]})})},f.prototype.endpointPath=function(h){return"".concat(f.RESOURCEPATH).concat(h===void 0?"":"/"+h)},Object.defineProperty(f,"RESOURCEPATH",{get:function(){return y},enumerable:!1,configurable:!0}),f}();return je.default=p,je}var pe={},Ln;function Ua(){if(Ln)return pe;Ln=1;var c=pe&&pe.__awaiter||function(h,i,s,r){function e(a){return a instanceof s?a:new s(function(t){t(a)})}return new(s||(s=Promise))(function(a,t){function l(n){try{u(r.next(n))}catch(d){t(d)}}function o(n){try{u(r.throw(n))}catch(d){t(d)}}function u(n){n.done?a(n.value):e(n.value).then(l,o)}u((r=r.apply(h,i||[])).next())})},v=pe&&pe.__generator||function(h,i){var s={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,e,a,t;return t={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function l(u){return function(n){return o([u,n])}}function o(u){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,e&&(a=u[0]&2?e.return:u[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,u[1])).done)return a;switch(e=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,e=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){s=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){s.label=u[1];break}if(u[0]===6&&s.label<a[1]){s.label=a[1],a=u;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(u);break}a[2]&&s.ops.pop(),s.trys.pop();continue}u=i.call(h,s)}catch(n){u=[6,n],e=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},y=pe&&pe.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(pe,"__esModule",{value:!0});var p=y(Ai()),f=function(){function h(i,s){this.name=i,this.apiCall=s}return h.prototype.retrieve=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.get(this.endpointPath())]})})},h.prototype.delete=function(){return c(this,void 0,void 0,function(){return v(this,function(i){return[2,this.apiCall.delete(this.endpointPath())]})})},h.prototype.endpointPath=function(){return"".concat(p.default.RESOURCEPATH,"/").concat(this.name)},h}();return pe.default=f,pe}var Fn;function $a(){if(Fn)return Le;Fn=1;var c=Le&&Le.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Le,"__esModule",{value:!0});var v=c(Ai()),y=c(Ua()),p="/analytics",f=function(){function h(i){this.apiCall=i,this.individualAnalyticsRules={},this.apiCall=i,this._analyticsRules=new v.default(this.apiCall)}return h.prototype.rules=function(i){return i===void 0?this._analyticsRules:(this.individualAnalyticsRules[i]===void 0&&(this.individualAnalyticsRules[i]=new y.default(i,this.apiCall)),this.individualAnalyticsRules[i])},Object.defineProperty(h,"RESOURCEPATH",{get:function(){return p},enumerable:!1,configurable:!0}),h}();return Le.default=f,Le}var In;function Ba(){if(In)return De;In=1;var c=De&&De.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(De,"__esModule",{value:!0});var v=c(fi()),y=c(mi()),p=c(Ne()),f=c(ka()),h=c(xi()),i=c(Na()),s=c(Ei()),r=c(Da()),e=c(Ma()),a=c(La()),t=c(Fa()),l=c(Ia()),o=c(Ti()),u=c(Pi()),n=c(Ha()),d=c($a()),_=function(){function w(b){var g;b.sendApiKeyAsQueryParam=(g=b.sendApiKeyAsQueryParam)!==null&&g!==void 0?g:!1,this.configuration=new v.default(b),this.apiCall=new y.default(this.configuration),this.debug=new e.default(this.apiCall),this.metrics=new a.default(this.apiCall),this.health=new t.default(this.apiCall),this.operations=new l.default(this.apiCall),this.multiSearch=new o.default(this.apiCall,this.configuration),this._collections=new p.default(this.apiCall),this.individualCollections={},this._aliases=new h.default(this.apiCall),this.individualAliases={},this._keys=new s.default(this.apiCall),this.individualKeys={},this._presets=new u.default(this.apiCall),this.individualPresets={},this.analytics=new d.default(this.apiCall)}return w.prototype.collections=function(b){return b===void 0?this._collections:(this.individualCollections[b]===void 0&&(this.individualCollections[b]=new f.default(b,this.apiCall,this.configuration)),this.individualCollections[b])},w.prototype.aliases=function(b){return b===void 0?this._aliases:(this.individualAliases[b]===void 0&&(this.individualAliases[b]=new i.default(b,this.apiCall)),this.individualAliases[b])},w.prototype.keys=function(b){return b===void 0?this._keys:(this.individualKeys[b]===void 0&&(this.individualKeys[b]=new r.default(b,this.apiCall)),this.individualKeys[b])},w.prototype.presets=function(b){return b===void 0?this._presets:(this.individualPresets[b]===void 0&&(this.individualPresets[b]=new n.default(b,this.apiCall)),this.individualPresets[b])},w}();return De.default=_,De}var Fe={},Ue={},Hn;function Ga(){if(Hn)return Ue;Hn=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.SearchOnlyCollection=void 0;var c=Si(),v=function(){function y(p,f,h){this.name=p,this.apiCall=f,this.configuration=h,this._documents=new c.SearchOnlyDocuments(this.name,this.apiCall,this.configuration)}return y.prototype.documents=function(){return this._documents},y}();return Ue.SearchOnlyCollection=v,Ue}var Un;function Wa(){if(Un)return Fe;Un=1;var c=Fe&&Fe.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Fe,"__esModule",{value:!0});var v=c(fi()),y=c(mi()),p=c(Ti()),f=Ga(),h=function(){function i(s){var r;s.sendApiKeyAsQueryParam=(r=s.sendApiKeyAsQueryParam)!==null&&r!==void 0?r:!0,s.sendApiKeyAsQueryParam===!0&&(s.apiKey||"").length>2e3&&(console.warn("[typesense] API Key is longer than 2000 characters which is over the allowed limit, so disabling sending it as a query parameter."),s.sendApiKeyAsQueryParam=!1),this.configuration=new v.default(s),this.apiCall=new y.default(this.configuration),this.multiSearch=new p.default(this.apiCall,this.configuration,!0),this.individualCollections={}}return i.prototype.clearCache=function(){this.multiSearch.clearCache(),Object.entries(this.individualCollections).forEach(function(s){s[0];var r=s[1];r.documents().clearCache()})},i.prototype.collections=function(s){if(s)return this.individualCollections[s]===void 0&&(this.individualCollections[s]=new f.SearchOnlyCollection(s,this.apiCall,this.configuration)),this.individualCollections[s];throw new Error("Typesense.SearchClient only supports search operations, so the collectionName that needs to be searched must be specified. Use Typesense.Client if you need to access the collection object.")},i}();return Fe.default=h,Fe}var $n;function Ka(){if($n)return G;$n=1;var c=G&&G.__createBinding||(Object.create?function(s,r,e,a){a===void 0&&(a=e);var t=Object.getOwnPropertyDescriptor(r,e);(!t||("get"in t?!r.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(s,a,t)}:function(s,r,e,a){a===void 0&&(a=e),s[a]=r[e]}),v=G&&G.__setModuleDefault||(Object.create?function(s,r){Object.defineProperty(s,"default",{enumerable:!0,value:r})}:function(s,r){s.default=r}),y=G&&G.__importStar||function(s){if(s&&s.__esModule)return s;var r={};if(s!=null)for(var e in s)e!=="default"&&Object.prototype.hasOwnProperty.call(s,e)&&c(r,s,e);return v(r,s),r},p=G&&G.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(G,"__esModule",{value:!0}),G.Errors=G.SearchClient=G.Client=void 0;var f=p(Ba());G.Client=f.default;var h=p(Wa());G.SearchClient=h.default;var i=y(Xe());return G.Errors=i,G.default={Client:f.default,SearchClient:h.default,Errors:i},G}var $e={},Wt={exports:{}},Kt={exports:{}},Bn;function za(){return Bn||(Bn=1,function(c){function v(y){if(Array.isArray(y))return y}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(Kt)),Kt.exports}var zt={exports:{}},Gn;function Ja(){return Gn||(Gn=1,function(c){function v(y,p){var f=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(f!=null){var h,i,s,r,e=[],a=!0,t=!1;try{if(s=(f=f.call(y)).next,p===0){if(Object(f)!==f)return;a=!1}else for(;!(a=(h=s.call(f)).done)&&(e.push(h.value),e.length!==p);a=!0);}catch(l){t=!0,i=l}finally{try{if(!a&&f.return!=null&&(r=f.return(),Object(r)!==r))return}finally{if(t)throw i}}return e}}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(zt)),zt.exports}var Jt={exports:{}},Qt={exports:{}},Wn;function qi(){return Wn||(Wn=1,function(c){function v(y,p){(p==null||p>y.length)&&(p=y.length);for(var f=0,h=new Array(p);f<p;f++)h[f]=y[f];return h}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(Qt)),Qt.exports}var Kn;function ji(){return Kn||(Kn=1,function(c){var v=qi();function y(p,f){if(p){if(typeof p=="string")return v(p,f);var h=Object.prototype.toString.call(p).slice(8,-1);if(h==="Object"&&p.constructor&&(h=p.constructor.name),h==="Map"||h==="Set")return Array.from(p);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return v(p,f)}}c.exports=y,c.exports.__esModule=!0,c.exports.default=c.exports}(Jt)),Jt.exports}var Xt={exports:{}},zn;function Qa(){return zn||(zn=1,function(c){function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(Xt)),Xt.exports}var Jn;function ki(){return Jn||(Jn=1,function(c){var v=za(),y=Ja(),p=ji(),f=Qa();function h(i,s){return v(i)||y(i,s)||p(i,s)||f()}c.exports=h,c.exports.__esModule=!0,c.exports.default=c.exports}(Wt)),Wt.exports}var Qn;function Xa(){if(Qn)return $e;Qn=1;var c=ze();Object.defineProperty($e,"__esModule",{value:!0}),$e.SearchRequestAdapter=void 0;var v=c(si()),y=c(ci()),p=c(ki()),f=c(Je()),h=c(Qe()),i=function(){function s(r,e,a){(0,f.default)(this,s),this.instantsearchRequests=r,this.typesenseClient=e,this.configuration=a,this.additionalSearchParameters=a.additionalSearchParameters,this.collectionSpecificSearchParameters=a.collectionSpecificSearchParameters}return(0,h.default)(s,[{key:"_shouldUseExactMatchForField",value:function(e,a){var t,l;return!(((t=this.configuration.collectionSpecificFilterByOptions)===null||t===void 0||(t=t[a])===null||t===void 0||(t=t[e])===null||t===void 0?void 0:t.exactMatch)===!1||((l=this.configuration.filterByOptions)===null||l===void 0||(l=l[e])===null||l===void 0?void 0:l.exactMatch)===!1)}},{key:"_adaptFacetFilters",value:function(e,a){var t=this,l="";if(!e)return l;var o=e.map(function(u){if(Array.isArray(u)){var n={};u.forEach(function(N){var H=t._parseFacetFilter(N),K=H.fieldName,x=H.fieldValue;n[K]=n[K]||[],n[K].push(x)}),Object.keys(n).length>1&&console.error("[Typesense-Instantsearch-Adapter] Typesense does not support cross-field ORs at the moment. The adapter could not OR values between these fields: ".concat(Object.keys(n).join(",")));var d=Object.keys(n)[0],_=n[d],w=_.reduce(function(N,H){return H.startsWith("-")&&!t._isNumber(H)?N[0].push(H.substring(1)):N[1].push(H),N},[[],[]]),b=(0,p.default)(w,2),g=b[0],m=b[1],R=[];if(m.length>0){var P=t._shouldUseExactMatchForField(d,a)?":=":":";R.push("".concat(d).concat(P,"[").concat(m.map(function(N){return t._escapeFacetValue(N)}).join(","),"]"))}if(g.length>0){var S=t._shouldUseExactMatchForField(d,a)?":!=":":!";R.push("".concat(d).concat(S,"[").concat(g.map(function(N){return t._escapeFacetValue(N)}).join(","),"]"))}var T=R.filter(function(N){return N}).join(" && ");return T}else{var E=t._parseFacetFilter(u),A=E.fieldName,q=E.fieldValue,k;if(q.startsWith("-")&&!t._isNumber(q)){var U=t._shouldUseExactMatchForField(A,a)?":!=":":!";k="".concat(A).concat(U,"[").concat(t._escapeFacetValue(q.substring(1)),"]")}else{var W=t._shouldUseExactMatchForField(A,a)?":=":":";k="".concat(A).concat(W,"[").concat(t._escapeFacetValue(q),"]")}return k}});return l=o.join(" && "),l}},{key:"_parseFacetFilter",value:function(e){var a,t,l,o,u;if(((a=this.configuration.facetableFieldsWithSpecialCharacters)===null||a===void 0?void 0:a.length)>0){var n=this.configuration.facetableFieldsWithSpecialCharacters.flat().map(function(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")});if(t=new RegExp("^(".concat(n.join("|"),"):(.*)$")),l=e.match(t),l!=null)return o="".concat(l[1]),u="".concat(l[2]),{fieldName:o,fieldValue:u}}return t=this.constructor.DEFAULT_FACET_FILTER_STRING_MATCHING_REGEX,l=e.match(t),l==null?console.error("[Typesense-Instantsearch-Adapter] Parsing failed for a facet filter `".concat(e,"` with the Regex `").concat(t,"`. If you have field names with special characters, be sure to add them to a parameter called `facetableFieldsWithSpecialCharacters` when instantiating the adapter.")):(o="".concat(l[1]).concat(l[2]),u="".concat(l[3])),{fieldName:o,fieldValue:u}}},{key:"_escapeFacetValue",value:function(e){return typeof e=="boolean"||e==="true"||e==="false"||this._isNumber(e)?e:"`".concat(e,"`")}},{key:"_isNumber",value:function(e){return Number.isInteger(e%1)||!!(e%1)}},{key:"_adaptNumericFilters",value:function(e){var a=this,t="";if(!e)return t;var l={};e.forEach(function(u){var n=a._parseNumericFilter(u),d=n.fieldName,_=n.operator,w=n.fieldValue;l[d]=l[d]||{},l[d][_]=w});var o=[];return Object.keys(l).forEach(function(u){l[u]["<="]!=null&&l[u][">="]!=null?o.push("".concat(u,":=[").concat(l[u][">="],"..").concat(l[u]["<="],"]")):l[u]["<="]!=null?o.push("".concat(u,":<=").concat(l[u]["<="])):l[u][">="]!=null?o.push("".concat(u,":>=").concat(l[u][">="])):l[u]["="]!=null?o.push("".concat(u,":=").concat(l[u]["="])):console.warn("[Typesense-Instantsearch-Adapter] Unsupported operator found ".concat(JSON.stringify(l[u])))}),t=o.join(" && "),t}},{key:"_parseNumericFilter",value:function(e){var a,t,l,o,u,n;if(((a=this.configuration.facetableFieldsWithSpecialCharacters)===null||a===void 0?void 0:a.length)>0){var d=this.configuration.facetableFieldsWithSpecialCharacters.map(function(m){return m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")});if(t=new RegExp("^(".concat(d.join("|"),")(<=|>=|>|<|=)(.*)$")),l=e.match(t),l!=null){var _=l,w=(0,p.default)(_,4);return o=w[1],u=w[2],n=w[3],{fieldName:o,operator:u,fieldValue:n}}}if(t=this.constructor.DEFAULT_NUMERIC_FILTER_STRING_MATCHING_REGEX,l=e.match(t),l==null)console.error("[Typesense-Instantsearch-Adapter] Parsing failed for a numeric filter `".concat(e,"` with the Regex `").concat(t,"`. If you have field names with special characters, be sure to add them to a parameter called `facetableFieldsWithSpecialCharacters` when instantiating the adapter."));else{var b=l,g=(0,p.default)(b,4);o=g[1],u=g[2],n=g[3]}return{fieldName:o,operator:u,fieldValue:n}}},{key:"_adaptGeoFilter",value:function(e){var a=e.insideBoundingBox,t=e.aroundRadius,l=e.aroundLatLng,o=e.insidePolygon;if(a){var u,n,d,_;if(Array.isArray(a)){var w=a.flat(),b=(0,p.default)(w,4);u=b[0],n=b[1],d=b[2],_=b[3]}else{var g=a.split(","),m=(0,p.default)(g,4);u=m[0],n=m[1],d=m[2],_=m[3]}return"".concat(this.configuration.geoLocationField,":(").concat(u,", ").concat(n,", ").concat(u,", ").concat(_,", ").concat(d,", ").concat(_,", ").concat(d,", ").concat(n,")")}if(l||t){if(!t||t==="all")throw new Error("[Typesense-Instantsearch-Adapter] In Typesense, geo-filtering around a lat/lng also requires a numerical radius. So the `aroundRadius` parameter is required when `aroundLatLng` is used. If you intend to just geo-sort around a lat/long, you want to use the sortBy InstantSearch widget (or a virtual sortBy custom widget).");var R="".concat(parseFloat(t)/1e3," km");return"".concat(this.configuration.geoLocationField,":(").concat(l,", ").concat(R,")")}if(o){var P=o;return Array.isArray(o)&&(P=o.flat().join(",")),"".concat(this.configuration.geoLocationField,":(").concat(P,")")}}},{key:"_adaptFilters",value:function(e,a){var t=[];return e.filters&&t.push(e.filters),t.push(this._adaptFacetFilters(e.facetFilters,a)),t.push(this._adaptNumericFilters(e.numericFilters)),t.push(this._adaptGeoFilter(e)),t.filter(function(l){return l&&l!==""}).join(" && ")}},{key:"_adaptIndexName",value:function(e){return e.match(this.constructor.INDEX_NAME_MATCHING_REGEX)[1]}},{key:"_adaptSortBy",value:function(e){return e.match(this.constructor.INDEX_NAME_MATCHING_REGEX)[3]}},{key:"_adaptFacetBy",value:function(e,a){var t=this;return[e].flat().map(function(l){var o;return(o=t.configuration.collectionSpecificFacetByOptions)!==null&&o!==void 0&&(o=o[a])!==null&&o!==void 0&&o[l]?"".concat(l).concat(t.configuration.collectionSpecificFacetByOptions[a][l]):t.configuration.facetByOptions[l]?"".concat(l).concat(t.configuration.facetByOptions[l]):l}).join(",")}},{key:"_buildSearchParameters",value:function(e){for(var a=e.params,t=e.indexName,l=this._adaptIndexName(t),o={},u=0,n=Object.entries(this.additionalSearchParameters);u<n.length;u++){var d=(0,p.default)(n[u],2),_=d[0],w=d[1];o[this._camelToSnakeCase(_)]=w}if(this.collectionSpecificSearchParameters[l])for(var b=0,g=Object.entries(this.collectionSpecificSearchParameters[l]);b<g.length;b++){var m=(0,p.default)(g[b],2),R=m[0],P=m[1];o[this._camelToSnakeCase(R)]=P}var S=Object.assign({},o),T=this._adaptSortBy(t);return Object.assign(S,{collection:l,q:a.query===""||a.query===void 0?"*":a.query,facet_by:o.facet_by||this._adaptFacetBy(a.facets,l),filter_by:this._adaptFilters(a,l)||o.filter_by,sort_by:T||o.sort_by,max_facet_values:a.maxValuesPerFacet,page:(a.page||0)+1}),a.hitsPerPage&&(S.per_page=a.hitsPerPage),a.facetQuery&&(S.facet_query="".concat(a.facetName,":").concat(a.facetQuery),S.per_page=0),a.typesenseVectorQuery&&(S.vector_query=a.typesenseVectorQuery),Object.fromEntries(Object.entries(S).filter(function(E){var A=(0,p.default)(E,2);A[0];var q=A[1];return q!=null&&q!==""}))}},{key:"_camelToSnakeCase",value:function(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()}},{key:"request",value:function(){var r=(0,y.default)(v.default.mark(function a(){var t=this,l;return v.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return l=this.instantsearchRequests.map(function(n){return t._buildSearchParameters(n)}),u.abrupt("return",this.typesenseClient.multiSearch.perform({searches:l}));case 2:case"end":return u.stop()}},a,this)}));function e(){return r.apply(this,arguments)}return e}()}],[{key:"INDEX_NAME_MATCHING_REGEX",get:function(){return new RegExp("^(.+?)(?=(/sort/(.*))|$)")}},{key:"DEFAULT_FACET_FILTER_STRING_MATCHING_REGEX",get:function(){return new RegExp("(.*)((?!:).):(?!:)(.*)")}},{key:"DEFAULT_NUMERIC_FILTER_STRING_MATCHING_REGEX",get:function(){return new RegExp("(.*?)(<=|>=|>|<|=)(.*)")}}]),s}();return $e.SearchRequestAdapter=i,$e}var Be={},Vt={exports:{}},Yt={exports:{}},Xn;function Va(){return Xn||(Xn=1,function(c){var v=qi();function y(p){if(Array.isArray(p))return v(p)}c.exports=y,c.exports.__esModule=!0,c.exports.default=c.exports}(Yt)),Yt.exports}var Zt={exports:{}},Vn;function Ya(){return Vn||(Vn=1,function(c){function v(y){if(typeof Symbol<"u"&&y[Symbol.iterator]!=null||y["@@iterator"]!=null)return Array.from(y)}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(Zt)),Zt.exports}var er={exports:{}},Yn;function Za(){return Yn||(Yn=1,function(c){function v(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}c.exports=v,c.exports.__esModule=!0,c.exports.default=c.exports}(er)),er.exports}var Zn;function eo(){return Zn||(Zn=1,function(c){var v=Va(),y=Ya(),p=ji(),f=Za();function h(i){return v(i)||y(i)||p(i)||f()}c.exports=h,c.exports.__esModule=!0,c.exports.default=c.exports}(Vt)),Vt.exports}var tr={exports:{}},ei;function to(){return ei||(ei=1,function(c){var v=li();function y(p,f,h){return f=v(f),f in p?Object.defineProperty(p,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):p[f]=h,p}c.exports=y,c.exports.__esModule=!0,c.exports.default=c.exports}(tr)),tr.exports}var Ge={},ti;function Ni(){if(ti)return Ge;ti=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.utils=void 0;var c={_adaptHighlightTag:function(y,p,f){return y.replace(new RegExp("<mark>","g"),p||"<mark>").replace(new RegExp("</mark>","g"),f||"</mark>")},_adaptNumberOfPages:function(){var y=this.typesenseResponse.found/this.typesenseResponse.request_params.per_page;return Number.isFinite(y)?Math.ceil(y):1}};return Ge.utils=c,Ge}var ri;function ro(){if(ri)return Be;ri=1;var c=ze();Object.defineProperty(Be,"__esModule",{value:!0}),Be.SearchResponseAdapter=void 0;var v=c(Ze()),y=c(ki()),p=c(eo()),f=c(to()),h=c(Je()),i=c(Qe()),s=Ni();function r(t,l){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);l&&(u=u.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,u)}return o}function e(t){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{};l%2?r(Object(o),!0).forEach(function(u){(0,f.default)(t,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(u){Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(o,u))})}return t}var a=function(){function t(l,o,u){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];(0,h.default)(this,t),this.typesenseResponse=l,this.instantsearchRequest=o,this.configuration=u,this.allTypesenseResponses=n}return(0,i.default)(t,[{key:"_adaptGroupedHits",value:function(o){var u=this,n=[];return n=o.map(function(d){var _=u._adaptHits(d.hits);return _.forEach(function(w){w.group_key=w._group_key=d.group_key,d.found&&(w._group_found=d.found)}),_}),this.configuration.flattenGroupedHits?n=n.flat():n=n.map(function(d){return e(e({},d[0]),{},{_grouped_hits:d})}),n}},{key:"_adaptHits",value:function(o){var u=this,n=[];return n=o.map(function(d){var _=e({},d.document);_.objectID=d.document.id,_._snippetResult=u._adaptHighlightResult(d,"snippet"),_._highlightResult=u._adaptHighlightResult(d,"value"),_._rawTypesenseHit=d,["text_match","geo_distance_meters","curated","text_match_info","hybrid_search_info","vector_distance"].forEach(function(b){Object.keys(d).includes(b)&&!Object.keys(_).includes(b)&&(_[b]=d[b])});var w=_[u.configuration.geoLocationField];return w&&(_._geoloc={lat:w[0],lng:w[1]}),_}),n}},{key:"_adaptHighlightResult",value:function(o,u){var n={};return o.highlight!=null&&this.isHighlightPost0240RCN32Format(o.highlight)?this.adaptHighlightObject(o,n,u):this.adaptHighlightsArray(o,n,u),n}},{key:"isHighlightPost0240RCN32Format",value:function(o){return o.full==null&&o.snippet==null}},{key:"adaptHighlightsArray",value:function(o,u,n){var d=this;Object.assign.apply(Object,[u].concat((0,p.default)(Object.entries(o.document).map(function(_){var w=(0,y.default)(_,2),b=w[0],g=w[1];return(0,f.default)({},b,{value:g,matchLevel:"none",matchedWords:[]})})))),o.highlights.forEach(function(_){u[_.field]={value:_[n]||_["".concat(n,"s")],matchLevel:"full",matchedWords:_.matched_tokens},_.indices&&(u[_.field].matchedIndices=_.indices)}),Object.entries(u).forEach(function(_){var w=(0,y.default)(_,2),b=w[0],g=w[1],m=b,R=g.value,P=g.matchLevel,S=g.matchedWords,T=g.matchedIndices;R==null?u[m]=d._adaptHighlightNullValue():Array.isArray(R)?(u[m]=[],o.document[m].forEach(function(E,A){T&&T.includes(A)?u[m].push({value:d._adaptHighlightTag("".concat(R[T.indexOf(A)]),d.instantsearchRequest.params.highlightPreTag,d.instantsearchRequest.params.highlightPostTag),matchLevel:P,matchedWords:S[A]}):(0,v.default)(E)==="object"?u[m].push(d._adaptHighlightInObjectValue(E,{},n)):u[m].push({value:"".concat(E),matchLevel:"none",matchedWords:[]})})):(0,v.default)(R)==="object"?u[m]=d._adaptHighlightInObjectValue(R,{},n):u[m].value=d._adaptHighlightTag("".concat(R),d.instantsearchRequest.params.highlightPreTag,d.instantsearchRequest.params.highlightPostTag)})}},{key:"adaptHighlightObject",value:function(o,u,n){Object.assign(u,this._adaptHighlightInObjectValue(o.document,o.highlight,n))}},{key:"_adaptHighlightInObjectValue",value:function(o,u,n){var d=this;return Object.assign.apply(Object,[{}].concat((0,p.default)(Object.entries(o).map(function(_){var w=(0,y.default)(_,2),b=w[0],g=w[1],m;if(g==null)m=d._adaptHighlightNullValue();else if(Array.isArray(g)){var R;m=d._adaptHighlightInArrayValue(g,(R=u?.[b])!==null&&R!==void 0?R:[],n)}else if((0,v.default)(g)==="object"){var P;m=d._adaptHighlightInObjectValue(g,(P=u?.[b])!==null&&P!==void 0?P:{},n)}else m=d._adaptHighlightInPrimitiveValue(g,u?.[b],n);return(0,f.default)({},b,m)}))))}},{key:"_adaptHighlightInArrayValue",value:function(o,u,n){var d=this;return o.map(function(_,w){var b;if(_==null)b=d._adaptHighlightNullValue();else if(Array.isArray(_)){var g;b=d._adaptHighlightInArrayValue(_,(g=u?.[w])!==null&&g!==void 0?g:[],n)}else if((0,v.default)(_)==="object"){var m;b=d._adaptHighlightInObjectValue(_,(m=u?.[w])!==null&&m!==void 0?m:{},n)}else b=d._adaptHighlightInPrimitiveValue(_,u?.[w],n);return b})}},{key:"_adaptHighlightInPrimitiveValue",value:function(o,u,n){if(u!=null){var d,_;return{value:this._adaptHighlightTag("".concat((d=(_=u[n])!==null&&_!==void 0?_:u.highlight)!==null&&d!==void 0?d:u.snippet),this.instantsearchRequest.params.highlightPreTag,this.instantsearchRequest.params.highlightPostTag),matchLevel:(u.matched_tokens||[]).length>0?"full":"none",matchedWords:u.matched_tokens||[]}}else return{value:this._adaptHighlightTag("".concat(o),this.instantsearchRequest.params.highlightPreTag,this.instantsearchRequest.params.highlightPostTag),matchLevel:"none",matchedWords:[]}}},{key:"_adaptHighlightNullValue",value:function(){return{value:"",matchLevel:"none",matchedWords:[]}}},{key:"_adaptFacets",value:function(o){var u={};return o.forEach(function(n){Object.assign(u,(0,f.default)({},n.field_name,Object.assign.apply(Object,[{}].concat((0,p.default)(n.counts.map(function(d){return(0,f.default)({},d.value,d.count)}))))))}),u}},{key:"_adaptFacetStats",value:function(o){var u={};return o.forEach(function(n){Object.keys(n.stats).length>0&&Object.assign(u,(0,f.default)({},n.field_name,n.stats))}),u}},{key:"_adaptRenderingContent",value:function(o){var u,n=Object.assign({},this.configuration.renderingContent);return((u=n.facetOrdering)===null||u===void 0||(u=u.facets)===null||u===void 0?void 0:u.order)==null&&(n.facetOrdering=n.facetOrdering||{},n.facetOrdering.facets=n.facetOrdering.facets||{},n.facetOrdering.facets.order=(0,p.default)(new Set(o.map(function(d){return d.field_name}).concat(this.allTypesenseResponses.map(function(d){return d.facet_counts||[]}).flat().map(function(d){return d.field_name}).filter(function(d){return d}))))),n}},{key:"adapt",value:function(){var o=this._adaptRenderingContent(this.typesenseResponse.facet_counts||[]),u=e({hits:this.typesenseResponse.grouped_hits?this._adaptGroupedHits(this.typesenseResponse.grouped_hits):this._adaptHits(this.typesenseResponse.hits),nbHits:this.typesenseResponse.found,page:this.typesenseResponse.page-1,nbPages:this._adaptNumberOfPages(),hitsPerPage:this.typesenseResponse.request_params.per_page,facets:this._adaptFacets(this.typesenseResponse.facet_counts||[]),facets_stats:this._adaptFacetStats(this.typesenseResponse.facet_counts||{}),query:this.typesenseResponse.request_params.q,processingTimeMS:this.typesenseResponse.search_time_ms},Object.keys(o).length>0?{renderingContent:o}:null);return u}}]),t}();return Be.SearchResponseAdapter=a,Object.assign(a.prototype,s.utils),Be}var We={},ni;function no(){if(ni)return We;ni=1;var c=ze();Object.defineProperty(We,"__esModule",{value:!0}),We.FacetSearchResponseAdapter=void 0;var v=c(Je()),y=c(Qe()),p=Ni(),f=function(){function h(i,s){(0,v.default)(this,h),this.typesenseResponse=i,this.instantsearchRequest=s}return(0,y.default)(h,[{key:"_adaptFacetHits",value:function(s){var r=this,e={},a=s.find(function(t){return t.field_name===r.instantsearchRequest.params.facetName});return e=a.counts.map(function(t){return{value:t.value,highlighted:r._adaptHighlightTag(t.highlighted,r.instantsearchRequest.params.highlightPreTag,r.instantsearchRequest.params.highlightPostTag),count:t.count}}),e}},{key:"adapt",value:function(){var s={facetHits:this._adaptFacetHits(this.typesenseResponse.facet_counts),exhaustiveFacetsCount:!0,processingTimeMS:this.typesenseResponse.search_time_ms};return s}}]),h}();return We.FacetSearchResponseAdapter=f,Object.assign(f.prototype,p.utils),We}var ii;function io(){return ii||(ii=1,function(c){var v=ze();Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var y=v(si()),p=v(ci()),f=v(Je()),h=v(Qe()),i=ea(),s=Ka(),r=Xa(),e=ro(),a=no(),t=function(){function l(o){var u=this;(0,f.default)(this,l),this.updateConfiguration(o),this.searchClient={clearCache:function(){return u.clearCache()},search:function(d){return u.searchTypesenseAndAdapt(d)},searchForFacetValues:function(d){return u.searchTypesenseForFacetValuesAndAdapt(d)}}}return(0,h.default)(l,[{key:"searchTypesenseAndAdapt",value:function(){var o=(0,p.default)(y.default.mark(function n(d){var _=this,w,b;return y.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,this._adaptAndPerformTypesenseRequest(d);case 3:return w=m.sent,b=w.results.map(function(R,P){_._validateTypesenseResult(R);var S=new e.SearchResponseAdapter(R,d[P],_.configuration,w.results);return S.adapt()}),m.abrupt("return",{results:b});case 8:throw m.prev=8,m.t0=m.catch(0),console.error(m.t0),m.t0;case 12:case"end":return m.stop()}},n,this,[[0,8]])}));function u(n){return o.apply(this,arguments)}return u}()},{key:"searchTypesenseForFacetValuesAndAdapt",value:function(){var o=(0,p.default)(y.default.mark(function n(d){var _=this,w,b;return y.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,this._adaptAndPerformTypesenseRequest(d);case 3:return w=m.sent,b=w.results.map(function(R,P){_._validateTypesenseResult(R);var S=new a.FacetSearchResponseAdapter(R,d[P],_.configuration);return S.adapt()}),m.abrupt("return",b);case 8:throw m.prev=8,m.t0=m.catch(0),console.error(m.t0),m.t0;case 12:case"end":return m.stop()}},n,this,[[0,8]])}));function u(n){return o.apply(this,arguments)}return u}()},{key:"_adaptAndPerformTypesenseRequest",value:function(){var o=(0,p.default)(y.default.mark(function n(d){var _,w;return y.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return _=new r.SearchRequestAdapter(d,this.typesenseClient,this.configuration),g.next=3,_.request();case 3:return w=g.sent,g.abrupt("return",w);case 5:case"end":return g.stop()}},n,this)}));function u(n){return o.apply(this,arguments)}return u}()},{key:"clearCache",value:function(){return this.typesenseClient=new s.SearchClient(this.configuration.server),this.searchClient}},{key:"updateConfiguration",value:function(u){return this.configuration=new i.Configuration(u),this.configuration.validate(),this.typesenseClient=new s.SearchClient(this.configuration.server),!0}},{key:"_validateTypesenseResult",value:function(u){if(u.error)throw new Error("".concat(u.code," - ").concat(u.error));if(!u.hits&&!u.grouped_hits)throw new Error("Did not find any hits. ".concat(u.code," - ").concat(u.error))}}]),l}();c.default=t}(ot)),ot}var ao=io();const oo=ai(ao),ke=".",Di="_facet",uo=1e3,Mi=c=>{const v=new Set(c.map(p=>p.uuid));return{hits:c,merge:p=>{const f=p.filter(h=>!v.has(h.uuid));return Mi([...c,...f])}}},so=c=>({router:Vi({cleanUrlOnDispose:!1}),stateMapping:{stateToRoute:v=>{const y=v[c.index_name]||{},{range:p,refinementList:f}=y;let h={q:y.query};return f&&(h={...h,...f}),p&&(h={...h,...p}),h},routeToState:v=>{const{q:y,event_range_facet:p,...f}=v,h={[c.index_name]:{query:y}};return Object.keys(f).length>0&&(h[c.index_name].refinementList=f),p&&(h[c.index_name].range={event_range_facet:p}),h}}}),co=(c,v={})=>new oo({server:{apiKey:c.api_key,nodes:[{host:c.host,port:c.port||443,protocol:c.protocol||"https"}],cacheSearchResultsForSeconds:120,connectionTimeoutSeconds:c.connection_timeout,timeoutSeconds:c.timeout},geoLocationField:"coordinates",additionalSearchParameters:{query_by:c.query_by,limit:c.limit||250,sort_by:c.sort_by,exclude_fields:c.exclude_fields},...v}),lo=c=>{const v=!B.isEmpty(c.start_date)&&c.start_date[0]||!B.isEmpty(c.end_date)&&c.end_date[0];if(B.isNumber(v)){const y=new Date(v*uo);return new Date(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate())}return v},fo=c=>{if(!c)return"";let v=c.replaceAll(Di,"");return v.includes(ke)&&(v=v.substring(v.indexOf(ke)+1,v.length)),v},ho=(c,v)=>B.get(c,v),po=(c,v)=>v[c?.uuid]?.url,vo=c=>c&&c.includes(ke)?c.replace(Di,"").substring(0,c.indexOf(ke)):"",Li=(c,v,y)=>{const p={id:c.record_id,ccode:[],title:c.name,uuid:c.uuid,record_id:c.record_id,name:c.name,names:c.names?.map(h=>({toponym:h})),type:c.type,items:[v],url:c.url,layerId:c.layerId},f=parseInt(c.record_id,10);return Ui(y,p,{id:f})},yo=(c,v,y={})=>{const p=[],f=v.substring(0,v.lastIndexOf(ke)),h=v.substring(v.lastIndexOf(ke)+1,v.length);return B.each(c,i=>{let s=B.isEmpty(f)?i:rr.getNestedValue(i,f);B.isArray(s)||(s=[s]),B.each(s,r=>{const e=B.get(r,h);if(e&&(!y.type||e.type===y.type)){const t=B.find(p,u=>u.properties?.uuid===r.uuid);let l=i;const o=B.get(i,f);o&&(l=rr.setNestedValue(i,f,o.map(u=>({...u,geometry:void 0}))),l._rawTypesenseHit=void 0,l._snippetResult=void 0,l._highlightResult=void 0),t?t.properties?.items.push(l):p.push(Li(r,l,e))}})}),Hi(p)},_o=(c,v,y,p={})=>{const f=[...c],h=y.substring(0,y.lastIndexOf(ke)),i=y.substring(y.lastIndexOf(ke)+1,y.length),s=[],r=[];return B.each(v,e=>{r.push(e.uuid);const a=B.isEmpty(h)?[e]:rr.getNestedValue(e,h);B.each(a,t=>{s.push(t.uuid);let l,o,u;if(p.geometries?o=po(t,p.geometries):l=ho(t,i),o||l&&(!p.type||l.type===p.type)){const d=B.find(f,w=>w.properties?.uuid===t.uuid),_=go(e);d?B.find(d.properties?.items,b=>b.uuid===_.uuid)||d.properties?.items.push(_):f.push(Fi.toFeature({...t,layerId:u,url:o},_,l))}})}),B.map(f,e=>({...e,properties:{...e.properties,visible:s.includes(e.properties.uuid),items:B.filter(e.properties.items,a=>r.includes(a.uuid))}}))},go=c=>B.pick(c,"id","uuid","record_id","name","names"),xo={createCachedHits:Mi,createRouting:so,createTypesenseAdapter:co,getDate:lo,getFeatures:_o,getFieldId:fo,getRelationshipId:vo,toFeature:Li,toFeatureCollection:yo};export{xo as T};
