import{r as n}from"./index-C0dDX-lL.js";import{_ as b}from"./index-default-C_maRo4o.js";const f=n.createContext({baseUrl:void 0,projectIds:void 0}),m=(a,e,s,t,r=[],l={})=>{const i=`${a}/core_data/public/v1/${e}/${s}/${t}`,o=new URLSearchParams(l);return b.each(r,h=>{o.append("project_ids[]",h)}),`${i}?${o}`},v=(a,e,s,t=[],r={})=>{let l=`${a}/core_data/public/v1/${e}`;s&&(l=`${l}/${s}`);const i=new URLSearchParams(r);return b.each(t,o=>{i.append("project_ids[]",o)}),`${l}?${i}`},c={buildNestedUrl:m,buildUrl:v};class p{constructor(e,s){if(this.constructor===p)throw new TypeError('Abstract class "BaseService" cannot be instantiated directly.');this.baseUrl=e,this.projectIds=s}fetchAll(e={}){const s=c.buildUrl(this.baseUrl,this.getRoute(),null,this.projectIds,e);return fetch(s).then(t=>t.json())}fetchOne(e,s={}){const t=c.buildUrl(this.baseUrl,this.getRoute(),e,this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedEvents(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"events",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedInstances(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"instances",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedItems(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"items",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedManifests(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"manifests",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedMedia(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"media_contents",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedOrganizations(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"organizations",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedPeople(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"people",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedPlaces(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"places",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedTaxonomies(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"taxonomies",this.projectIds,s);return fetch(t).then(r=>r.json())}fetchRelatedWorks(e,s={}){const t=c.buildNestedUrl(this.baseUrl,this.getRoute(),e,"works",this.projectIds,s);return fetch(t).then(r=>r.json())}getRoute(){}}class N extends p{getRoute(){return"events"}}class x extends p{getRoute(){return"places"}}const $=1,E=(a,e={},s=[])=>{const[t,r]=n.useState(),[l,i]=n.useState(!1),[o,h]=n.useState($),d=n.useMemo(()=>(t==null?void 0:t.list)||{},[t]),U=n.useMemo(()=>o===d.pages,[o,d.pages]),j=n.useMemo(()=>o===1,[o]),g=n.useCallback(()=>h(u=>u+1),[]),R=n.useCallback(u=>h(u),[]),I=n.useCallback(()=>h(u=>u-1),[]);return n.useEffect(()=>{i(!0),a({...e,page:o}).then(u=>r(u)).finally(()=>i(!1))},[...s,o]),{count:d.count,data:t,isNextDisabled:U,isPreviousDisabled:j,loading:l,onNext:g,onPageChange:R,onPrevious:I,page:o,pages:d.pages}},S=()=>{const{baseUrl:a,projectIds:e}=n.useContext(f);return new N(a,e)},w=()=>{const{baseUrl:a,projectIds:e}=n.useContext(f);return new x(a,e)};export{f as C,E as a,w as b,S as u};
