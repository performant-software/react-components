import{j as i}from"./jsx-runtime-D9TvR9R2.js";import{r as a}from"./index-C0dDX-lL.js";import{V as v,L as w}from"./LazyLoader-DWAGao17.js";import{B as x}from"./Button-CJhT71wt.js";import{I as g}from"./Icon-C_3d7-zE.js";import{I as l}from"./Label-aEFd48OX.js";import{L as z}from"./Loader-lqR_Ikjg.js";import{S as b}from"./Segment-BqjJDZFO.js";import{D as d}from"./Dimmer-DP3fvqlo.js";import{T as j}from"./Transition-HA1Bivu3.js";import{i as L}from"./i18n-C9xJ7SCg.js";import{A as T}from"./AudioPlayer-D125alfK.js";import{D as h}from"./DownloadButton-f81vwX5G.js";const u=e=>{const[m,r]=a.useState(!1),[t,s]=a.useState(!1),[c,o]=a.useState(!e.preview),[f,n]=a.useState(!1),[y,p]=a.useState(!1);return y?i.jsxs(i.Fragment,{children:[i.jsx(j,{duration:e.duration,visible:!0,children:i.jsxs(d.Dimmable,{as:b,className:"lazy-audio",compact:!0,onBlur:()=>r(!1),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[!c&&i.jsx(w,{active:!0,size:e.size}),!t&&e.preview&&i.jsx(l,{...e.image,onError:()=>{s(!0),o(!0)},onLoad:()=>{s(!1),o(!0)},size:e.size,src:e.preview}),(t||!e.preview)&&i.jsx(l,{...e.image,className:"placeholder-image",size:e.size,children:i.jsx(g,{name:"file audio outline",size:"big"})}),(e.src||e.children)&&e.dimmable&&i.jsx(d,{active:m,children:i.jsxs("div",{className:"buttons",children:[e.src&&i.jsx(x,{content:e.playButtonLabel||L.t("LazyAudio.buttons.play"),icon:"play circle outline",onClick:()=>n(!0),primary:!0}),e.download&&i.jsx(h,{color:"green",filename:e.name,url:e.download}),e.children]})})]})}),e.src&&i.jsx(T,{onClose:()=>n(!1),open:f,size:"large",src:e.src})]}):i.jsx(v,{as:"span",fireOnMount:!0,onTopVisible:()=>p(!0),children:i.jsx(z,{active:!0,inline:"centered",size:e.size})})};u.defaultProps={dimmable:!0,duration:1e3,preview:void 0,size:"medium",src:void 0};u.__docgenInfo={description:"",methods:[],displayName:"LazyAudio",props:{children:{required:!1,flowType:{name:"Node"},description:""},dimmable:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},download:{required:!1,flowType:{name:"string"},description:""},duration:{required:!1,flowType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}},image:{required:!1,flowType:{name:"any"},description:""},name:{required:!1,flowType:{name:"string"},description:""},playButtonLabel:{required:!1,flowType:{name:"string"},description:""},preview:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"undefined",computed:!0}},size:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"'medium'",computed:!1}},src:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"undefined",computed:!0}}}};export{u as L};
