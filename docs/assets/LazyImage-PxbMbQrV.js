import{j as i}from"./jsx-runtime-D9TvR9R2.js";import{r as a}from"./index-C0dDX-lL.js";import{V as b,L as h}from"./LazyLoader-DKbE7T5A.js";import{B as j}from"./Button-Dcib8V--.js";import{I as z}from"./Icon-BGzIEILD.js";import{I as c}from"./Label-BqnFaqey.js";import{L}from"./Loader-DQkWekFb.js";import{S as T}from"./Segment-CxFOEEcF.js";import{D as f}from"./Dimmer-kmE_IUk6.js";import{T as q}from"./Transition-Bkcp4SUV.js";import{i as p}from"./i18n-C9xJ7SCg.js";import{D as I}from"./DownloadButton-D3sda6tg.js";import{P as N}from"./PhotoViewer-B_rJKjvg.js";const g=e=>{const[w,r]=a.useState(!1),[n,o]=a.useState(!1),[s,l]=a.useState(!(e.src||e.preview)),[y,m]=a.useState(!1),[v,x]=a.useState(!1),d=a.useCallback((u=null)=>{const t=[];return u&&t.push(u),s||t.push("hidden"),t.join(" ")},[s]);return v?i.jsxs(i.Fragment,{children:[i.jsx(q,{duration:e.duration,visible:!0,children:i.jsxs(f.Dimmable,{as:T,className:"lazy-image",compact:!0,onBlur:()=>r(!1),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[!s&&i.jsx(h,{active:!0,size:e.size}),!n&&(e.preview||e.src)&&i.jsx(c,{...e.image,className:d(),onError:()=>{o(!0),l(!0)},onLoad:()=>{o(!1),l(!0)},size:e.size,src:e.preview||e.src}),(n||!(e.preview||e.src))&&i.jsx(c,{...e.image,className:d("placeholder-image"),size:e.size,children:i.jsx(z,{name:"image",size:"big"})}),(e.src||e.children)&&e.dimmable&&i.jsx(f,{active:w,children:i.jsxs("div",{className:"buttons",children:[e.src&&i.jsx(j,{content:e.viewButtonLabel||p.t("LazyImage.buttons.view"),icon:"photo",onClick:()=>m(!0),primary:!0}),e.download&&i.jsx(I,{color:"green",filename:e.name,url:e.download}),e.children]})})]})}),e.src&&i.jsx(N,{image:e.src,onClose:()=>m(!1),open:y,size:"large"})]}):i.jsx(b,{as:"span",fireOnMount:!0,onTopVisible:()=>x(!0),children:i.jsx(L,{active:!0,inline:"centered",size:e.size})})};g.defaultProps={dimmable:!0,duration:1e3,size:"medium"};g.__docgenInfo={description:"",methods:[],displayName:"LazyImage",props:{children:{required:!1,flowType:{name:"Node"},description:""},dimmable:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},download:{required:!1,flowType:{name:"string"},description:""},duration:{required:!1,flowType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}},image:{required:!1,flowType:{name:"any"},description:""},name:{required:!1,flowType:{name:"string"},description:""},preview:{required:!1,flowType:{name:"string"},description:""},size:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"'medium'",computed:!1}},src:{required:!1,flowType:{name:"string"},description:""},viewButtonLabel:{required:!1,flowType:{name:"string"},description:""}}};export{g as L};
