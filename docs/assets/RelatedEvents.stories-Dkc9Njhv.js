import{r as f,j as e}from"./iframe-FoyjJkLC.js";import{_ as h}from"./index-default-B8-H6N8J.js";import{c as u}from"./clsx-B-dksMZM.js";import{E}from"./EventsList-C8weuKIB.js";import{L as C}from"./LoadAnimation-CmDA6Da1.js";import{a as S,b as m}from"./CoreData-VzwnZdK9.js";import{C as w,a as j}from"./chevron-right-IRSyJG8z.js";import{w as p}from"./CoreDataContextProvider-Bvl6hy97.js";import"./Event-QX2Go3DM.js";import"./index.es28-cvHwm1ao.js";import"./createLucideIcon-aafPa_pM.js";const o=t=>{const{data:{events:r}={},isNextDisabled:s,isPreviousDisabled:n,loading:g,onNext:b,onPageChange:x,onPrevious:P,page:d,pages:v=1}=S(t.onLoad,[]),y=f.useCallback(a=>a.uuid===t.selected?.uuid,[t.selected]);return g?e.jsx(C,{}):e.jsxs("div",{children:[e.jsx(E,{description:t.description,events:r,isSelected:y,onClick:t.onClick}),v>1&&e.jsxs("div",{className:"flex justify-between items-center py-4 px-3 w-full bg-black/10 text-gray-400",children:[e.jsx("button",{"aria-label":"Previous Page",className:u("flex","items-center","justify-center","border","border-solid","rounded-full",{"disabled:pointer-events-none":n},{"bg-event-selected":!n},{"hover:bg-event-selected":!n},{"text-white":!n},{"border-event-selected":!n}),disabled:n,onClick:P,type:"button",children:e.jsx(w,{})}),e.jsx("div",{className:"flex content-center items-center",children:h.times(v,a=>e.jsx("button",{"aria-label":`Page ${a+1}`,className:u("px-3","py-1","rounded-none",{"bg-event-selected":d===a+1},{"hover:bg-event-selected":d===a+1},{"text-white":d===a+1}),onClick:()=>x(a+1),type:"button",children:a+1}))}),e.jsx("button",{"aria-label":"Next Page",className:u("flex","items-center","justify-center","border","border-solid","rounded-full",{"disabled:pointer-events-none":s},{"bg-event-selected":!s},{"hover:bg-event-selected":!s},{"text-white":!s},{"border-event-selected":!s}),disabled:s,onClick:b,type:"button",children:e.jsx(j,{})})]})]})};o.defaultProps={description:!0,defaultPage:1,onClick:()=>{}};o.__docgenInfo={description:"",methods:[],displayName:"RelatedEvents",props:{description:{required:!1,flowType:{name:"boolean"},description:"If `true`, the event description will be displayed on the card.",defaultValue:{value:"true",computed:!1}},onClick:{required:!1,flowType:{name:"signature",type:"function",raw:"(event: EventType) => void",signature:{arguments:[{name:"event",type:{name:"EventType"}}],return:{name:"void"}}},description:`Callback fired when an item in the list is clicked.

@param event`,defaultValue:{value:"() => {}",computed:!1}},onLoad:{required:!0,flowType:{name:"signature",type:"function",raw:"() => Promise<any>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:"Callback used to load the list of event records."},selected:{required:!1,flowType:{name:"EventType"},description:"The currently selected event record."},defaultPage:{defaultValue:{value:"1",computed:!1},required:!1}}};const O={title:"Components/Core Data/RelatedEvents",component:o},i=p(()=>{const t=m();return e.jsx(o,{onLoad:r=>t.fetchRelatedEvents("1",r)})}),c=p(()=>{const[t,r]=f.useState(),s=m();return e.jsx(o,{onClick:n=>r(n),onLoad:n=>s.fetchRelatedEvents("1",n),selected:t})}),l=p(()=>{const t=m();return e.jsx(o,{onLoad:r=>t.fetchRelatedEvents("1",r).then(s=>(h.extend(s.list,{pages:5,count:22}),s))})});i.__docgenInfo={description:"",methods:[],displayName:"Default"};c.__docgenInfo={description:"",methods:[],displayName:"Selection"};l.__docgenInfo={description:"",methods:[],displayName:"Pagination"};i.parameters={...i.parameters,docs:{...i.parameters?.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const PlacesService = usePlacesService();
  return <RelatedEvents onLoad={params => PlacesService.fetchRelatedEvents('1', params)} />;
})`,...i.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const [selectedEvent, setSelectedEvent] = useState();
  const PlacesService = usePlacesService();
  return <RelatedEvents onClick={event => setSelectedEvent(event)} onLoad={params => PlacesService.fetchRelatedEvents('1', params)} selected={selectedEvent} />;
})`,...c.parameters?.docs?.source}}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`withCoreDataContextProvider(() => {
  const PlacesService = usePlacesService();
  return <RelatedEvents onLoad={params => PlacesService.fetchRelatedEvents('1', params).then(response => {
    _.extend(response.list, {
      pages: 5,
      count: 22
    });
    return response;
  })} />;
})`,...l.parameters?.docs?.source}}};const $=["Default","Selection","Pagination"];export{i as Default,l as Pagination,c as Selection,$ as __namedExportsOrder,O as default};
