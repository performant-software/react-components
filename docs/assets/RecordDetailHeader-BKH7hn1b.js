import{j as r}from"./jsx-runtime-D9TvR9R2.js";import{c as g}from"./clsx-B-dksMZM.js";import{r as s,R as j}from"./index-C0dDX-lL.js";import{_ as q}from"./index-default-C_maRo4o.js";import{B as h}from"./Button-BVnVN7dx.js";import{R as H}from"./RecordDetailTitle-D3fDPGCH.js";import{R as k}from"./RecordDetailItem-D9wvyZCv.js";import{i as l}from"./i18n-O47xwIR-.js";const p=t=>{var d,m,u,f;const[a,x]=s.useState(!1),[y,w]=s.useState(!1),[o,R]=s.useState(0),[c,N]=s.useState(0),i=s.useRef(null),n=s.useMemo(()=>new ResizeObserver(e=>{R(e[0].target.scrollHeight),N(e[0].target.clientHeight)}),[]),b=j.useCallback(e=>{e?(i.current=e,n.observe(e)):i.current=null},[n]);return s.useEffect(()=>{i.current&&w(o>c||a)},[o,c]),s.useEffect(()=>()=>n.disconnect(),[]),r.jsxs("div",{className:g("flex","flex-col","gap-4","px-6","pt-6","pb-4",(d=t.classNames)==null?void 0:d.root),children:[r.jsx(H,{text:t.title,icon:t.icon,className:(m=t.classNames)==null?void 0:m.title}),!!((u=t.detailItems)!=null&&u.length)&&r.jsx("ul",{className:(f=t.classNames)==null?void 0:f.items,children:q.map(t.detailItems,(e,v)=>r.jsx(k,{text:e.text,icon:e.icon,className:e.className},v))}),r.jsx("div",{ref:b,className:g({"line-clamp-6":!a}),children:t.children}),y&&r.jsx(h,{rounded:!0,className:"w-full justify-center",onClick:()=>{x(e=>!e)},children:a?l.t("RecordDetailHeader.showLess"):l.t("RecordDetailHeader.showMore")}),t.detailPageUrl&&r.jsx("a",{href:t.detailPageUrl,children:r.jsx(h,{rounded:!0,className:"w-full justify-center",children:l.t("RecordDetailHeader.viewDetails")})})]})},L=p;p.__docgenInfo={description:"",methods:[],displayName:"RecordDetailHeader",props:{children:{required:!1,flowType:{name:"Node"},description:"Content to be rendered as the blurb"},classNames:{required:!1,flowType:{name:"signature",type:"object",raw:"{ items?: string, root?: string, title?: string }",signature:{properties:[{key:"items",value:{name:"string",required:!1}},{key:"root",value:{name:"string",required:!1}},{key:"title",value:{name:"string",required:!1}}]}},description:"Class names to apply to the main div, the title element, and the list element containing the detail items."},detailItems:{required:!1,flowType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ text: string, icon?: string, className?: string }",signature:{properties:[{key:"text",value:{name:"string",required:!0}},{key:"icon",value:{name:"string",required:!1}},{key:"className",value:{name:"string",required:!1}}]}}],raw:"Array<{ text: string, icon?: string, className?: string }>"},description:"List of detail fields to be rendered above the blurb"},detailPageUrl:{required:!1,flowType:{name:"string"},description:"If a URL for a record detail page is provided, will render a button that links to it"},icon:{required:!1,flowType:{name:"string"},description:"The icon to display before the header."},title:{required:!0,flowType:{name:"string"},description:"The text of the header."}}};export{L as R};
