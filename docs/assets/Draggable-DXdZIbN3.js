import{j as D}from"./jsx-runtime-D9TvR9R2.js";import{r as x}from"./index-C0dDX-lL.js";import{R as h}from"./Portal-CKYxdKwP.js";import{u as w,a as E}from"./useDrop-Bls-awrw.js";const u="vertical",g="any",I=e=>{const{index:s,id:m,direction:l=u}=e,n=x.useRef(null),[,f]=w({accept:g,hover(i,v){if(!n.current)return;const a=i.index,t=s;if(a===t)return;const r=n.current.getBoundingClientRect(),c=v.getClientOffset();let o,d;l===u?o=(r.bottom-r.top)/2:o=(r.right-r.left)/2,l===u?d=c.y-r.top:d=c.x-r.left,!(a<t&&d<o)&&(a>t&&d>o||(e.onDrag(a,t),i.index=t))}}),[{isDragging:p},y]=E({item:{type:g,id:m,index:s},begin:()=>e.onDragStart&&e.onDragStart(),end:()=>e.onDragEnd&&e.onDragEnd(),collect:i=>({isDragging:i.isDragging()})});return y(f(n)),n&&n.current&&(n.current.style.opacity=p?0:1),D.jsx(h,{innerRef:n,children:e.children})};I.__docgenInfo={description:"",methods:[],displayName:"Draggable",props:{children:{required:!0,flowType:{name:"Element",elements:[{name:"any"}],raw:"Element<any>"},description:""},direction:{required:!0,flowType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:""},id:{required:!0,flowType:{name:"any"},description:""},index:{required:!0,flowType:{name:"number"},description:""},onDrag:{required:!0,flowType:{name:"signature",type:"function",raw:"(dragIndex: number, hoverIndex: number) => void",signature:{arguments:[{name:"dragIndex",type:{name:"number"}},{name:"hoverIndex",type:{name:"number"}}],return:{name:"void"}}},description:""},onDragEnd:{required:!1,flowType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDragStart:{required:!1,flowType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{I as D};
