import{j as e}from"./jsx-runtime-D9TvR9R2.js";import{r as o}from"./index-C0dDX-lL.js";import{L as C}from"./LazyVideo-B-0FbGwm.js";import{c as L,o as T}from"./index.es34-DzssmlbK.js";import{G as g}from"./Grid-gE1yEjqh.js";import{B as s}from"./Button-Dcib8V--.js";import{I as R}from"./Input-CEHVpxQU.js";import{L as _}from"./Label-BqnFaqey.js";import{S as E}from"./Segment-CxFOEEcF.js";import{M as p}from"./Modal-B0p4Zslq.js";import{i as l}from"./i18n-C9xJ7SCg.js";import{w as M}from"./withTranslation-f2mLX_0O.js";import{v as S}from"./SampleVideo-Bq74ahmY.js";import"./_commonjsHelpers-BosuxZz1.js";import"./LazyLoader-DKbE7T5A.js";import"./extends-CCbyfPlC.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./getElementType-C_4y_n4F.js";import"./forEach-Bj9nU5MO.js";import"./without-5b9zAUWg.js";import"./isArrayLikeObject-BDKOwBZt.js";import"./includes-BAV9TYTx.js";import"./toFinite-DWd2HYc9.js";import"./Portal-CKYxdKwP.js";import"./keyboardKey-OMDgGVm3.js";import"./ModernAutoControlledComponent-CBEnGjal.js";import"./assertThisInitialized-B9jnkVVz.js";import"./index-DOYXiIEK.js";import"./objectWithoutPropertiesLoose-1QL-frMM.js";import"./Loader-DQkWekFb.js";import"./Icon-BGzIEILD.js";import"./Dimmer-kmE_IUk6.js";import"./Transition-Bkcp4SUV.js";import"./_baseAssignValue-oMV-Qdk1.js";import"./filter-BXgalVMq.js";import"./DownloadButton-D3sda6tg.js";import"./uuid-BH6G0oTz.js";import"./VideoPlayer-BOL7Ffyd.js";import"./Message-BUccNRJp.js";import"./map-Dr4OE-Ab.js";import"./index-default-C_maRo4o.js";import"./iframe-D0ALsfKS.js";import"../sb-preview/runtime.js";import"./index-C2Sldg7a.js";import"./_baseSet-N8oZ1kqS.js";import"./_arrayReduce-CrxnWFSq.js";import"./isEmpty-D4udnfVx.js";import"./i18next-CwS9wMM1.js";import"./toPropertyKey-BcUJYDQU.js";import"./defineProperty-DcNpp85p.js";import"./inherits-CWPG5jll.js";import"./createClass-CV9nCQMI.js";import"./getPrototypeOf-BYVhAdwF.js";import"./slicedToArray-DCh25bEK.js";import"./nonIterableRest-QXsEjLJN.js";import"./objectWithoutProperties--RY0eV0u.js";import"./utils-DCllE6BU.js";import"./createClass-D0eOxKhW.js";const N=1,k=1,A=300,x=r=>{const[c,u]=o.useState(0),[d,w]=o.useState(r.defaultInterval),[i,v]=o.useState(0),[F,f]=o.useState(!1),n=o.useRef(null);return o.useEffect(()=>{n.current&&(n.current.currentTime=i)},[i]),e.jsxs(e.Fragment,{children:[e.jsx(s,{...r.button,onClick:()=>f(!0)}),e.jsx(L.Consumer,{children:I=>e.jsxs(p,{centered:!1,className:"video-frame-selector",mountNode:I,open:F,size:"small",children:[e.jsx(p.Header,{content:r.title}),e.jsxs(p.Content,{children:[e.jsx(E,{children:e.jsx("video",{crossOrigin:"anonymous",onLoadedMetadata:()=>n.current&&u(n.current.duration),ref:n,src:r.src})}),e.jsxs(g,{columns:2,children:[e.jsxs(g.Column,{children:[e.jsx("div",{children:e.jsx(_,{content:l.t("VideoFrameSelector.labels.interval",{count:d})})}),e.jsx(R,{"aria-label":"Interval Selector",min:k,max:A,name:"duration",onChange:(a,{value:t})=>w(Number(t)),step:N,type:"range",value:d})]}),e.jsxs(g.Column,{textAlign:"right",children:[e.jsx(s,{"aria-label":"Previous Frame",basic:!0,disabled:i===0,icon:"arrow left",onClick:()=>v(Math.max(i-d,0))}),e.jsx(s,{"aria-label":"Next Frame",basic:!0,disabled:i===c,icon:"arrow right",onClick:()=>v(Math.min(i+d,c))})]})]})]}),e.jsxs(p.Actions,{children:[e.jsx(s,{content:l.t("Common.buttons.ok"),primary:!0,onClick:()=>{const a=n.current;if(a&&T.isBrowser()){const t=document.createElement("canvas");t.width=a.videoWidth,t.height=a.videoHeight,t.getContext("2d").drawImage(a,0,0,t.width,t.height),t.toBlob(h=>{const y=new File([h],"test.png",{lastModified:new Date().getTime(),type:h.type});r.onSelect(y),f(!1)})}}}),e.jsx(s,{basic:!0,content:l.t("Common.buttons.cancel"),onClick:()=>f(!1)})]})]})})]})};x.defaultProps={button:{basic:!0,content:l.t("VideoFrameSelector.buttons.select"),icon:"image"},defaultInterval:15,title:l.t("VideoFrameSelector.title")};const q=M()(x);x.__docgenInfo={description:"",methods:[],displayName:"VideoFrameSelector",props:{button:{required:!1,flowType:{name:"any"},description:"",defaultValue:{value:`{
  basic: true,
  content: i18n.t('VideoFrameSelector.buttons.select'),
  icon: 'image'
}`,computed:!1}},defaultInterval:{required:!1,flowType:{name:"number"},description:"",defaultValue:{value:"15",computed:!1}},onSelect:{required:!0,flowType:{name:"signature",type:"function",raw:"(file: File) => void",signature:{arguments:[{name:"file",type:{name:"File"}}],return:{name:"void"}}},description:""},src:{required:!0,flowType:{name:"string"},description:""},title:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"i18n.t('VideoFrameSelector.title')",computed:!0}}}};const Pe={title:"Components/Semantic UI/VideoFrameSelector"},m=()=>{const[r,c]=o.useState(null);return e.jsxs(e.Fragment,{children:[e.jsx(C,{preview:r,src:S}),e.jsx(q,{onSelect:u=>c(URL.createObjectURL(u)),src:S})]})};m.__docgenInfo={description:"",methods:[],displayName:"Default"};var j,b,V;m.parameters={...m.parameters,docs:{...(j=m.parameters)==null?void 0:j.docs,source:{originalSource:`() => {
  const [image, setImage] = useState(null);
  return <>
      <LazyVideo preview={image} src={video} />
      <VideoFrameSelector onSelect={file => setImage(URL.createObjectURL(file))} src={video} />
    </>;
}`,...(V=(b=m.parameters)==null?void 0:b.docs)==null?void 0:V.source}}};const Ge=["Default"];export{m as Default,Ge as __namedExportsOrder,Pe as default};
