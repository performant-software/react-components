var _=Object.defineProperty;var j=(o,n,e)=>n in o?_(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e;var y=(o,n,e)=>(j(o,typeof n!="symbol"?n+"":n,e),e);import{j as d}from"./jsx-runtime-BTCK_S7S.js";import{r}from"./index-CBqU2yxZ.js";import{d as s}from"./index-CAen7T_W.js";import{_ as i}from"./index-default-C_maRo4o.js";import{A as f}from"./Api-DXLamogn.js";import{u as b}from"./index.es28-Dp3-vHIY.js";import{I as w}from"./Icon-2tEtgK8g.js";import{D as B}from"./Dropdown-Di2cPjwR.js";import{i as S}from"./i18n-C8zWlANG.js";import"./_commonjsHelpers-BosuxZz1.js";import"./mapValues-LQZI9uWW.js";import"./pickBy-Us6u5-To.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./isPlainObject-DCkRKKtx.js";import"./index-Cw1G72V2.js";import"./index-CKJfshIT.js";import"./tiny-invariant.cjs-DxxScMW_.js";import"./___vite-browser-external_commonjs-proxy-DRaEfepn.js";import"./preview-errors-CzpZmerH.js";import"./debounce-BkgZrIul.js";import"./index-DZGZymok.js";import"./iframe-BQtATEn0.js";import"../sb-preview/runtime.js";import"./extends-CCbyfPlC.js";import"./inheritsLoose-1HkgTRWY.js";import"./setPrototypeOf-DgZC2w_0.js";import"./getElementType-CckcRzoH.js";import"./includes-CQoJOerW.js";import"./toFinite-KQ8KevIC.js";import"./map-B4PnIEPz.js";import"./without-BP-mqg2K.js";import"./isArrayLikeObject-CbXKTyfk.js";import"./isEmpty-Cyb9hIKi.js";import"./deburr-CEfyoYOr.js";import"./index-BBpNyw-T.js";import"./_baseSet-6y0qliU9.js";import"./_baseAssignValue-izmKBXUH.js";import"./_arrayReduce-CrxnWFSq.js";import"./ModernAutoControlledComponent-DJBWk5EW.js";import"./assertThisInitialized-B9jnkVVz.js";import"./Portal-DvhHJPzU.js";import"./keyboardKey-OMDgGVm3.js";import"./objectWithoutPropertiesLoose-1QL-frMM.js";import"./Label-Cq1fb1cd.js";import"./forEach-CXlln0XP.js";import"./Dimmer-D_gwaesu.js";import"./filter-CVNi8iPS.js";import"./i18next-Sc0HEOoc.js";import"./toPropertyKey-hKuLU48H.js";import"./defineProperty-CCxoMnQV.js";import"./inherits-D5wXBZoG.js";import"./createClass-D2z1h_eG.js";import"./getPrototypeOf-BYVhAdwF.js";class p extends r.Component{constructor(e){super(e);y(this,"dropdown");this.state={loading:!1,options:[],page:1,pages:1,search:""},this.dropdown=r.createRef()}componentDidMount(){this.onReset()}componentDidUpdate(e){this.props.value!==e.value&&this.setState({page:1,pages:1,search:""},this.onSearch.bind(this))}getClassNames(){const e=["remote-dropdown"];return this.props.className&&e.push(this.props.className),e.join(" ")}getValues(){let e=[];const{value:t}=this.props;return t&&t.length&&(e=Array.isArray(t)?t:[t]),e}getOption(e){return{key:e,text:e,value:e}}getOptions(){const e=[...this.state.options];i.each(this.getValues(),a=>{i.findWhere(e,{value:a})||e.push(this.getOption(a))});const{search:t}=this.state;return this.props.allowAdditions&&t&&!i.findWhere(e,{text:t})&&e.push({key:"add",value:"add",text:this.renderAddOption(),onClick:this.onAddItem.bind(this)}),this.state.page<this.state.pages&&e.push({key:"more",value:"more",text:this.renderLoadMoreOption(),onClick:()=>this.setState(a=>({page:a.page+1}),this.onSearch.bind(this))}),e}getSearchOptions(){return i.filter(this.getOptions(),e=>!this.getValues().includes(e.value))}onAddItem(e){return this.props.onAddItem&&this.props.onAddItem(this.state.search).then(()=>{let t=this.state.search;this.props.multiple&&(t=[...this.props.value,this.state.search]),this.onOptionSelection(e,{value:t}),this.props.multiple||this.dropdown.current.close()})}onOptionSelection(e,{value:t}){this.props.onSelection(t)}onReset(){this.setState({options:i.map(this.getValues(),this.getOption.bind(this)),page:1,pages:1,search:""})}onSearch(){const{page:e,search:t}=this.state;this.setState({loading:!0},()=>{this.props.onLoad({page:e,search:t}).then(({data:a})=>{const l=i.map(a[this.props.collectionName],this.props.renderOption.bind(this)),{pages:M}=a.list;this.setState(E=>({loading:!1,options:[...e>1?E.options||[]:[],...l],page:e,pages:M}))})})}onSearchChange(e,{searchQuery:t}){this.setState({page:1,pages:1,search:t})}render(){return d.jsx(B,{className:this.getClassNames(),clearable:!0,fluid:this.props.fluid,loading:this.state.loading,multiple:this.props.multiple,onBlur:this.onReset.bind(this),onClose:this.onReset.bind(this),onChange:this.onOptionSelection.bind(this),onOpen:this.onSearch.bind(this),onSearchChange:this.onSearchChange.bind(this),options:this.getOptions(),placeholder:this.props.placeholder,ref:this.dropdown,scrolling:!0,search:()=>this.getSearchOptions(),searchInput:{"aria-label":"Search",className:"remote-dropdown-search-input",onKeyDown:b.clearSearchTimer.bind(this),onKeyUp:b.setSearchTimer.bind(this,this.onSearch.bind(this))},searchQuery:this.state.search,selectOnBlur:!1,selection:!0,value:this.props.value})}renderAddOption(){return d.jsxs("div",{className:"extra-option",children:[d.jsx(w,{name:"plus circle"}),`${S.t("RemoteDropdown.labels.add")} ${this.state.search}`]})}renderLoadMoreOption(){return d.jsxs("div",{className:"extra-option",children:[d.jsx(w,{name:"refresh"}),S.t("RemoteDropdown.labels.loadMore")]})}}y(p,"defaultProps");p.defaultProps={allowAdditions:!1,className:"",fluid:!1,multiple:!1,onAddItem:void 0,placeholder:null};p.__docgenInfo={description:"",methods:[{name:"getClassNames",docblock:`Returns the dropdown class name(s).

@returns {string}`,modifiers:[],params:[],returns:{type:{name:"string"}},description:"Returns the dropdown class name(s)."},{name:"getValues",docblock:`Returns the dropdown value as an array.

@returns {[]}`,modifiers:[],params:[],returns:{type:{name:"tuple",elements:[]}},description:"Returns the dropdown value as an array."},{name:"getOption",docblock:`Returns the passed value as a dropdown option.

@param value

@returns {{text: *, value: *, key: *}}`,modifiers:[],params:[{name:"value",optional:!1,type:{name:"string"}}],returns:{},description:"Returns the passed value as a dropdown option."},{name:"getOptions",docblock:`Returns the complete list of dropdown options. If applicable, the "Add" and "Load more" options are added to the
end of the list.

@returns {*[]}`,modifiers:[],params:[],returns:{type:{name:"Array",elements:[{name:"mixed"}]}},description:`Returns the complete list of dropdown options. If applicable, the "Add" and "Load more" options are added to the
end of the list.`},{name:"getSearchOptions",docblock:`Returns the list of options to display for the search. This list will include the options that match the search
criteria with the current value(s) excluded.

@returns {*}`,modifiers:[],params:[],returns:{type:{name:"mixed"}},description:`Returns the list of options to display for the search. This list will include the options that match the search
criteria with the current value(s) excluded.`},{name:"onAddItem",docblock:`Adds the current search query as a new dropdown option.

@param e

@returns {*|Q.Promise<any>|Promise<R>|Promise<any>|void}`,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}}],returns:{type:{name:"union",elements:[{name:"mixed"},{name:"Q.Promise",elements:[{name:"any"}]},{name:"Promise",elements:[{name:"R"}]},{name:"Promise",elements:[{name:"any"}]},{name:"void"}]}},description:"Adds the current search query as a new dropdown option."},{name:"onOptionSelection",docblock:`Selects the passed value.

@param e
@param value`,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}},{name:"{ value }: any",optional:!1,type:{name:"any"}}],returns:null,description:"Selects the passed value."},{name:"onReset",docblock:"Resets the dropdown state.",modifiers:[],params:[],returns:null,description:"Resets the dropdown state."},{name:"onSearch",docblock:"Executes the search and sets the rendered options on the state.",modifiers:[],params:[],returns:null,description:"Executes the search and sets the rendered options on the state."},{name:"onSearchChange",docblock:`Sets the search on the state and re-sets the page counts.

@param e
@param searchQuery`,modifiers:[],params:[{name:"e",optional:!1,type:{name:"Event",alias:"Event"}},{name:"{ searchQuery }: any",optional:!1,type:{name:"any"}}],returns:null,description:"Sets the search on the state and re-sets the page counts."},{name:"renderAddOption",docblock:`Renders the "Add" dropdown option.

@returns {*}`,modifiers:[],params:[],returns:{type:{name:"mixed"}},description:'Renders the "Add" dropdown option.'},{name:"renderLoadMoreOption",docblock:`Renders the "Load more" dropdown option.

@returns {*}`,modifiers:[],params:[],returns:{type:{name:"mixed"}},description:'Renders the "Load more" dropdown option.'}],displayName:"RemoteDropdown",props:{allowAdditions:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},collectionName:{required:!0,flowType:{name:"string"},description:""},fluid:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},multiple:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onAddItem:{required:!1,flowType:{name:"signature",type:"function",raw:"(value: string) => Promise<any>",signature:{arguments:[{name:"value",type:{name:"string"}}],return:{name:"Promise",elements:[{name:"any"}],raw:"Promise<any>"}}},description:"",defaultValue:{value:"undefined",computed:!0}},onLoad:{required:!0,flowType:{name:"signature",type:"function",raw:"({ search: string, page: number}) => Promise<ApiResponse>",signature:{arguments:[{name:"",type:{name:"signature",type:"object",raw:"{ search: string, page: number}",signature:{properties:[{key:"search",value:{name:"string",required:!0}},{key:"page",value:{name:"number",required:!0}}]}}}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:`{
  data: {
    items: Array<any>,
    list: {
      pages: number
    }
  }
}`,signature:{properties:[{key:"data",value:{name:"signature",type:"object",raw:`{
  items: Array<any>,
  list: {
    pages: number
  }
}`,signature:{properties:[{key:"items",value:{name:"Array",elements:[{name:"any"}],raw:"Array<any>",required:!0}},{key:"list",value:{name:"signature",type:"object",raw:`{
  pages: number
}`,signature:{properties:[{key:"pages",value:{name:"number",required:!0}}]},required:!0}}]},required:!0}}]}}],raw:"Promise<ApiResponse>"}}},description:""},onSelection:{required:!0,flowType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{name:"value",type:{name:"string"}}],return:{name:"void"}}},description:""},placeholder:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"null",computed:!1}},renderOption:{required:!0,flowType:{name:"signature",type:"function",raw:"(item: any) => Option",signature:{arguments:[{name:"item",type:{name:"any"}}],return:{name:"signature",type:"object",raw:`{
  key: string,
  value: string,
  text: any
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}},{key:"text",value:{name:"any",required:!0}}]}}}},description:""},value:{required:!0,flowType:{name:"string"},description:""}}};const Fe={title:"Components/Semantic UI/RemoteDropdown",decorators:[s.withKnobs]},v=(o,n,e)=>new Promise(t=>t(n([...o,{value:e}]))),g=o=>({key:o.value,value:o.value,text:o.value,description:o.description}),D=[{value:"Red",description:"Duis adipisicing ullamco aliqua dolore officiaDuis adipisicing ullamco aliqua dolore officiaDuis adipisicing ullamco aliqua dolore officiaDuis adipisicing ullamco aliqua dolore officiaDuis adipisicing ullamco aliqua dolore officia."},{value:"Blue",description:"Duis adipisicing ullamco aliqua dolore officia."},{value:"Orange"},{value:"Green"},{value:"Yellow"},{value:"Black"},{value:"White"},{value:"Purple"},{value:"Pink"}],u=()=>{const o=s.boolean("Multiple",!1),[n,e]=r.useState(D),[t,a]=r.useState(o?[]:"");return d.jsx(p,{allowAdditions:s.boolean("Allow additions",!1),collectionName:"items",fluid:s.boolean("Fluid",!1),multiple:o,onAddItem:v.bind(void 0,n,e),onLoad:l=>f.onLoad(i.extend(l,{items:n})),onSelection:a.bind(void 0),renderOption:g.bind(void 0),value:t})},m=()=>{const o=s.boolean("Multiple",!1),[n,e]=r.useState(D),[t,a]=r.useState(o?["Red"]:"Red");return d.jsx(p,{allowAdditions:s.boolean("Allow additions",!1),collectionName:"items",fluid:s.boolean("Fluid",!1),multiple:o,onAddItem:v.bind(void 0,n,e),onLoad:l=>f.onLoad(i.extend(l,{items:n})),onSelection:a.bind(void 0),renderOption:g.bind(void 0),value:t})},C=[{value:"Coming Down the Mountain"},{value:"Me and you (io e te)"},{value:"Korengal"},{value:"Jacques Brel Is Alive and Well and Living in Paris"},{value:"Annie Get Your Gun"},{value:"Appleseed (AppurushÃ®do)"},{value:"Khroustaliov, My Car! (Khrustalyov, mashinu!)"},{value:"Overboard"},{value:"Friends of Eddie Coyle, The"},{value:"Meet the Parents"},{value:"Wedding Party, The (Die Bluthochzeit)"},{value:"Beats Rhymes & Life: The Travels of a Tribe Called Quest"},{value:"Northanger Abbey"},{value:"In Vanda's Room (No Quarto da Vanda)"},{value:"Asfalto"},{value:"An Apology to Elephants"},{value:"Cool Air"},{value:"Blue Umbrella, The"},{value:"Earth vs. the Spider"},{value:"Son of Lassie"},{value:"Presto"},{value:"Prisoner of Paradise"},{value:"2-Headed Shark Attack"},{value:"Shattered"},{value:"My Life and Times With Antonin Artaud (En compagnie d'Antonin Artaud)"},{value:"Hell in the Pacific"},{value:"Blades of Glory"},{value:"Lodger, The"},{value:"Anvil! The Story of Anvil"},{value:"Please Give"},{value:"Story of Three Loves, The"},{value:"Simpsons: The Longest Daycare, The"},{value:"Unsaid, The"},{value:"Wisegirls"},{value:"Enemy of the People, An"},{value:"Virus"},{value:"Blue Dahlia, The"},{value:"Clouds of May (Mayis sikintisi)"},{value:"Tracker, The"},{value:"Trailer Park Boys"},{value:"May 18 (Hwaryeohan hyuga)"},{value:"Where Eagles Dare"},{value:"Pocket Money"},{value:"Charlie Chan's Chance"},{value:"Cat Came Back, The"},{value:"Good Night, and Good Luck."},{value:"White Reindeer"},{value:"The Phantom of the Opera"},{value:"Digimon: The Movie"},{value:"Once Around"}],c=()=>{const o=s.boolean("Multiple",!1),[n,e]=r.useState(C),[t,a]=r.useState(o?[]:"");return d.jsx(p,{allowAdditions:s.boolean("Allow additions",!1),collectionName:"items",fluid:s.boolean("Fluid",!1),multiple:o,onAddItem:v.bind(void 0,n,e),onLoad:l=>f.onLoad(i.extend(l,{items:n})),onSelection:a.bind(void 0),renderOption:g.bind(void 0),value:t})},h=()=>{const o=s.boolean("Multiple",!1),[n,e]=r.useState(C),[t,a]=r.useState(o?[]:"");return d.jsx(p,{allowAdditions:s.boolean("Allow additions",!1),collectionName:"items",fluid:s.boolean("Fluid",!1),multiple:o,onAddItem:v.bind(void 0,n,e),onLoad:l=>f.onLoad(i.extend(l,{items:n,perPage:10})),onSelection:a.bind(void 0),renderOption:g.bind(void 0),value:t,style:{width:600}})};u.__docgenInfo={description:"",methods:[],displayName:"Default"};m.__docgenInfo={description:"",methods:[],displayName:"SelectedValue"};c.__docgenInfo={description:"",methods:[],displayName:"LargeList"};h.__docgenInfo={description:"",methods:[],displayName:"Pagination"};var A,O,R;u.parameters={...u.parameters,docs:{...(A=u.parameters)==null?void 0:A.docs,source:{originalSource:`() => {
  const multiple = boolean('Multiple', false);
  const [options, setOptions] = useState(colors);
  const [selectedValue, setSelectedValue] = useState(multiple ? [] : '');
  return <RemoteDropdown allowAdditions={boolean('Allow additions', false)} collectionName='items' fluid={boolean('Fluid', false)} multiple={multiple} onAddItem={onAddItem.bind(this, options, setOptions)} onLoad={params => Api.onLoad(_.extend(params, {
    items: options
  }))} onSelection={setSelectedValue.bind(this)} renderOption={renderOption.bind(this)} value={selectedValue} />;
}`,...(R=(O=u.parameters)==null?void 0:O.docs)==null?void 0:R.source}}};var x,V,k;m.parameters={...m.parameters,docs:{...(x=m.parameters)==null?void 0:x.docs,source:{originalSource:`() => {
  const multiple = boolean('Multiple', false);
  const [options, setOptions] = useState(colors);
  const [selectedValue, setSelectedValue] = useState(multiple ? ['Red'] : 'Red');
  return <RemoteDropdown allowAdditions={boolean('Allow additions', false)} collectionName='items' fluid={boolean('Fluid', false)} multiple={multiple} onAddItem={onAddItem.bind(this, options, setOptions)} onLoad={params => Api.onLoad(_.extend(params, {
    items: options
  }))} onSelection={setSelectedValue.bind(this)} renderOption={renderOption.bind(this)} value={selectedValue} />;
}`,...(k=(V=m.parameters)==null?void 0:V.docs)==null?void 0:k.source}}};var L,T,P;c.parameters={...c.parameters,docs:{...(L=c.parameters)==null?void 0:L.docs,source:{originalSource:`() => {
  const multiple = boolean('Multiple', false);
  const [options, setOptions] = useState(movies);
  const [selectedValue, setSelectedValue] = useState(multiple ? [] : '');
  return <RemoteDropdown allowAdditions={boolean('Allow additions', false)} collectionName='items' fluid={boolean('Fluid', false)} multiple={multiple} onAddItem={onAddItem.bind(this, options, setOptions)} onLoad={params => Api.onLoad(_.extend(params, {
    items: options
  }))} onSelection={setSelectedValue.bind(this)} renderOption={renderOption.bind(this)} value={selectedValue} />;
}`,...(P=(T=c.parameters)==null?void 0:T.docs)==null?void 0:P.source}}};var I,N,q;h.parameters={...h.parameters,docs:{...(I=h.parameters)==null?void 0:I.docs,source:{originalSource:`() => {
  const multiple = boolean('Multiple', false);
  const [options, setOptions] = useState(movies);
  const [selectedValue, setSelectedValue] = useState(multiple ? [] : '');
  return <RemoteDropdown allowAdditions={boolean('Allow additions', false)} collectionName='items' fluid={boolean('Fluid', false)} multiple={multiple} onAddItem={onAddItem.bind(this, options, setOptions)} onLoad={params => Api.onLoad(_.extend(params, {
    items: options,
    perPage: 10
  }))} onSelection={setSelectedValue.bind(this)} renderOption={renderOption.bind(this)} value={selectedValue} style={{
    width: 600
  }} />;
}`,...(q=(N=h.parameters)==null?void 0:N.docs)==null?void 0:q.source}}};const We=["Default","SelectedValue","LargeList","Pagination"];export{u as Default,c as LargeList,h as Pagination,m as SelectedValue,We as __namedExportsOrder,Fe as default};
