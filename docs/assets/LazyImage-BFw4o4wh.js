import{r as i,j as a}from"./iframe-Dxgww4-I.js";import{V as x,L as b}from"./LazyLoader-DEWzfdyZ.js";import{B as j}from"./Button-BAz5K2o3.js";import{I as z}from"./Icon-uY6W4AAl.js";import{I as c}from"./Label-C_-G-gvZ.js";import{L}from"./Loader-DBDGbu55.js";import{S as T}from"./Segment-uf13hpB-.js";import{D as f}from"./Dimmer-Ca1w9JQz.js";import{T as N}from"./Transition-DjAtuM_R.js";import{i as q}from"./i18n-DkobdbHY.js";import{D as I}from"./DownloadButton-C19Bs8jI.js";import{P as V}from"./PhotoViewer-DHnqcmo6.js";const g=e=>{const[w,r]=i.useState(!1),[n,l]=i.useState(!1),[t,o]=i.useState(!(e.src||e.preview)),[y,m]=i.useState(!1),[h,v]=i.useState(!1),d=i.useCallback((u=null)=>{const s=[];return u&&s.push(u),t||s.push("hidden"),e.className&&s.push(e.className),s.join(" ")},[t,e.className]);return h?a.jsxs(a.Fragment,{children:[a.jsx(N,{duration:e.duration,visible:!0,children:a.jsxs(f.Dimmable,{as:T,className:"lazy-image",compact:!0,onBlur:()=>r(!1),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[!t&&a.jsx(b,{active:!0,size:e.size}),!n&&(e.preview||e.src)&&a.jsx(c,{...e.image,className:d(),onError:()=>{l(!0),o(!0)},onLoad:()=>{l(!1),o(!0)},size:e.size,src:e.preview||e.src}),(n||!(e.preview||e.src))&&a.jsx(c,{...e.image,className:d("placeholder-image"),size:e.size,children:a.jsx(z,{name:"image",size:"big"})}),(e.src||e.children)&&e.dimmable&&a.jsx(f,{active:w,children:a.jsxs("div",{className:"buttons",children:[e.src&&a.jsx(j,{content:e.viewButtonLabel||q.t("LazyImage.buttons.view"),icon:"photo",onClick:()=>m(!0),primary:!0}),e.download&&a.jsx(I,{color:"green",filename:e.name,url:e.download}),e.children]})})]})}),e.src&&a.jsx(V,{image:e.src,onClose:()=>m(!1),open:y,size:"large"})]}):a.jsx(x,{as:"span",fireOnMount:!0,onTopVisible:()=>v(!0),children:a.jsx(L,{active:!0,inline:"centered",size:e.size})})};g.defaultProps={dimmable:!0,duration:1e3,size:"medium"};g.__docgenInfo={description:"",methods:[],displayName:"LazyImage",props:{children:{required:!1,flowType:{name:"Node"},description:""},className:{required:!1,flowType:{name:"string"},description:""},dimmable:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},download:{required:!1,flowType:{name:"string"},description:""},duration:{required:!1,flowType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}},image:{required:!1,flowType:{name:"any"},description:""},name:{required:!1,flowType:{name:"string"},description:""},preview:{required:!1,flowType:{name:"string"},description:""},size:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"'medium'",computed:!1}},src:{required:!1,flowType:{name:"string"},description:""},viewButtonLabel:{required:!1,flowType:{name:"string"},description:""}}};export{g as L};
