import{_ as x}from"./extends-CCbyfPlC.js";import{r as t}from"./iframe-vd5jUnmh.js";import{$ as w,a as I,b as S,c as y,d as E,e as D}from"./index-DKsOmCvY.js";import{$ as M}from"./index-j5I8gMq3.js";import{$ as q}from"./index-D605JuBE.js";const _="Checkbox",[B,G]=S(_),[O,A]=B(_),K=t.forwardRef((e,$)=>{const{__scopeCheckbox:o,name:s,checked:b,defaultChecked:n,required:u,disabled:d,value:i="on",onCheckedChange:p,...C}=e,[r,h]=t.useState(null),g=w($,c=>h(c)),m=t.useRef(!1),v=r?!!r.closest("form"):!0,[f=!1,k]=I({prop:b,defaultProp:n,onChange:p}),R=t.useRef(f);return t.useEffect(()=>{const c=r?.form;if(c){const l=()=>k(R.current);return c.addEventListener("reset",l),()=>c.removeEventListener("reset",l)}},[r,k]),t.createElement(O,{scope:o,state:f,disabled:d},t.createElement(y.button,x({type:"button",role:"checkbox","aria-checked":a(f)?"mixed":f,"aria-required":u,"data-state":P(f),"data-disabled":d?"":void 0,disabled:d,value:i},C,{ref:g,onKeyDown:E(e.onKeyDown,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:E(e.onClick,c=>{k(l=>a(l)?!0:!l),v&&(m.current=c.isPropagationStopped(),m.current||c.stopPropagation())})})),v&&t.createElement(H,{control:r,bubbles:!m.current,name:s,value:i,checked:f,required:u,disabled:d,style:{transform:"translateX(-100%)"}}))}),L="CheckboxIndicator",N=t.forwardRef((e,$)=>{const{__scopeCheckbox:o,forceMount:s,...b}=e,n=A(L,o);return t.createElement(D,{present:s||a(n.state)||n.state===!0},t.createElement(y.span,x({"data-state":P(n.state),"data-disabled":n.disabled?"":void 0},b,{ref:$,style:{pointerEvents:"none",...e.style}})))}),H=e=>{const{control:$,checked:o,bubbles:s=!0,...b}=e,n=t.useRef(null),u=M(o),d=q($);return t.useEffect(()=>{const i=n.current,p=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==o&&r){const h=new Event("click",{bubbles:s});i.indeterminate=a(o),r.call(i,a(o)?!1:o),i.dispatchEvent(h)}},[u,o,s]),t.createElement("input",x({type:"checkbox","aria-hidden":!0,defaultChecked:a(o)?!1:o},b,{tabIndex:-1,ref:n,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function a(e){return e==="indeterminate"}function P(e){return a(e)?"indeterminate":e?"checked":"unchecked"}const J=K,Q=N;export{J as $,Q as a};
