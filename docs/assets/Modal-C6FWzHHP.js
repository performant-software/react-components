import{_ as f}from"./extends-CCbyfPlC.js";import{_ as W}from"./inheritsLoose-1HkgTRWY.js";import{m as p,c as P,g as O,a as w,i as D,l as U,b as g,a7 as Z}from"./getElementType-Dbrg5pYk.js";import{s as ee,r as ne,p as te}from"./index-DY9fuINF.js";import{i as re}from"./includes-eGroWB-Q.js";import{i as oe}from"./isEmpty-9Dhr09Zy.js";import{R as u,r as L}from"./iframe-vd5jUnmh.js";import{M as ae}from"./ModernAutoControlledComponent-QVsiK7km.js";import{e as I}from"./index-BP6glIEM.js";import{i as x,a as j,R as $,d as q,P as z}from"./Portal-C6ILt24N.js";import{I as se}from"./Icon-DvprR8oi.js";import{m as ie}from"./map-uhZzoJ4W.js";import{B as ce}from"./Button-BDHbVLWx.js";var G=x()?u.useLayoutEffect:u.useEffect,le=/\s+/;function ue(n){var t=[];return n?(n.forEach(function(o){if(typeof o.current=="string"){var e=o.current.split(le);e.forEach(function(r){t.push(r)})}}),t.filter(function(o,e,r){return o.length>0&&r.indexOf(o)===e})):[]}function me(n,t){return[t.filter(function(o){return n.indexOf(o)===-1}),n.filter(function(o){return t.indexOf(o)===-1})]}var K=new Map,_=function(t,o){var e=ue(o),r=me(K.get(t)||[],e),c=r[0],l=r[1];t&&(c.forEach(function(a){return t.classList.add(a)}),l.forEach(function(a){return t.classList.remove(a)})),K.set(t,e)},de=function(){var t=this;this.add=function(o,e){if(t.nodes.has(o)){var r=t.nodes.get(o);r.add(e);return}var c=new Set;c.add(e),t.nodes.set(o,c)},this.del=function(o,e){if(t.nodes.has(o)){var r=t.nodes.get(o);if(r.size===1){t.nodes.delete(o);return}r.delete(e)}},this.emit=function(o,e){e(o,t.nodes.get(o))},this.nodes=new Map},b=new de;function fe(n,t){var o=u.useRef(),e=u.useRef(!1);G(function(){if(o.current=t,e.current){var r=j(n)?n.current:n;b.emit(r,_)}e.current=!0},[t]),G(function(){var r=j(n)?n.current:n;return b.add(r,o),b.emit(r,_),function(){b.del(r,o),b.emit(r,_)}},[n])}var M=function(n){W(t,n);function t(){for(var e,r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=n.call.apply(n,[this].concat(c))||this,e.handleButtonOverrides=function(a){return{onClick:function(i,m){p(a,"onClick",i,m),p(e.props,"onActionClick",i,m)}}},e}var o=t.prototype;return o.render=function(){var r=this,c=this.props,l=c.actions,a=c.children,s=c.className,i=c.content,m=P("actions",s),d=O(t,this.props),v=w(t,this.props);return D(a)?D(i)?u.createElement(v,f({},d,{className:m}),ie(l,function(h){return ce.create(h,{overrideProps:r.handleButtonOverrides})})):u.createElement(v,f({},d,{className:m}),i):u.createElement(v,f({},d,{className:m}),a)},t}(L.Component);M.handledProps=["actions","as","children","className","content","onActionClick"];M.propTypes={};M.create=U(M,function(n){return{actions:n}});function y(n){var t=n.children,o=n.className,e=n.content,r=n.image,c=n.scrolling,l=P(o,g(r,"image"),g(c,"scrolling"),"content"),a=O(y,n),s=w(y,n);return u.createElement(s,f({},a,{className:l}),D(t)?e:t)}y.handledProps=["as","children","className","content","image","scrolling"];y.propTypes={};y.create=U(y,function(n){return{content:n}});function k(n){var t=n.children,o=n.className,e=n.content,r=P("description",o),c=O(k,n),l=w(k,n);return u.createElement(l,f({},c,{className:r}),D(t)?e:t)}k.handledProps=["as","children","className","content"];k.propTypes={};function N(n){var t=n.blurring,o=n.children,e=n.className,r=n.centered,c=n.content,l=n.inverted,a=n.mountNode,s=n.scrolling,i=u.useRef(),m=P("ui",g(l,"inverted"),g(!r,"top aligned"),"page modals dimmer transition visible active",e),d=P("dimmable dimmed",g(t,"blurring"),g(s,"scrolling")),v=O(N,n),h=w(N,n);return fe(a,d),u.useEffect(function(){i.current&&i.current.style&&i.current.style.setProperty("display","flex","important")},[]),u.createElement($,{innerRef:i},u.createElement(h,f({},v,{className:m}),D(o)?c:o))}N.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"];N.propTypes={};N.create=U(N,function(n){return{content:n}});function E(n){var t=n.children,o=n.className,e=n.content,r=P("header",o),c=O(E,n),l=w(E,n);return u.createElement(l,f({},c,{className:r}),D(t)?e:t)}E.handledProps=["as","children","className","content"];E.propTypes={};E.create=U(E,function(n){return{content:n}});var X=0,ve=50,pe=function(t){var o=t.height+X,e=t.height+X,r=window.innerHeight,c=r/2,l=-(e/2),a=ve,s=c+l;return s+o+a<r},he=function(t,o,e){var r=o&&t?-(e.height/2):0,c=-(e.width/2);return{marginLeft:c,marginTop:r}},ge=function(){return!window.ActiveXObject&&"ActiveXObject"in window},C=function(n){W(t,n);function t(){for(var e,r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return e=n.call.apply(n,[this].concat(c))||this,e.legacy=x()&&ge(),e.ref=L.createRef(),e.dimmerRef=L.createRef(),e.latestDocumentMouseDownEvent=null,e.getMountNode=function(){return x()?e.props.mountNode||document.body:null},e.handleActionsOverrides=function(a){return{onActionClick:function(i,m){p(a,"onActionClick",i,m),p(e.props,"onActionClick",i,e.props),e.handleClose(i)}}},e.handleClose=function(a){e.setState({open:!1}),p(e.props,"onClose",a,f({},e.props,{open:!1}))},e.handleDocumentMouseDown=function(a){e.latestDocumentMouseDownEvent=a},e.handleDocumentClick=function(a){var s=e.props.closeOnDimmerClick,i=e.latestDocumentMouseDownEvent;e.latestDocumentMouseDownEvent=null,!(!s||q(e.ref.current,i)||q(e.ref.current,a))&&(e.setState({open:!1}),p(e.props,"onClose",a,f({},e.props,{open:!1})))},e.handleIconOverrides=function(a){return{onClick:function(i){p(a,"onClick",i),e.handleClose(i)}}},e.handleOpen=function(a){p(e.props,"onOpen",a,f({},e.props,{open:!0})),e.setState({open:!0})},e.handlePortalMount=function(a){var s=e.props.eventPool;e.setState({scrolling:!1}),e.setPositionAndClassNames(),I.sub("mousedown",e.handleDocumentMouseDown,{pool:s,target:e.dimmerRef.current}),I.sub("click",e.handleDocumentClick,{pool:s,target:e.dimmerRef.current}),p(e.props,"onMount",a,e.props)},e.handlePortalUnmount=function(a){var s=e.props.eventPool;cancelAnimationFrame(e.animationRequestId),I.unsub("mousedown",e.handleDocumentMouseDown,{pool:s,target:e.dimmerRef.current}),I.unsub("click",e.handleDocumentClick,{pool:s,target:e.dimmerRef.current}),p(e.props,"onUnmount",a,e.props)},e.setPositionAndClassNames=function(){var a=e.props.centered,s,i={};if(e.ref.current){var m=e.ref.current.getBoundingClientRect(),d=pe(m);s=!d;var v=e.legacy?he(d,a,m):{};ee(e.state.legacyStyles,v)||(i.legacyStyles=v),e.state.scrolling!==s&&(i.scrolling=s)}oe(i)||e.setState(i),e.animationRequestId=requestAnimationFrame(e.setPositionAndClassNames)},e.renderContent=function(a){var s=e.props,i=s.actions,m=s.basic,d=s.children,v=s.className,h=s.closeIcon,R=s.content,S=s.header,F=s.size,B=s.style,A=e.state,H=A.legacyStyles,T=A.scrolling,J=P("ui",F,g(m,"basic"),g(e.legacy,"legacy"),g(T,"scrolling"),"modal transition visible active",v),V=w(t,e.props),Q=h===!0?"close":h,Y=se.create(Q,{overrideProps:e.handleIconOverrides});return u.createElement($,{innerRef:e.ref},u.createElement(V,f({},a,{className:J,style:f({},H,B)}),Y,D(d)?u.createElement(u.Fragment,null,E.create(S,{autoGenerateKey:!1}),y.create(R,{autoGenerateKey:!1}),M.create(i,{overrideProps:e.handleActionsOverrides})):d))},e}var o=t.prototype;return o.componentWillUnmount=function(){this.handlePortalUnmount()},o.render=function(){var r=this.props,c=r.centered,l=r.closeOnDocumentClick,a=r.dimmer,s=r.eventPool,i=r.trigger,m=this.state,d=m.open,v=m.scrolling,h=this.getMountNode();if(!x())return L.isValidElement(i)?i:null;var R=O(t,this.props),S=z.handledProps,F=ne(R,function(A,H,T){return re(S,T)||(A[T]=H),A},{}),B=te(R,S);return u.createElement(z,f({closeOnDocumentClick:l},B,{trigger:i,eventPool:s,mountNode:h,open:d,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),u.createElement($,{innerRef:this.dimmerRef},N.create(Z(a)?a:{},{autoGenerateKey:!1,defaultProps:{blurring:a==="blurring",inverted:a==="inverted"},overrideProps:{children:this.renderContent(F),centered:c,mountNode:h,scrolling:v}})))},t}(ae);C.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"];C.propTypes={};C.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"};C.autoControlledProps=["open"];C.Actions=M;C.Content=y;C.Description=k;C.Dimmer=N;C.Header=E;export{C as M};
