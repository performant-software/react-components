import{j as a}from"./jsx-runtime-D9TvR9R2.js";import{r as i}from"./index-C0dDX-lL.js";import{V as j,L as x}from"./LazyLoader-DKbE7T5A.js";import{B as h}from"./Button-Dcib8V--.js";import{I as z}from"./Icon-BGzIEILD.js";import{I as u}from"./Label-BqnFaqey.js";import{L as q}from"./Loader-DQkWekFb.js";import{S as T}from"./Segment-CxFOEEcF.js";import{D as f}from"./Dimmer-kmE_IUk6.js";import{T as p}from"./Transition-Bkcp4SUV.js";import{i as L}from"./i18n-C9xJ7SCg.js";import{D as V}from"./DownloadButton-D3sda6tg.js";import{V as E}from"./VideoPlayer-BOL7Ffyd.js";const y=e=>{const[g,t]=i.useState(!1),[s,r]=i.useState(!1),[l,n]=i.useState(!(e.preview||e.src)),[w,m]=i.useState(!1),[b,v]=i.useState(!1),o=i.useCallback((c=null)=>{const d=[];return c&&d.push(c),l||d.push("hidden"),d.join(" ")},[l]);return b?a.jsxs(a.Fragment,{children:[a.jsx(p,{duration:e.duration,visible:!0,children:a.jsxs(f.Dimmable,{as:T,className:"lazy-video",compact:!0,onBlur:()=>t(!1),onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[!l&&a.jsx(x,{active:!0,size:e.size}),!s&&e.preview&&a.jsx(u,{...e.image,className:o(),onError:()=>{r(!0),n(!0)},onLoad:()=>{r(!1),n(!0)},src:e.preview,size:e.size}),!s&&!e.preview&&e.src&&a.jsx(u,{...e.image,className:o(),size:e.size,children:a.jsx("video",{onError:()=>{r(!0),n(!0)},onLoadedData:()=>{r(!1),n(!0)},src:e.src})}),(s||!e.preview&&!e.src)&&a.jsx(u,{...e.image,className:o("placeholder-image"),size:e.size,children:a.jsx(z,{name:"image",size:"big"})}),(e.src||e.children)&&e.dimmable&&a.jsx(f,{active:g,children:a.jsxs("div",{className:"buttons",children:[e.src&&a.jsx(h,{content:e.playButtonLabel||L.t("LazyVideo.buttons.play"),icon:"video",onClick:()=>m(!0),primary:!0}),e.download&&a.jsx(V,{color:"green",filename:e.name,url:e.download}),e.children]})})]})}),e.src&&a.jsx(E,{autoPlay:e.autoPlay,embedded:e.embedded,icon:e.icon,onClose:()=>m(!1),open:w,placeholder:e.preview,size:"large",transcriptions:e.transcriptions,video:e.src})]}):a.jsx(j,{as:"span",fireOnMount:!0,onTopVisible:()=>v(!0),children:a.jsx(q,{active:!0,inline:"centered",size:e.size})})};y.defaultProps={autoPlay:!1,dimmable:!0,duration:1e3,embedded:!1,icon:"right circle arrow",size:"medium"};y.__docgenInfo={description:"",methods:[],displayName:"LazyVideo",props:{autoPlay:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!1,flowType:{name:"Node"},description:""},dimmable:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},download:{required:!1,flowType:{name:"string"},description:""},duration:{required:!1,flowType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}},embedded:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},icon:{required:!1,flowType:{name:"union",raw:"string | Element<any>",elements:[{name:"string"},{name:"Element",elements:[{name:"any"}],raw:"Element<any>"}]},description:"",defaultValue:{value:"'right circle arrow'",computed:!1}},image:{required:!1,flowType:{name:"any"},description:""},name:{required:!1,flowType:{name:"string"},description:""},playButtonLabel:{required:!1,flowType:{name:"string"},description:""},preview:{required:!1,flowType:{name:"string",nullable:!0},description:""},size:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"'medium'",computed:!1}},src:{required:!1,flowType:{name:"string"},description:""},transcriptions:{required:!1,flowType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  default?: boolean,
  label: string,
  language: string,
  src: string
}`,signature:{properties:[{key:"default",value:{name:"boolean",required:!1}},{key:"label",value:{name:"string",required:!0}},{key:"language",value:{name:"string",required:!0}},{key:"src",value:{name:"string",required:!0}}]}}],raw:"Array<Transcription>"},description:""}}};export{y as L};
