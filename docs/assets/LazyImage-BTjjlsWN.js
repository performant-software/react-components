import{j as i}from"./jsx-runtime-BTCK_S7S.js";import{r as a}from"./index-CBqU2yxZ.js";import{V as j,L as z}from"./LazyLoader-D1S4_28m.js";import{B as v}from"./Button-BDcCO5f8.js";import{I as b}from"./Icon-2tEtgK8g.js";import{I as c}from"./Label-Cq1fb1cd.js";import{L}from"./Loader-CooidObp.js";import{S as T}from"./Segment-C5_maSSM.js";import{D as f}from"./Dimmer-D_gwaesu.js";import{T as q}from"./Transition-DSFEXhCu.js";import{i as p}from"./i18n-C8zWlANG.js";import{D as I}from"./DownloadButton-B5qnjgmD.js";import{P as N}from"./PhotoViewer-5dmCWOsk.js";const g=e=>{const[w,r]=a.useState(!1),[n,o]=a.useState(!1),[s,l]=a.useState(!(e.src||e.preview)),[x,m]=a.useState(!1),[y,h]=a.useState(!1),d=a.useCallback((u=null)=>{const t=[];return u&&t.push(u),s||t.push("hidden"),t.join(" ")},[s]);return y?i.jsxs(i.Fragment,{children:[i.jsx(q,{duration:e.duration,visible:!0,children:i.jsxs(f.Dimmable,{as:T,className:"lazy-image",compact:!0,onBlur:()=>r(!1),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[!s&&i.jsx(z,{active:!0,size:e.size}),!n&&(e.preview||e.src)&&i.jsx(c,{...e.image,className:d(),onError:()=>{o(!0),l(!0)},onLoad:()=>{o(!1),l(!0)},size:e.size,src:e.preview||e.src}),(n||!(e.preview||e.src))&&i.jsx(c,{...e.image,className:d("placeholder-image"),size:e.size,children:i.jsx(b,{name:"image",size:"big"})}),(e.src||e.children)&&e.dimmable&&i.jsx(f,{active:w,children:i.jsxs("div",{className:"buttons",children:[e.src&&i.jsx(v,{content:p.t("LazyImage.buttons.view"),icon:"photo",onClick:()=>m(!0),primary:!0}),e.download&&i.jsx(I,{color:"green",filename:e.name,url:e.download}),e.children]})})]})}),e.src&&i.jsx(N,{image:e.src,onClose:()=>m(!1),open:x,size:"large"})]}):i.jsx(j,{as:"span",fireOnMount:!0,onTopVisible:()=>h(!0),children:i.jsx(L,{active:!0,inline:"centered",size:e.size})})};g.defaultProps={dimmable:!0,duration:1e3,size:"medium"};g.__docgenInfo={description:"",methods:[],displayName:"LazyImage",props:{children:{required:!1,flowType:{name:"Node"},description:""},dimmable:{required:!1,flowType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},download:{required:!1,flowType:{name:"string"},description:""},duration:{required:!1,flowType:{name:"number"},description:"",defaultValue:{value:"1000",computed:!1}},image:{required:!1,flowType:{name:"any"},description:""},name:{required:!1,flowType:{name:"string"},description:""},preview:{required:!1,flowType:{name:"string"},description:""},size:{required:!1,flowType:{name:"string"},description:"",defaultValue:{value:"'medium'",computed:!1}},src:{required:!1,flowType:{name:"string"},description:""}}};export{g as L};
