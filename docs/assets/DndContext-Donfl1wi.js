import{r as ge}from"./index-C0dDX-lL.js";var h;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(h||(h={}));function d(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var G=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_=function(){return Math.random().toString(36).substring(7).split("").join(".")},L={INIT:"@@redux/INIT"+_(),REPLACE:"@@redux/REPLACE"+_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+_()}};function de(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function ae(e,r,t){var n;if(typeof r=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof r=="function"&&typeof t>"u"&&(t=r,r=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(d(1));return t(ae)(e,r)}if(typeof e!="function")throw new Error(d(2));var i=e,a=r,o=[],u=o,f=!1;function c(){u===o&&(u=o.slice())}function l(){if(f)throw new Error(d(3));return a}function v(g){if(typeof g!="function")throw new Error(d(4));if(f)throw new Error(d(5));var O=!0;return c(),u.push(g),function(){if(O){if(f)throw new Error(d(6));O=!1,c();var y=u.indexOf(g);u.splice(y,1),o=null}}}function b(g){if(!de(g))throw new Error(d(7));if(typeof g.type>"u")throw new Error(d(8));if(f)throw new Error(d(9));try{f=!0,a=i(a,g)}finally{f=!1}for(var O=o=u,m=0;m<O.length;m++){var y=O[m];y()}return g}function S(g){if(typeof g!="function")throw new Error(d(10));i=g,b({type:L.REPLACE})}function P(){var g,O=v;return g={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(d(11));function H(){y.next&&y.next(l())}H();var le=O(H);return{unsubscribe:le}}},g[G]=function(){return this},g}return b({type:L.INIT}),n={dispatch:b,subscribe:v,getState:l,replaceReducer:S},n[G]=P,n}function s(e,r){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];if(!e){var a;if(r===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;a=new Error(r.replace(/%s/g,function(){return n[o++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}var j="dnd-core/INIT_COORDS",w="dnd-core/BEGIN_DRAG",$="dnd-core/PUBLISH_DRAG_SOURCE",I="dnd-core/HOVER",C="dnd-core/DROP",R="dnd-core/END_DRAG";function B(e,r){return{type:j,payload:{sourceClientOffset:r||null,clientOffset:e||null}}}function T(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(t){return typeof t}:T=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(e)}function pe(e,r,t){return r.split(".").reduce(function(n,i){return n&&n[i]?n[i]:t||null},e)}function he(e,r){return e.filter(function(t){return t!==r})}function oe(e){return T(e)==="object"}function ve(e,r){var t=new Map,n=function(o){t.set(o,t.has(o)?t.get(o)+1:1)};e.forEach(n),r.forEach(n);var i=[];return t.forEach(function(a,o){a===1&&i.push(o)}),i}function ye(e,r){return e.filter(function(t){return r.indexOf(t)>-1})}var Oe={type:j,payload:{clientOffset:null,sourceClientOffset:null}};function be(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,a=i===void 0?!0:i,o=n.clientOffset,u=n.getSourceClientOffset,f=e.getMonitor(),c=e.getRegistry();e.dispatch(B(o)),me(t,f,c);var l=De(t,f);if(l===null){e.dispatch(Oe);return}var v=null;if(o){if(!u)throw new Error("getSourceClientOffset must be defined");Se(u),v=u(l)}e.dispatch(B(o,v));var b=c.getSource(l),S=b.beginDrag(f,l);Te(S),c.pinSource(l);var P=c.getSourceType(l);return{type:w,payload:{itemType:P,item:S,sourceId:l,clientOffset:o||null,sourceClientOffset:v||null,isSourcePublic:!!a}}}}function me(e,r,t){s(!r.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){s(t.getSource(n),"Expected sourceIds to be registered.")})}function Se(e){s(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Te(e){s(oe(e),"Item must be an object.")}function De(e,r){for(var t=null,n=e.length-1;n>=0;n--)if(r.canDragSource(e[n])){t=e[n];break}return t}function Ee(e){return function(){var t=e.getMonitor();if(t.isDragging())return{type:$}}}function k(e,r){return r===null?e===null:Array.isArray(e)?e.some(function(t){return t===r}):e===r}function we(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;Ie(t);var a=t.slice(0),o=e.getMonitor(),u=e.getRegistry();Ce(a,o,u);var f=o.getItemType();return Re(a,u,f),xe(a,o,u),{type:I,payload:{targetIds:a,clientOffset:i||null}}}}function Ie(e){s(Array.isArray(e),"Expected targetIds to be an array.")}function Ce(e,r,t){s(r.isDragging(),"Cannot call hover while not dragging."),s(!r.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var i=e[n];s(e.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var a=t.getTarget(i);s(a,"Expected targetIds to be registered.")}}function Re(e,r,t){for(var n=e.length-1;n>=0;n--){var i=e[n],a=r.getTargetType(i);k(a,t)||e.splice(n,1)}}function xe(e,r,t){e.forEach(function(n){var i=t.getTarget(n);i.hover(r,n)})}function F(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function V(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?F(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Pe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _e(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),i=e.getRegistry();ke(n);var a=$e(n);a.forEach(function(o,u){var f=Ae(o,u,i,n),c={type:C,payload:{dropResult:V(V({},t),f)}};e.dispatch(c)})}}function ke(e){s(e.isDragging(),"Cannot call drop while not dragging."),s(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ae(e,r,t,n){var i=t.getTarget(e),a=i?i.drop(n,e):void 0;return je(a),typeof a>"u"&&(a=r===0?{}:n.getDropResult()),a}function je(e){s(typeof e>"u"||oe(e),"Drop result must either be an object or undefined.")}function $e(e){var r=e.getTargetIds().filter(e.canDropOnTarget,e);return r.reverse(),r}function Me(e){return function(){var t=e.getMonitor(),n=e.getRegistry();Ne(t);var i=t.getSourceId();if(i!=null){var a=n.getSource(i,!0);a.endDrag(t,i),n.unpinSource()}return{type:R}}}function Ne(e){s(e.isDragging(),"Cannot call endDrag while not dragging.")}function Ue(e){return{beginDrag:be(e),publishDragSource:Ee(e),hover:we(e),drop:_e(e),endDrag:Me(e)}}var qe=function(r,t){return r===t};function He(e,r){return!e&&!r?!0:!e||!r?!1:e.x===r.x&&e.y===r.y}function Ge(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qe;if(e.length!==r.length)return!1;for(var n=0;n<e.length;++n)if(!t(e[n],r[n]))return!1;return!0}function K(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function W(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?K(Object(t),!0).forEach(function(n){Le(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Le(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Q={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Be(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case j:case w:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case I:return He(e.clientOffset,t.clientOffset)?e:W(W({},e),{},{clientOffset:t.clientOffset});case R:case C:return Q;default:return e}}var M="dnd-core/ADD_SOURCE",N="dnd-core/ADD_TARGET",U="dnd-core/REMOVE_SOURCE",x="dnd-core/REMOVE_TARGET";function Fe(e){return{type:M,payload:{sourceId:e}}}function Ve(e){return{type:N,payload:{targetId:e}}}function Ke(e){return{type:U,payload:{sourceId:e}}}function We(e){return{type:x,payload:{targetId:e}}}function X(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?X(Object(t),!0).forEach(function(n){Qe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Qe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Xe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ze(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xe,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case w:return p(p({},e),{},{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case $:return p(p({},e),{},{isSourcePublic:!0});case I:return p(p({},e),{},{targetIds:t.targetIds});case x:return e.targetIds.indexOf(t.targetId)===-1?e:p(p({},e),{},{targetIds:he(e.targetIds,t.targetId)});case C:return p(p({},e),{},{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case R:return p(p({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Je(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case M:case N:return e+1;case U:case x:return e-1;default:return e}}var E=[],q=[];E.__IS_NONE__=!0;q.__IS_ALL__=!0;function Ye(e,r){if(e===E)return!1;if(e===q||typeof r>"u")return!0;var t=ye(r,e);return t.length>0}function Ze(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I:break;case M:case N:case x:case U:return E;case w:case $:case R:case C:default:return q}var r=e.payload,t=r.targetIds,n=t===void 0?[]:t,i=r.prevTargetIds,a=i===void 0?[]:i,o=ve(n,a),u=o.length>0||!Ge(n,a);if(!u)return E;var f=a[a.length-1],c=n[n.length-1];return f!==c&&(f&&o.push(f),c&&o.push(c)),o}function et(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function J(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?z(Object(t),!0).forEach(function(n){tt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function tt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function rt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Ze(e.dirtyHandlerIds,{type:r.type,payload:J(J({},r.payload),{},{prevTargetIds:pe(e,"dragOperation.targetIds",[])})}),dragOffset:Be(e.dragOffset,r),refCount:Je(e.refCount,r),dragOperation:ze(e.dragOperation,r),stateId:et(e.stateId)}}function nt(e,r){return{x:e.x+r.x,y:e.y+r.y}}function ue(e,r){return{x:e.x-r.x,y:e.y-r.y}}function it(e){var r=e.clientOffset,t=e.initialClientOffset,n=e.initialSourceClientOffset;return!r||!t||!n?null:ue(nt(r,n),t)}function at(e){var r=e.clientOffset,t=e.initialClientOffset;return!r||!t?null:ue(r,t)}function ot(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ut(e,r,t){return r&&Y(e.prototype,r),t&&Y(e,t),e}var st=function(){function e(r,t){ot(this,e),this.store=r,this.registry=t}return ut(e,[{key:"subscribeToStateChange",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},a=i.handlerIds;s(typeof t=="function","listener must be a function."),s(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,u=function(){var c=n.store.getState(),l=c.stateId;try{var v=l===o||l===o+1&&!Ye(c.dirtyHandlerIds,a);v||t()}finally{o=l}};return this.store.subscribe(u)}},{key:"subscribeToOffsetChange",value:function(t){var n=this;s(typeof t=="function","listener must be a function.");var i=this.store.getState().dragOffset,a=function(){var u=n.store.getState().dragOffset;u!==i&&(i=u,t())};return this.store.subscribe(a)}},{key:"canDragSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t);return s(n,"Expected to find a valid source."),this.isDragging()?!1:n.canDrag(this,t)}},{key:"canDropOnTarget",value:function(t){if(!t)return!1;var n=this.registry.getTarget(t);if(s(n,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(t),a=this.getItemType();return k(i,a)&&n.canDrop(this,t)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t,!0);if(s(n,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(t),a=this.getItemType();return i!==a?!1:n.isDragging(this,t)}},{key:"isOverTarget",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!t)return!1;var i=n.shallow;if(!this.isDragging())return!1;var a=this.registry.getTargetType(t),o=this.getItemType();if(o&&!k(a,o))return!1;var u=this.getTargetIds();if(!u.length)return!1;var f=u.indexOf(t);return i?f===u.length-1:f>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return it(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return at(this.store.getState().dragOffset)}}]),e}(),ft=0;function ct(){return ft++}function D(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(t){return typeof t}:D=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(e)}function lt(e){s(typeof e.canDrag=="function","Expected canDrag to be a function."),s(typeof e.beginDrag=="function","Expected beginDrag to be a function."),s(typeof e.endDrag=="function","Expected endDrag to be a function.")}function gt(e){s(typeof e.canDrop=="function","Expected canDrop to be a function."),s(typeof e.hover=="function","Expected hover to be a function."),s(typeof e.drop=="function","Expected beginDrag to be a function.")}function A(e,r){if(r&&Array.isArray(e)){e.forEach(function(t){return A(t,!1)});return}s(typeof e=="string"||D(e)==="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const Z=typeof global<"u"?global:self,se=Z.MutationObserver||Z.WebKitMutationObserver;function fe(e){return function(){const t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}function dt(e){let r=1;const t=new se(e),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){r=-r,n.data=r}}const pt=typeof se=="function"?dt:fe;class ht{enqueueTask(r){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const t=this.index;if(this.index++,r[t].call(),this.index>this.capacity){for(let n=0,i=r.length-this.index;n<i;n++)r[n]=r[n+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=pt(this.flush),this.requestErrorThrow=fe(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class vt{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,t){this.onError=r,this.release=t,this.task=null}}class yt{create(r){const t=this.freeTasks,n=t.length?t.pop():new vt(this.onError,i=>t[t.length]=i);return n.task=r,n}constructor(r){this.onError=r,this.freeTasks=[]}}const ce=new ht,Ot=new yt(ce.registerPendingError);function bt(e){ce.enqueueTask(Ot.create(e))}function mt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ee(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function St(e,r,t){return r&&ee(e.prototype,r),t&&ee(e,t),e}function Tt(e,r){return It(e)||wt(e,r)||Et(e,r)||Dt()}function Dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(e,r){if(e){if(typeof e=="string")return te(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return te(e,r)}}function te(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function wt(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(f){i=!0,a=f}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return t}}function It(e){if(Array.isArray(e))return e}function Ct(e){var r=ct().toString();switch(e){case h.SOURCE:return"S".concat(r);case h.TARGET:return"T".concat(r);default:throw new Error("Unknown Handler Role: ".concat(e))}}function re(e){switch(e[0]){case"S":return h.SOURCE;case"T":return h.TARGET;default:s(!1,"Cannot parse handler ID: ".concat(e))}}function ne(e,r){var t=e.entries(),n=!1;do{var i=t.next(),a=i.done,o=Tt(i.value,2),u=o[1];if(u===r)return!0;n=!!a}while(!n);return!1}var Rt=function(){function e(r){mt(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}return St(e,[{key:"addSource",value:function(t,n){A(t),lt(n);var i=this.addHandler(h.SOURCE,t,n);return this.store.dispatch(Fe(i)),i}},{key:"addTarget",value:function(t,n){A(t,!0),gt(n);var i=this.addHandler(h.TARGET,t,n);return this.store.dispatch(Ve(i)),i}},{key:"containsHandler",value:function(t){return ne(this.dragSources,t)||ne(this.dropTargets,t)}},{key:"getSource",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;s(this.isSourceId(t),"Expected a valid source ID.");var i=n&&t===this.pinnedSourceId,a=i?this.pinnedSource:this.dragSources.get(t);return a}},{key:"getTarget",value:function(t){return s(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}},{key:"getSourceType",value:function(t){return s(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}},{key:"getTargetType",value:function(t){return s(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}},{key:"isSourceId",value:function(t){var n=re(t);return n===h.SOURCE}},{key:"isTargetId",value:function(t){var n=re(t);return n===h.TARGET}},{key:"removeSource",value:function(t){var n=this;s(this.getSource(t),"Expected an existing source."),this.store.dispatch(Ke(t)),bt(function(){n.dragSources.delete(t),n.types.delete(t)})}},{key:"removeTarget",value:function(t){s(this.getTarget(t),"Expected an existing target."),this.store.dispatch(We(t)),this.dropTargets.delete(t),this.types.delete(t)}},{key:"pinSource",value:function(t){var n=this.getSource(t);s(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}},{key:"unpinSource",value:function(){s(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(t,n,i){var a=Ct(t);return this.types.set(a,n),t===h.SOURCE?this.dragSources.set(a,i):t===h.TARGET&&this.dropTargets.set(a,i),a}}]),e}();function xt(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ie(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pt(e,r,t){return r&&ie(e.prototype,r),t&&ie(e,t),e}function _t(e){var r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return ae(rt,e&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}var kt=function(){function e(){var r=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;xt(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var i=r.store.getState().refCount>0;r.backend&&(i&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!i&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))};var n=_t(t);this.store=n,this.monitor=new st(n,new Rt(n)),n.subscribe(this.handleRefCountChange)}return Pt(e,[{key:"receiveBackend",value:function(t){this.backend=t}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var t=this,n=this.store.dispatch;function i(o){return function(){for(var u=arguments.length,f=new Array(u),c=0;c<u;c++)f[c]=arguments[c];var l=o.apply(t,f);typeof l<"u"&&n(l)}}var a=Ue(this);return Object.keys(a).reduce(function(o,u){var f=a[u];return o[u]=i(f),o},{})}},{key:"dispatch",value:function(t){this.store.dispatch(t)}}]),e}();function At(e,r,t,n){var i=new kt(n),a=e(i,r,t);return i.receiveBackend(a),i}var $t=ge.createContext({dragDropManager:void 0});function Mt(e,r,t,n){return{dragDropManager:At(e,r,t,n)}}export{$t as D,Mt as c,s as i};
